<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="Êï∞ÊçÆÂ∫ìÂÆûÈ™å
‰∏Ä„ÄÅÂÆûËÆ≠1 Êï∞ÊçÆÂ∫ì„ÄÅË°®‰∏éÂÆåÊï¥ÊÄßÁ∫¶ÊùüÁöÑÂÆö‰πâ(Create)
1.1 ÂàõÂª∫Êï∞ÊçÆÂ∫ì
ÂàõÂª∫2022Âπ¥Âåó‰∫¨ÂÜ¨Â••‰ºö‰ø°ÊÅØÁ≥ªÁªüÊï∞ÊçÆÂ∫ì
-- Êú¨ÂÖ≥Êàë‰ª¨Âº∫ÁÉàÂª∫ËÆÆ‰Ω†ÁÇπÂáªÊú¨ÁºñËæëÁ™óÂè£‰∏äÊñπÁöÑ‚ÄúÂëΩ‰ª§Ë°å‚ÄùËèúÂçïÊâìÂºÄLinuxÁöÑÂëΩ‰ª§Ë°åÔºå
-- Âπ∂ÈÄöËøámysqlÂëΩ‰ª§..." />
    <meta name="keywords" content="mysql,java" />
    <link rel="stylesheet" href="https://2006wzt.github.io/media/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://2006wzt.github.io/styles/main.css">
    <!-- ‰ª£Á†ÅÊ∏≤ÊüìÈ£éÊ†ºcss -->
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/dracula.min.css">
    
    <!-- ‰ª£Á†ÅÈ´ò‰∫ÆÊèí‰ª∂ -->
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>
    <!-- ‰ª£Á†ÅÂ§çÂà∂Êèí‰ª∂ -->
    <script src="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/js/clipboard.min.js"></script>
    <!-- live2dÊèí‰ª∂ -->
    <link rel="stylesheet" href="https://2006wzt.github.io/media/css/live2d.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
    <!-- ÊúÄÊñ∞ÁâàÊú¨ÁöÑ Bootstrap Ê†∏ÂøÉ CSS Êñá‰ª∂ -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <!-- Êï∞Â≠¶ÂÖ¨Âºè -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css"
        integrity="sha384-9tPv11A+glH/on/wEu99NVwDPwkMQESOocs/ZGXPoIiLE8MU/qkqUcZ3zzL+6DuH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.js"
        integrity="sha384-U8Vrjwb8fuHMt6ewaCy8uqeUXv4oitYACKdB0VziCerzt011iQ/0TqlSlv8MReCm" crossorigin="anonymous">
        </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/contrib/auto-render.min.js"
        integrity="sha384-aGfk5kvhIq5x1x5YdvCp4upKZYnA8ckafviDpmWEKp4afOZEqOli7gqSnh8I6enH" crossorigin="anonymous">
        </script>
    <script>
        renderMathInElement(document.body, {
            delimiters: [{
                left: "$$",
                right: "$$",
                display: true
            },
            {
                left: "$",
                right: "$",
                display: false
            }
            ]
        });
    </script>
    
    <title>Êï∞ÊçÆÂ∫ìÁ≥ªÁªüÂÆûÈ™å</title>

    <!-- Â§ßÁ∫≤Á¥¢ÂºïcssË∞ÉÊï¥ -->
    
    <style>
        .markdownIt-TOC {
            margin-left: 28%;
            padding-left: 2px;
            width: 80%;
        }

        .markdownIt-TOC li {
            padding-left: 8%;
        }
    </style>
    
</head>

<body>
    <div id="landlord">
        <div class="message" style="opacity:0"></div>
        <canvas id="live2d" width="240" height="250" class="live2d"></canvas>
    </div>
    <div id="domainname" style="display:none">https://2006wzt.github.io</div>
    <div id="content">
        <div>
            <!----------- ÁßªÂä®Á´ØÂØºËà™Ê†èüëá ----------------->
            <div id="bar">
                <style>
  .navmobile {
    z-index: 15;
    max-height: 40vh;
    overflow-y: scroll;
    overflow-x: hidden;
  }

  @media screen and (max-width: 1200px) {
    .navbar {
      max-width: 100vw;
    }
  }

  @media screen and (max-width:1200px) and (min-width: 768px) {
    @media (min-width: 768px) {
      .navbar-nav {
        float: right;
        margin: 0;
      }
    }
  }

  @media screen and (max-width:768px) {
    .mbapspan {
      padding: 0;
    }
  }
</style>
<div class="pjaxloading"  onclick="pjaxloadingClose()">
  <div class="loadingbackground"></div>
  <div id="loading">
    <div class="loading">
    </div>
  </div>
</div>
<nav class="navbar navbar-inverse navbar-fixed-top navmobile">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#barmenu"
        aria-expanded="false" id="barbutton">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a data-pjax class="navbar-brand" style="color:white" href="https://2006wzt.github.io">My Brain&nbsp;&nbsp;|</a>
      <span class="navbar-brand mbapspan"><i id="mbaplayer" class="fa fa-play-circle-o" aria-hidden="true"
          style="font-size: 28px;top: 12px;position: absolute;" onclick="aplayerPlay();"></i></span>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="barmenu">
      <ul class="nav navbar-nav">
        
        
        <li>
          <a data-pjax href="/" style="color:white">
            È¶ñÈ°µ
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="/archives" style="color:white">
            ÂΩíÊ°£
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="/tags" style="color:white">
            Ê†áÁ≠æ
          </a>
        </li>
        
        
        
        <li>
          <a data-pjax href="/post/about" style="color:white">
            ÂÖ≥‰∫é
          </a>
        </li>
        
        
        
        
          
        <li><a data-pjax href="https://2006wzt.github.io/friends" style="color:white">ÂèãÈìæ</a></li>

        
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>


  <!-- ÂºïÂÖ•jQueryÊ†∏ÂøÉjsÊñá‰ª∂ -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
  <script>
    let btstate = false;
    var bt = $("#barbutton");
    var bm = $("#barmenu");
    bt.click(function () {
      dropdown();
    })
    function dropdown() {
      console.log(btstate);
      //‰∏ãÊãâ
      if (btstate == false) {
        bt.removeClass("collapsed");
        bt.attr("aria-expanded", "true");
        bm.attr("aria-expanded", "true")
        bm.fadeIn(700);
        btstate = true;
      }
      else {
        bt.addClass("collapsed");
        bt.attr("aria-expanded", "false");
        bm.removeClass("in");
        bm.hide();
        bm.attr("aria-expanded", "false");
        btstate = false;
      }
    }
  </script> 
            </div>
            <!----------- ÁßªÂä®Á´ØÂØºËà™Ê†èüëÜ ----------------->

            <!--------------- pcÁ´ØËèúÂçïÊ†èüëá ---------------->
            <div class="side"><head>
    <link rel="stylesheet" href="https://2006wzt.github.io/media/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://2006wzt.github.io/styles/main.css">
    
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/styles/dracula.min.css">
    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.1/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/js/clipboard.min.js"></script>
    <link rel="stylesheet" href="https://2006wzt.github.io/media/css/live2d.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <!-- ÊúÄÊñ∞ÁâàÊú¨ÁöÑ Bootstrap Ê†∏ÂøÉ CSS Êñá‰ª∂ -->
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- fancybox -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


    <!--------- Êï∞Â≠¶ÂÖ¨Âºèüëá---- -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.css"
        integrity="sha384-9tPv11A+glH/on/wEu99NVwDPwkMQESOocs/ZGXPoIiLE8MU/qkqUcZ3zzL+6DuH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/katex.min.js"
        integrity="sha384-U8Vrjwb8fuHMt6ewaCy8uqeUXv4oitYACKdB0VziCerzt011iQ/0TqlSlv8MReCm" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.10.0-beta/dist/contrib/auto-render.min.js"
        integrity="sha384-aGfk5kvhIq5x1x5YdvCp4upKZYnA8ckafviDpmWEKp4afOZEqOli7gqSnh8I6enH" crossorigin="anonymous">
    </script>
    <script>
        renderMathInElement(document.body, {
            delimiters: [{
                    left: "$$",
                    right: "$$",
                    display: true
                },
                {
                    left: "$",
                    right: "$",
                    display: false
                }
            ]
        });
    </script>
    
    <!--------- Êï∞Â≠¶ÂÖ¨ÂºèüëÜ----------------- -->
    <!--------- daovocieÂäüËÉΩüëá ------------------->
    
    <!--------- daovocieÂäüËÉΩüëÜ ------------------->
    <!-- -----------------twikooËØÑËÆ∫Á≥ªÁªüÂºïÂÖ•üëá --------->
    <script src="https://cdn.jsdelivr.net/npm/twikoo@1.3.1/dist/twikoo.all.min.js"></script>
    <!-- -----------------twikooËØÑËÆ∫Á≥ªÁªüÂºïÂÖ•üëÜ --------->
    <!---------------- leancloud api ÂäüËÉΩ‰æùËµñÂºïÂÖ•üëá -------->
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.13.0/dist/av-min.js"></script>
    <!---------------- leancloud api ÂäüËÉΩ‰æùËµñÂºïÂÖ•üëÜ -------->
    <!------------------ valineËØÑËÆ∫Á≥ªÁªüÂºïÂÖ•üëá ------------------>
    <script src="https://2006wzt.github.io/media/js/valine.min.js"></script>
    <!------------------ valineËØÑËÆ∫Á≥ªÁªüÂºïÂÖ•üëÜ ------------------>
    <!---------------- ‰ªäÊó•ËØóËØçapiÂäüËÉΩ‰æùËµñüëá ----------------------->
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <!---------------- ‰ªäÊó•ËØóËØçapiÂäüËÉΩ‰æùËµñüëÜ ----------------------->
    <!---------------- ‰ªäÊó•ËØóËØçapiÂäüËÉΩ‰æùËµñüëá ----------------------->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/ispeak-bber/ispeak-bber.min.js" charset="utf-8"></script>
    <!---------------- ÂìîÂìîÂäüËÉΩ‰æùËµñüëÜ ----------------------->


</head>

<style>
    body {
        overflow-x: hidden;
        height: 100vh;
        overflow-y: scroll;
        cursor: url("https://2006wzt.github.io/media/images/mouse_cursor.png"), auto
    }
</style>

<body>
    <!--=------ È°µÈù¢Âä†ËΩΩÂä®ÊÄÅÁîªÈù¢üëá --------------->
    <div class="pjaxloading" onclick="pjaxloadingClose()">
        <div class="loadingbackground"></div>
        <div id="loading-aname">
            <div class="loading-aname">
            </div>
        </div>
    </div>
    <!--=------ È°µÈù¢Âä†ËΩΩÂä®ÊÄÅÁîªÈù¢üëÜ --------------->

    <!--------------- Â∑¶‰æßËèúÂçïÊ†èüëá ------------------------>
    
    <div id=side>
        <div class="r_m_div">
            <a onclick="showAaplayer()"><i style="font-size: 20px;"><img
                        src='https://2006wzt.github.io/media/images/music.png' alt="Èü≥‰πêÊí≠ÊîæÂô®" class="musicbtn"></i></a>
        </div>
        <div class="avatar-border">
            <img src="https://2006wzt.github.io/images/avatar.png?v=1668391733932" class="avatar">
        </div>
        <div class="sitename">My Brain</div>
        <span class="description" data-text='["There is no end to learning. "]'>&nbsp;</span>
        <div class="siteinfocontainer">
            <span class="siteinfo">ÊñáÁ´†</span>
            <span class="siteinfo">Ê†áÁ≠æ</span>
        </div>
        <div class="siteinfocontainer">
            <span class="siteinfo" id="siteinfo-postsnum"></span>
            <span class="siteinfo">7</span>
        </div>
        
        <div class="search">
            <!-- <input type="text" class="search-input" placeholder="Ê†áÈ¢òÊêúÁ¥¢(‚óè'‚ó°'‚óè)" /> -->
            <input type="text" class="search-input" placeholder="Ê†áÈ¢òÊêúÁ¥¢ ‚öÜ_‚öÜ „Å§‚ô°">
            <div class="search-results"></div>
        </div>
        
    <div class="share-button">
        <span>Know meüòä</span>
        
        <a href="https://github.com/2006wzt" target="_blank"><i style="font-size: 20px;"><img class="icon"
                    src="https://2006wzt.github.io/media/images/github.png" alt=""></i></a>
        
        
        <a onclick="showqq()"><i style="font-size: 20px;"><img class="icon"
                    src="https://2006wzt.github.io/media/images/QQ.png" alt=""></i></a>
        
        
        
        <a href="https://space.bilibili.com/662167120" target="_blank"><i style="font-size: 20px;"><img class="icon"
                    src="https://2006wzt.github.io/media/images/bilibili.png" alt=""></i></a>
        
        
        
        
        
    </div>
    <div id="qq" style="display:none">1335287851</div>
    <!------------ Âä†ËΩΩËèúÂçïÊåâÈíÆüëá ------------------------->
    <div class="menucontainer">
        
        
        <div class="mchocie description">
            <a data-pjax href="/" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="È¶ñÈ°µ"></i>&nbsp;<span
                    data-text="È¶ñÈ°µ">È¶ñÈ°µ</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="/archives" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="ÂΩíÊ°£"></i>&nbsp;<span
                    data-text="ÂΩíÊ°£">ÂΩíÊ°£</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="/tags" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="Ê†áÁ≠æ"></i>&nbsp;<span
                    data-text="Ê†áÁ≠æ">Ê†áÁ≠æ</span>
            </a>
        </div>
        
        
        
        <div class="mchocie description">
            <a data-pjax href="/post/about" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="ÂÖ≥‰∫é"></i>&nbsp;<span
                    data-text="ÂÖ≥‰∫é">ÂÖ≥‰∫é</span>
            </a>
        </div>
        
        

        
        
        
        <div class="mchocie description">
            <a data-pjax href="https://2006wzt.github.io/friends" class="menubutton" style="margin-right: 15px;">
                <i><img class="icon menuicon" src="" alt="Âèã‰∫∫Â∏ê"></i>&nbsp;<span data-text="Âèã‰∫∫Â∏ê">Âèã‰∫∫Â∏ê</span>
            </a>
        </div>
        
        <!--  -->
    </div>
    <!------------ Âä†ËΩΩËèúÂçïÊåâÈíÆüëÜ ------------------------->
    <hr>
    <style>
    .copyright {
        font-size: 15px;
        color: #d9d9d9;
    }


    @media screen and (min-width: 1200px) {
        .foot {
            width: 100%;
            height: 130px;
        }
    }

    @media screen and (max-width: 1200px) {
        .foot {
            display: none;
        }
    }
</style>

<body>
    <div class="foot">
        <div id="footinfo">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | Theme: <a
                href="https://github.com/850552586/gridea-theme-fog">Fog</a>
            <div>
                
                <div id="sitegotimeDate">ËΩΩÂÖ•Â§©Êï∞...</div>
                <div id="sitegotimes">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</div>
                <div id="cussitetime" style="display:none">07/18/2022</div>
                
            </div>
            <div>
                
            </div>
            <div class="copyright" style="color:white;text-align: center;">
            </div>
        </div>



    </div>
</body>

<script>
    //----------------------Á´ôÁÇπËøêË°åÊó∂Èó¥
    var now = new Date();

    function createtime() {
        var sitegotime = document.getElementById("cussitetime").innerHTML + " 00:00:00";
        var grt = new Date(sitegotime); //Ê≠§Â§Ñ‰øÆÊîπ‰Ω†ÁöÑÂª∫Á´ôÊó∂Èó¥ÊàñËÄÖÁΩëÁ´ô‰∏äÁ∫øÊó∂Èó¥ 
        now.setTime(now.getTime() + 250);
        days = (now - grt) / 1000 / 60 / 60 / 24;
        dnum = Math.floor(days);
        hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);
        hnum = Math.floor(hours);
        if (String(hnum).length == 1) {
            hnum = "0" + hnum;
        }
        minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes);
        if (String(mnum).length == 1) {
            mnum = "0" + mnum;
        }
        seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds);
        if (String(snum).length == 1) {
            snum = "0" + snum;
        }
        document.getElementById("sitegotimeDate").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å " + dnum + " Â§© ";
        document.getElementById("sitegotimes").innerHTML = hnum + " Â∞èÊó∂ " + mnum + " ÂàÜ " + snum + " Áßí";
    }

    let intervalId = setInterval("createtime()", 250);
</script>

    </div>

    <img class="moon" src="https://2006wzt.github.io/media/images/moon.png" onclick="moonlight()">
    <script src="https://2006wzt.github.io/media/js/wordshow.js"></script>
    
    <!--------------- Â∑¶‰æßËèúÂçïÊ†èüëÜ ------------------------>

    <!----------------- È°∂ÈÉ®ËèúÂçïÊ†èüëá ------------------------>
    
    <!----------------- È°∂ÈÉ®ËèúÂçïÊ†èüëÜ ------------------------>

<!--Ê†∏ÂøÉÂäüËÉΩÂä†ËΩΩ-->
<script src="https://2006wzt.github.io/media/js/mainfunc.js"></script>

<!------------- Fog1.0ÁâàÊú¨ÂΩ©Ëõãüëá -------------->
    <!-- <section id="terrestrial" class="popup">
        <a href="#" class="back">&lt; back</a>
    </section>

    <div class="flycontainer">
        <div class="flyword">Âæ°È£éÈ£ûË°å‰∏≠...</div>
    </div>

    <script>
        $("#fog_go").click(function(){fog_go()});
        async function fog_go(){
            $(".bars").hide()
            $("#live2d").hide()
            await sleep(3000);
            $(".flycontainer").css("display","flex");
            $(".popup").fadeOut(500)
            await sleep(2000);
            var sitename = "My Brain";
            getFogUser(sitename);
        }

        function fog_goregis(){
            var sitename = "My Brain";
            var siteurl = "https://2006wzt.github.io";
            regisFogUser(sitename,siteurl);
        }
        fog_goregis();
    </script> -->
<!------------- Fog1.0ÁâàÊú¨ÂΩ©ËõãüëÜ -------------->
<script>
    function change_topmenu(){
        tmcolor = "antiquewhite"
        tsnamecolor = "antiquewhite"
        $(".navbar-inverse .navbar-nav>li>a").css("color",tmcolor)
        $(".navbar-inverse .navbar-brand").css("color",tsnamecolor)
        $(".navbar-fixed-top").css("border-radius","0 0 10px 10px")
    }
</script>

<!------ Ê†πÊçÆËá™ÂÆö‰πâÈÖçÁΩÆÂ£∞ÊòéÂèòÈáèüëá --------------------->
    
    <script>
        var postnumChoice = false
    </script>
    
    
    <script>
        var shareChoice = true
    </script>
    
    
    <script>
        var donateChoice = false
    </script>
    
    
    <script>
        var searchChoice = true
    </script>
    
    <script>let postsnum = 0;</script>
    <div id="side-posttitle" style="display: none;">
    
    
    Êï∞ÊçÆÂ∫ìÁ≥ªÁªüÂÆûÈ™å
    <script>
        postsnum += 1
    </script>
    
    
    
    SocketÁºñÁ®ãÂÆûÈ™å
    <script>
        postsnum += 1
    </script>
    
    
    
    CSP-Á≤æÁÇº
    <script>
        postsnum += 1
    </script>
    
    
    
    Ê∑±Â∫¶Â≠¶‰π†ÂÆûÊàòÔºà‰∫åÔºâÔºöÁü•ËØÜÂõûÈ°æ
    <script>
        postsnum += 1
    </script>
    
    
    
    Ê∑±Â∫¶Â≠¶‰π†ÂÆûÊàòÔºà‰∏ÄÔºâÔºöÊ∑±Â∫¶Â≠¶‰π†ÂØºËÆ∫
    <script>
        postsnum += 1
    </script>
    
    
    
    ÁÆóÊ≥ïÂà∑È¢òÂ∞èËÆ∞
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºàÂçÅÂõõÔºâÔºöÊ†ëÊ®°Âûã
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºàÂçÅ‰∏âÔºâÔºöÊ†∏ÂáΩÊï∞
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºàÂçÅ‰∫åÔºâÔºöÂèÇÊï∞ÊùÉË°°
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºàÂçÅ‰∏ÄÔºâÔºöÁªèÈ™åÈ£éÈô©ÊúÄÂ∞èÂåñ
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºàÂçÅÔºâÔºöÊîØÊåÅÂêëÈáèÊú∫
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºà‰πùÔºâÔºöÁ∫øÊÄßÂõûÂΩí
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºàÂÖ´ÔºâÔºöÊ¢ØÂ∫¶‰∏ãÈôç
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºà‰∏ÉÔºâÔºöÈÄªËæëÂõûÂΩí
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºàÂÖ≠ÔºâÔºöÊú¥Á¥†Ë¥ùÂè∂ÊñØ
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºà‰∫îÔºâÔºöÊ¶ÇÁéá‰º∞ËÆ°
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºàÂõõÔºâÔºöÊÑüÁü•Êú∫ÁÆóÊ≥ï
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºà‰∏âÔºâÔºöKNNÁÆóÊ≥ï
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºà‰∫åÔºâÔºöÁõëÁù£Â≠¶‰π†
    <script>
        postsnum += 1
    </script>
    
    
    
    Êú∫Âô®Â≠¶‰π†ÂÆûÊàòÔºà‰∏ÄÔºâÔºöÊú∫Âô®Â≠¶‰π†ÂØºËÆ∫
    <script>
        postsnum += 1
    </script>
    
    
    
    PythonÂÖ•Èó®‰∏éÂÆûÊàò
    <script>
        postsnum += 1
    </script>
    
    
    
    
    
    
    </div>
    
        <script>
            var menupos = 'left';
            $("#siteinfo-postsnum").html(postsnum);
        </script>
    
    <script>
        let commentsHide = false
    </script>
    <!------ Ê†πÊçÆËá™ÂÆö‰πâÈÖçÁΩÆÂ£∞ÊòéÂèòÈáèüëÜ --------------------->


    <!----------Ê†πÊçÆËá™ÂÆö‰πâÈÖçÁΩÆËÆæÁΩÆÂõæÊ†á‰ø°ÊÅØüëá---------->
    <script>
        var icondict = new Array();
    </script>
    
        
    
    <!----------Ê†πÊçÆËá™ÂÆö‰πâÈÖçÁΩÆËÆæÁΩÆÂõæÊ†á‰ø°ÊÅØüëÜ---------->
</body>

<script src="https://2006wzt.github.io/media/share/dist/Share.js"></script>
<!-- È°µÈù¢pjaxÊµãËØï -->
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.pjax/2.0.1/jquery.pjax.js"></script>
<!--Á°Æ‰øùjQueryÂ∑≤ÁªèÂú®Ê≠§‰πãÂâçÂä†ËΩΩ-->
<!-- <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script> -->
<script src="https://2006wzt.github.io/media/js/all-pjax.js"></script>
<script>
    //-------------------------------ËØ¥ËØ¥ÂäüËÉΩüëá--------------------------------------
    let talksall = [];
    let talks = [];
    let talkindex = 0;
    get();

    function get() {
        var t = JSON.parse('[]');
        talkindex = t.length - 1;
        for (var i = 0; i <= t.length - 1; i++) {
            var d = {};
            d["time"] = t[i].time;
            d["author"] = t[i].author;
            d["text"] = t[i].text;
            d["img"] = t[i].img;
            talksall.push(d);
        }
    }

    function add() {
        for (var i = talkindex; i >= 0 && i > talkindex - 3; i--) {
            talks.push(talksall[i]);
        }
        talkindex = (talkindex - 3) >= 0 ? (talkindex - 3) : -1;
        if (talkindex < 0) $("#getmorebt").hide();
        show();
    }

    function show() {
        var talkT = document.getElementById("talkContainer");
        talkT.innerHTML = "";
        for (var i = 0; i < talks.length; i++) {
            if (talks[i].img != '') {
                talkT.innerHTML += '\
            <div class="talk" v-for="t in talks"> \
                <span data-fancybox="images" href="' + talks[i].img + '"><img src="' + talks[i].img + '" class="talkimg"></span> \
                <div class="ainfo">\
                    <div class="ainfo-intro">\
                        <div class="author">' + talks[i].author + '</div>¬∑\
                        <div class="time">' + talks[i].time + '</div>\
                    </div>\
                </div>\
                <div class="talkcontent">' + talks[i].text + '\
                </div\>\
            ';
            } else {
                talkT.innerHTML += '\
            <div class="talk" v-for="t in talks"> \
                <div class="ainfo">\
                    <div class="ainfo-intro">\
                        <div class="author">' + talks[i].author + '</div>¬∑\
                        <div class="time">' + talks[i].time + '</div>\
                    </div>\
                </div>\
                <div class="talkcontent">' + talks[i].text + '\
                </div\>\
            ';
            }
        }
    }
    //-------------------------------ËØ¥ËØ¥ÂäüËÉΩüëÜ--------------------------------------
</script>

<!---->
<script>
    function replaceAvatar() {
        twikoo_avatar = $(".tk-avatar-img");
        for (var i = 0; i < twikoo_avatar.length; i++) {
            var asrc = twikoo_avatar.eq(i).attr('src');
            if (asrc.search('cn.gravatar.com') != -1) {
                twikoo_avatar.eq(i).attr('src', 'https://2006wzt.github.io/media/images/comavatar.png');
            }
        }
    }

    function showWechat() {
        var wechat = '';
        alert("Âçö‰∏ªÂæÆ‰ø°Âè∑Ôºö" + wechat);
        return false;
    }
</script>

<script>
    /**
     * https://github.com/tangkaichuan/gridea-search
     */
    // Ê£ÄÊü•ÁºìÂ≠òÊòØÂê¶ÊúÄÊñ∞
    function checkCache() {
        var caches_postsnum = localStorage.getItem("postsnum");
        var pt = document.getElementById("side-posttitle").innerHTML;
        pt = pt.replace(/\s+/g, '').replace(/<script>.*?<\/script>/gi, "")
        var ptlen = pt.length;
        var ptlen_storage = localStorage.getItem("poststitlelen");
        if (caches_postsnum != postsnum || ptlen != ptlen_storage) {
            console.log("Êõ¥Êñ∞ÁºìÂ≠ò");
            return false
        }
        return true;
    }

    (function () {
        var CACHES = checkCache()
        if (!CACHES) {
            var NOW = Date.now()
            var API_CONTENT = '../api-content/index.html' + '?_=' + NOW
            preload(API_CONTENT);
            getContents(show_getContentresult);
        }

        function show_getContentresult(data) {
            console.log("Ëé∑ÂèñÊàêÂäü");
            var postslen = data["posts"].length;
            localStorage.setItem('postsnum', postslen);
            var poststitlelen = 0;
            var pt = document.getElementById("side-posttitle").innerHTML;
            pt = pt.replace(/\s+/g, '').replace(/<script>.*?<\/script>/gi, "");
            localStorage.setItem('poststitlelen', pt.length);
        }



        // preload
        function preload(url) {
            var preloadLink = document.createElement('link')
            preloadLink.href = url
            preloadLink.rel = 'preload'
            preloadLink.as = 'fetch'
            preloadLink.crossOrigin = 'anonymous'
            document.head.appendChild(preloadLink)
        }

        // ÂºÇÊ≠• GET ËØ∑Ê±Ç
        function get(obj) {
            var xhr = new XMLHttpRequest()
            xhr.open('get', obj.url, true)
            xhr.send(null)
            xhr.onreadystatechange = function () {
                // ÂºÇÊ≠•ËØ∑Ê±ÇÔºöÂìçÂ∫îÁä∂ÊÄÅ‰∏∫4ÔºåÊï∞ÊçÆÂä†ËΩΩÂÆåÊØï
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        obj.success(xhr.responseText)
                    } else {
                        obj.error(xhr.status)
                    }
                }
            }
        }

        // Ëé∑ÂèñÂçöÂÆ¢ÂÖ®Êñá api
        function getContents(callback) {
            if (CACHES) {
                callback(CACHES.contents)
            } else {
                get({
                    url: API_CONTENT,
                    success: function (data) {
                        callback(JSON.parse(data));
                        localStorage.setItem('ContentsCache', data);
                        getStorageContent();
                    }
                })
            }
        }
    })()
    //------------------------Ê†∏ÂøÉÂäüËÉΩ--pjaxÂÖ®Â±ÄÊ∏≤Êüìüëá-------------------
    let talkinit = false;
    $(document).pjax('a[data-pjax]', '#main', {
        fragment: '#main',
        timeout: 8000
    }).on('pjax:complete', function () {
        //‰ª£Á†ÅÂùóÈ´ò‰∫ÆÊ∏≤Êüì
        document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
        });
        //ÊñáÁ´†ÁÉ≠Â∫¶
        if(postnumChoice){
            getHotnum();
        }
        //ÊñáÁ´†Á¥¢Âºï
        toginit();
        //Ê∏ÖÁ©∫ÊêúÁ¥¢Ê†è
        if (searchChoice) {
            searchInit();
            searchInput.value = "";
        }
        var pl = window.location.pathname;
        //ËØ¥ËØ¥Êõ¥Êñ∞
        if (pl.search("talk") != -1 && !talkinit) {
            add();
            talkinit = true;
        } else if (pl.search("talk") != -1) {
            show();
        }
        if (pl.search("post") != -1) {
            if (shareChoice)
                shareInit();
            if (donateChoice)
                donateInit();
            if ("default" == "default"&&!commentsHide) {
                $("#comment").hide()
                commentsHide = true
            }
            lazyload();
            codeinit();
            if ("default" == "twikoo") {
                //twikooÂ§¥ÂÉèÊõ¥Êç¢
                setTimeout(replaceAvatar, 3000);
                setTimeout(replaceAvatar, 8000); //ÈÉ®ÂàÜÂçö‰∏ªÁ´ôÁÇπÈÄüÂ∫¶Âä†ËΩΩËøáÊÖ¢ÔºåÂÜçÊ∑ªÂä†‰∏Ä‰∏™Âª∂Ëøü
            }
        }
        if (btstate == true)
            dropdown();
    }).on('pjax:start', function () {
        $(".pjaxloading").fadeIn(50);
    }).on('pjax:end', function () {
        $(".pjaxloading").fadeOut(50);
    });
    //------------------------Ê†∏ÂøÉÂäüËÉΩ--pjaxÂÖ®Â±ÄÊ∏≤ÊüìüëÜ-------------------

    //-------------------------------------------------ÊêúÁ¥¢
    // Ëé∑ÂèñÊêúÁ¥¢Ê°Ü„ÄÅÊêúÁ¥¢ÊåâÈíÆ„ÄÅÊ∏ÖÁ©∫ÊêúÁ¥¢„ÄÅÁªìÊûúËæìÂá∫ÂØπÂ∫îÁöÑÂÖÉÁ¥†
    if (searchChoice) {
        var searchInput = document.querySelector('.search-input');
        var searchResults = document.querySelector('.search-results');
    }
    // Áî≥Êòé‰øùÂ≠òÊñáÁ´†ÁöÑÊ†áÈ¢ò„ÄÅÈìæÊé•„ÄÅÂÜÖÂÆπÁöÑÊï∞ÁªÑÂèòÈáè
    var searchValue = '',
        arrItems = [],
        arrLinks = [],
        arrTitles = [],
        arrContents = [],
        arrResults = [],
        indexItem = [],
        itemLength = 0;
    var tmpDiv = document.createElement('div');
    tmpDiv.className = 'result-item';


    function getStorageContent() {
        var data = localStorage.getItem('ContentsCache');
        data = JSON.parse(data);
        posts = data["posts"];
        for (var i = 0; i < posts.length; i++) {
            arrLinks[i] = posts[i].link;
            arrTitles[i] = posts[i].title;
            arrContents[i] = posts[i].content;
            itemLength++;
        }
    }
    if (checkCache())
        getStorageContent();
    // ËæìÂÖ•Ê°ÜÂÜÖÂÆπÂèòÂåñÂêéÂ∞±ÂºÄÂßãÂåπÈÖçÔºåÂèØ‰ª•‰∏çÁî®ÁÇπÊåâÈíÆ
    // ÁªèÊµãËØïÔºåonkeydown, onchange Á≠âÊñπÊ≥ïÊïàÊûú‰∏çÂ§™ÁêÜÊÉ≥Ôºå
    // Â≠òÂú®ËæìÂÖ•Âª∂ËøüÁ≠âÈóÆÈ¢òÔºåÊúÄÂêéÂèëÁé∞Ëß¶Âèë input ‰∫ã‰ª∂ÊúÄÁêÜÊÉ≥Ôºå
    // Âπ∂‰∏îÂèØ‰ª•Â§ÑÁêÜ‰∏≠ÊñáËæìÂÖ•Ê≥ïÊãºÂÜôÁöÑÂèòÂåñ
    searchInput.oninput = function () {
        setTimeout(searchConfirm, 0);
    }
    searchInput.onfocus = function () {
        searchResults.style.display = 'block';
    }

    function searchConfirm() {
        if (searchInput.value == '') {
            searchResults.style.display = 'none';
        } else if (searchInput.value.search(/^\s+$/) >= 0) {
            // Ê£ÄÊµãËæìÂÖ•ÂÄºÂÖ®ÊòØÁ©∫ÁôΩÁöÑÊÉÖÂÜµ
            searchInit();
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerText = 'ËØ∑ËæìÂÖ•ÊúâÊïàÂÜÖÂÆπ...';
            searchResults.appendChild(itemDiv);
        } else {
            // ÂêàÊ≥ïËæìÂÖ•ÂÄºÁöÑÊÉÖÂÜµ
            searchInit();
            searchValue = searchInput.value;
            // Âú®Ê†áÈ¢ò„ÄÅÂÜÖÂÆπ‰∏≠Êü•Êâæ
            searchMatching(arrTitles, arrContents, searchValue);
        }
    }

    // ÊØèÊ¨°ÊêúÁ¥¢ÂÆåÊàêÂêéÁöÑÂàùÂßãÂåñ
    function searchInit() {
        arrResults = [];
        indexItem = [];
        searchResults.innerHTML = '';
        searchResults.style.display = 'block';
    }

    function searchMatching(arr1, arr2, input) {
        // ÂøΩÁï•ËæìÂÖ•Â§ßÂ∞èÂÜô
        input = new RegExp(input, 'i');
        var step = 10;
        // Âú®ÊâÄÊúâÊñáÁ´†Ê†áÈ¢ò„ÄÅÂÜÖÂÆπ‰∏≠ÂåπÈÖçÊü•ËØ¢ÂÄº
        for (i = 0; i < itemLength; i++) {
            var indexContent = arr2[i].search(input);
            //Ê†áÈ¢òÂåπÈÖç
            if (arr1[i].search(input) != -1) {
                indexItem.push(i); // ‰øùÂ≠òÂåπÈÖçÂÄºÁöÑÁ¥¢Âºï
                if (indexContent != -1) {
                    startindex = (indexContent - step) >= 0 ? (indexContent - step) : 0;
                    var searchcontent = arr2[i].slice(indexContent - step, indexContent + 5)
                    arrResults.push("....." + searchcontent + ".....");
                } else
                    arrResults.push("");
            }
            //ÂÜÖÂÆπÂåπÈÖç
            else if (indexContent != -1) {
                indexItem.push(i); // ‰øùÂ≠òÂåπÈÖçÂÄºÁöÑÁ¥¢Âºï

                startindex = (indexContent - step) >= 0 ? (indexContent - step) : 0;
                var searchcontent = arr2[i].slice(indexContent - step, indexContent + 5)
                arrResults.push("....." + searchcontent + ".....");
            }
        }

        // ËæìÂá∫ÊÄªÂÖ±ÂåπÈÖçÂà∞ÁöÑÊï∞ÁõÆ
        var totalDiv = tmpDiv.cloneNode(true);
        totalDiv.innerHTML = '<b>ÊÄªÂåπÈÖçÔºö' + indexItem.length + ' È°π<hr></b>';
        searchResults.appendChild(totalDiv);

        // Êú™ÂåπÈÖçÂà∞ÂÜÖÂÆπÁöÑÊÉÖÂÜµ
        if (indexItem.length == 0) {
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerText = 'Êú™ÂåπÈÖçÂà∞ÂÜÖÂÆπ...';
            searchResults.appendChild(itemDiv);
        }

        // Â∞ÜÊâÄÊúâÂåπÈÖçÂÜÖÂÆπËøõË°åÁªÑÂêà
        for (i = 0; i < arrResults.length; i++) {
            var itemDiv = tmpDiv.cloneNode(true);
            itemDiv.innerHTML = '<a data-pjax class="searchresults" href="' + arrLinks[indexItem[i]] + '"><b>[' +
                arrTitles[indexItem[i]] +
                ']</b><p>' + arrResults[i] + '</p></a><hr />';
            searchResults.appendChild(itemDiv);
        }
    }
</script>



<!--------------------- ËèúÂçïÊ†èÂõæÊ†áÂä†ËΩΩÂäüËÉΩüëá ----------------------->
<script>
var menulist = $(".menuicon");
var menulength = menulist.length;
for (var i = 0; i < menulength; i++) {
    var altname = menulist.eq(i).attr("alt");
    var iconurl = icondict[altname];
    if (iconurl == undefined || iconurl == '')
        continue;
    if (iconurl == 'Home') {
        menulist.eq(i).attr("src", "https://2006wzt.github.io/media/images/Home.png");
menulist.eq(i).show();
} else if (iconurl == 'Archive') {
menulist.eq(i).attr("src", "https://2006wzt.github.io/media/images/Archive.png");
menulist.eq(i).show();
} else if (iconurl == 'Tag') {
menulist.eq(i).attr("src", "https://2006wzt.github.io/media/images/Tag.png");
menulist.eq(i).show();
} else if (iconurl == 'About') {
menulist.eq(i).attr("src", "https://2006wzt.github.io/media/images/About.png");
menulist.eq(i).show();
} else if (iconurl == 'Talk') {
menulist.eq(i).attr("src", "https://2006wzt.github.io/media/images/Talk.png");
menulist.eq(i).show();
} else if (iconurl == 'Friends') {
menulist.eq(i).attr("src", "https://2006wzt.github.io/media/images/Friends.png");
menulist.eq(i).show();
} else if (iconurl == 'Fly') {
menulist.eq(i).attr("src", "https://2006wzt.github.io/media/images/wind.png");
menulist.eq(i).show();
} else {
menulist.eq(i).attr("src", iconurl);
menulist.eq(i).show();
}
}
</script>
<!--------------------- ËèúÂçïÊ†èÂõæÊ†áÂä†ËΩΩÂäüËÉΩüëÜ ----------------------->

<script>
    //--------------------bber-onetalkÂä†ËΩΩüëá--------------------------------
    function bberonetalkLoad(){
        bberjsonurl = '';
        if ( $("#bber-talk").length > 0 ) {
        jsonUrl = bberjsonurl
        $.getJSON(jsonUrl+"?t="+Date.parse( new Date()),function(res){
        var bberHtml = ''
        $.each(res.data, function(i, item){
            d = new Date(item.date)
            date = d.getFullYear()+'/'+(d.getMonth()+1)+'/'+d.getDate() +' '+d.getHours()+':'+d.getMinutes()+':'+d.getSeconds()
            dataTime = '<span class="datatime">'+date+'</span>'
            bberHtml += '<li class="item item-'+(i+1)+'">'+dataTime+'Ôºö <a data-pjax href="https://2006wzt.github.io/bber">'+item.content+'</a></li>'
        });
        $('#bber-talk').append('<span class="index-talk-icon"><svg viewBox="0 0 1024 1024" width="21" height="21"><path d="M184.32 891.667692c-12.603077 0-25.206154-2.363077-37.809231-7.876923-37.021538-14.966154-59.864615-49.624615-59.864615-89.009231v-275.692307c0-212.676923 173.292308-385.969231 385.969231-385.969231h78.76923c212.676923 0 385.969231 173.292308 385.969231 385.969231 0 169.353846-137.846154 307.2-307.2 307.2H289.083077l-37.021539 37.021538c-18.904615 18.116923-43.323077 28.356923-67.741538 28.356923zM472.615385 195.347692c-178.018462 0-322.953846 144.935385-322.953847 322.953846v275.692308c0 21.267692 15.753846 29.144615 20.48 31.507692 4.726154 2.363077 22.055385 7.876923 37.021539-7.08923l46.473846-46.473846c6.301538-6.301538 14.178462-9.452308 22.055385-9.452308h354.461538c134.695385 0 244.184615-109.489231 244.184616-244.184616 0-178.018462-144.935385-322.953846-322.953847-322.953846H472.615385z"></path><path d="M321.378462 512m-59.076924 0a59.076923 59.076923 0 1 0 118.153847 0 59.076923 59.076923 0 1 0-118.153847 0Z"></path><path d="M518.301538 512m-59.076923 0a59.076923 59.076923 0 1 0 118.153847 0 59.076923 59.076923 0 1 0-118.153847 0Z"></path><path d="M715.224615 512m-59.076923 0a59.076923 59.076923 0 1 0 118.153846 0 59.076923 59.076923 0 1 0-118.153846 0Z"></path></svg></span><ul class="talk-list">'+bberHtml+'</ul>')
        //Lately({ 'target': '#bber-talk .datatime' });
        });
        function Roll (){
        var list_li = $('.talk-list li'),cur_li = list_li.first(),last_li = list_li.last();
        last_li.after(cur_li);
        };
        setInterval(Roll,3000);
    }
    }
  //--------------------bber-onetalkÂä†ËΩΩüëÜ--------------------------------
</script>

<script>
    var ClicksideState = 1
    var cur_readingmode = false
    function readingmode(){
        if (!cur_readingmode){
            if(menupos == 'left'){
                if(ClicksideState==1)
                menu_openclose1()
            }
            $("#tab1").fadeOut(50)
            $("#bg").fadeOut(50)
            $(".navbar").fadeOut(50)
            $(".markdownIt-TOC li a").css("color","black")
            cur_readingmode = true
        }else{
            if(menupos == 'left'){
                if(ClicksideState==0)
                    menu_openclose1()
            }
            $("#tab1").fadeIn(50)
            $("#bg").fadeIn(50)
            $(".navbar").fadeIn(50)
            $(".markdownIt-TOC li a").css("color","antiquewhite")
            cur_readingmode = false  
        }
    }
</script>


<!----Â§úÈó¥Ê®°Âºèüëá-->
<script>
    var moonlightState = false
    function moonlight(){
        if(!moonlightState){
            $("#bg").fadeOut(200)
            $('body').css("background","rgba(0,0,0,0.8)")
            $(".markdownIt-TOC li a").css("color","white")
            $(".text p, .text ul").css("color","white")
            $("#articlecontent").css("color","white")
            $(".post-copyright").css("background","rgba(10,10,10,0.5)")
            $('blockquote').css("background","rgba(10,10,10,0.6)")
            $("#articlecontent").css("background","rgba(10,10,10,0.5)")
            moonlightState = true
            $(".moon").attr("src","https://2006wzt.github.io/media/images/sun.png")
        }else{
            $("#bg").show()
            $(".markdownIt-TOC li a").css("color","antiquewhite")
            $(".text p, .text ul").css("color","rgba(0, 0, 0, 0.7)")
            $("#articlecontent").css("color","black")
            $(".post-copyright").css("background","#f9f9f9")
            $('blockquote').css("background","#eff8f0")
            $("#articlecontent").css("background","white")
            $(".moon").attr("src","https://2006wzt.github.io/media/images/moon.png")
            $('body').css("background","white")
            moonlightState = false
        }
    }
</script>
<!----Â§úÈó¥Ê®°ÂºèüëÜ--></div>
            <!--------------- pcÁ´ØËèúÂçïÊ†èüëÜ ---------------->

            <!-- ----------------Â∑¶‰æßËèúÂçïÊ†èhtml üëá-------------------------------------->
            
            <div>
                <div id="tab1" class="tab">
                    <div class="bars">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="close"></div>
                </div>
                <div class="col-md-1 col-lg-3"></div>
                <!-- mainÊ†áÁ≠æÔºåpjaxÊ∏≤ÊüìÊó∂Âä†ËΩΩ‰ª•‰∏ãÂÜÖÂÆπüëá -->
                <div id="main" class="col-xs-12 col-sm-12 col-md-12 col-lg-7" style="padding:0;">
                    <div class="readingmode" onclick="readingmode()">ÈòÖ</div>
                    <link rel="stylesheet" href="https://2006wzt.github.io/media/css/font-awesome.css">

<body>
    <div class="allcontent" id="postdetail">
        <div class="postshow postpadding" style="padding-bottom: 0;">
            
            <div class="postdetailimg">
                <img src="https://2006wzt.github.io/post-images/Êï∞ÊçÆÂ∫ìÁ≥ªÁªüÊ¶ÇËÆ∫ÂÆûÈ™å.png" class="postimage" style="cursor:auto">
            </div>
            <div class="postinfo-detail">
                <div class="postdate"><i class="fa fa-calendar"></i>2022-11-13</div>
                <div class="poststatus postdate"><i class="fa fa-clock-o"></i> 91 min read</div>
                <div class="posttag">
                    
                    <a data-pjax href="https://2006wzt.github.io/tag/fG7_jixa3/" class="postlink">
                        <i class="fa fa-tag"></i> mysql
                    </a>
                    
                    <a data-pjax href="https://2006wzt.github.io/tag/Fc-b8517my/" class="postlink">
                        <i class="fa fa-tag"></i> java
                    </a>
                    
                </div>
            </div>
            
        <div id="articlecontent">
            <div id="texttitle" style="text-align: center">
                <h2 id="ptitle">Êï∞ÊçÆÂ∫ìÁ≥ªÁªüÂÆûÈ™å</h2>
                <!-- id Â∞Ü‰Ωú‰∏∫Êü•ËØ¢Êù°‰ª∂ -->
                <div id="pl" style="display:none">https://2006wzt.github.io/post/Êï∞ÊçÆÂ∫ìÁ≥ªÁªüÊ¶ÇËÆ∫ÂÆûÈ™å/</div>
                <div id="rootaddr" style="display:none">https://2006wzt.github.io</div>
                
            </div>
            <div class="text ">
                <h1 id="Êï∞ÊçÆÂ∫ìÂÆûÈ™å">Êï∞ÊçÆÂ∫ìÂÆûÈ™å</h1>
<h2 id="‰∏Ä-ÂÆûËÆ≠1-Êï∞ÊçÆÂ∫ì-Ë°®‰∏éÂÆåÊï¥ÊÄßÁ∫¶ÊùüÁöÑÂÆö‰πâcreate">‰∏Ä„ÄÅ<strong>ÂÆûËÆ≠1 Êï∞ÊçÆÂ∫ì„ÄÅË°®‰∏éÂÆåÊï¥ÊÄßÁ∫¶ÊùüÁöÑÂÆö‰πâ(Create)</strong></h2>
<h3 id="11-ÂàõÂª∫Êï∞ÊçÆÂ∫ì">1.1 ÂàõÂª∫Êï∞ÊçÆÂ∫ì</h3>
<p>ÂàõÂª∫2022Âπ¥Âåó‰∫¨ÂÜ¨Â••‰ºö‰ø°ÊÅØÁ≥ªÁªüÊï∞ÊçÆÂ∫ì</p>
<pre><code class="language-mysql">-- Êú¨ÂÖ≥Êàë‰ª¨Âº∫ÁÉàÂª∫ËÆÆ‰Ω†ÁÇπÂáªÊú¨ÁºñËæëÁ™óÂè£‰∏äÊñπÁöÑ‚ÄúÂëΩ‰ª§Ë°å‚ÄùËèúÂçïÊâìÂºÄLinuxÁöÑÂëΩ‰ª§Ë°åÔºå
-- Âπ∂ÈÄöËøámysqlÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ËøûÊé•Âπ∂ÁôªÂΩïÂà∞ÊúçÂä°Âô®Ôºå
-- ÁÑ∂ÂêéÂú®mysqlÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÈáåÈÄöËøáÊÅ∞ÂΩìÁöÑËØ≠Âè•ÂÆåÊàê‰ªªÂä°„ÄÇ
-- Âú®‰ª•ÂêéÁöÑÂÖ≥Âç°‰∏≠‰Ω†ÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°åË∞ÉËØïÊàñÊµãËØïËØ≠Âè•ÔºåÂÜçÂ∞ÜÊ≠£Á°ÆÁöÑËØ≠Âè•Á≤òË¥¥Âà∞Êñá‰ª∂ÁºñËæëÁ™óÂè£„ÄÇ

-- ‰Ω†‰πüÂèØ‰ª•ÈÄâÊã©Âú®‰ª•‰∏ãÁ©∫ÁôΩË°åÂ°´ÂÜôÂÆåÊàêÁõÆÊ†á‰ªªÂä°ÁöÑSQLËØ≠Âè•Ôºö
-- ÂàõÂª∫2022Âπ¥Âåó‰∫¨ÂÜ¨Â••‰ºö‰ø°ÊÅØÁ≥ªÁªüÊï∞ÊçÆÂ∫ì
CREATE DATABASE beijing2022;
-- end
</code></pre>
<h3 id="12-ÂàõÂª∫Ë°®ÂèäË°®ÁöÑ‰∏ªÁ†ÅÁ∫¶Êùü">1.2 ÂàõÂª∫Ë°®ÂèäË°®ÁöÑ‰∏ªÁ†ÅÁ∫¶Êùü</h3>
<p>Âª∫Êï∞ÊçÆÂ∫ì<code>TestDb</code>ÔºåÂú®<code>TestDb</code>‰∏ãÂàõÂª∫Ë°®<code>t_emp</code>ÔºåË°®ÁªìÊûÑÂ¶Ç‰∏ãÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>ÂëòÂ∑•ÁºñÂè∑Ôºå‰∏ªÁ†Å</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(32)</td>
<td>ÂëòÂ∑•ÂêçÁß∞</td>
</tr>
<tr>
<td>deptId</td>
<td>INT</td>
<td>ÊâÄÂú®ÈÉ®Èó®Ê†áÂè∑</td>
</tr>
<tr>
<td>salary</td>
<td>FLOAT</td>
<td>Â∑•ËµÑ</td>
</tr>
</tbody>
</table>
<pre><code class="language-mysql"># ËØ∑Âú®‰ª•‰∏ãÈÄÇÂΩìÁöÑÁ©∫ÁôΩÂ§ÑÂ°´ÂÜôSQLËØ≠Âè•ÔºåÂÆåÊàê‰ªªÂä°‰π¶ÁöÑË¶ÅÊ±Ç„ÄÇÁ©∫ÁôΩË°åÂèØÈÄöËøáÂõûËΩ¶Êç¢Ë°åÊ∑ªÂä†„ÄÇ 
USE TestDb;
CREATE TABLE t_emp(
    id INT PRIMARY KEY,
    name VARCHAR(32),
    deptId INT,
    salary FLOAT
);
/* *********** ÁªìÊùü ************* */
</code></pre>
<h3 id="13-ÂàõÂª∫Â§ñÁ†ÅÁ∫¶Êùüforeign-key">1.3 ÂàõÂª∫Â§ñÁ†ÅÁ∫¶Êùü(foreign key)</h3>
<p>ËÆæÊúâ‰ª•‰∏ã‰∏§Âº†Ë°®Ôºö</p>
<p><strong>dept(ÈÉ®Èó®)</strong></p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>deptNo</td>
<td>INT</td>
<td>ÈÉ®Èó®Âè∑Ôºå‰∏ªÈîÆ</td>
</tr>
<tr>
<td>deptName</td>
<td>VARCHAR(32)</td>
<td>ÈÉ®Èó®ÂêçÁß∞</td>
</tr>
</tbody>
</table>
<p><strong>staff(ËÅåÂ∑•)</strong></p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>staffNo</td>
<td>INT</td>
<td>ËÅåÂ∑•Âè∑Ôºå‰∏ªÈîÆ</td>
</tr>
<tr>
<td>staffName</td>
<td>VARCHAR(32)</td>
<td>ËÅåÂ∑•ÂßìÂêç</td>
</tr>
<tr>
<td>gender</td>
<td>CHAR(1)</td>
<td>ÊÄßÂà´ÔºåF-Â•≥ÔºåM-Áî∑</td>
</tr>
<tr>
<td>dob</td>
<td>date</td>
<td>Âá∫ÁîüÊó•Êúü</td>
</tr>
<tr>
<td>salary</td>
<td>numeric(8,2)</td>
<td>Â∑•ËµÑ</td>
</tr>
<tr>
<td>deptNo</td>
<td>INT</td>
<td>ÈÉ®Èó®Âè∑,Â§ñÈîÆ</td>
</tr>
</tbody>
</table>
<p>ËØ∑ÂàõÂª∫‰∏äËø∞‰∏§‰∏™Ë°®Ôºå‰∏∫Ë°®ÂÆö‰πâ‰∏ªÈîÆÔºåÂπ∂ÁªôË°®staffÂàõÂª∫Â§ñÈîÆÔºåËøô‰∏™Â§ñÈîÆÁ∫¶ÊùüÁöÑÂêçÁß∞‰∏∫FK_staff_deptNo„ÄÇÂú®ÂàõÂª∫Ë°®‰πãÂâç‰Ω†ÂèØËÉΩÈúÄË¶ÅÂÖàÂàõÂª∫Êï∞ÊçÆÂ∫ìÔºö<code>MyDb</code>ÔºåÂπ∂‰∏îÂ∞Ü‰∏§Âº†Ë°®ÂàõÂª∫Âú®<code>MyDb</code>Êï∞ÊçÆÂ∫ì‰∏≠„ÄÇ‰∏çÈúÄËÄÉËôëÂÖ≥‰∫éÊÄßÂà´ÁöÑÁ∫¶Êùü„ÄÇÔºàÊ≥®ÊÑèÔºöÂ¶ÇÊûú‰Ω†Âú®ÂÆûÈ™å1‰πãÂêéÊé•ÁùÄ‰ΩúÊú¨ÂÆûÈ™åÔºåÊï∞ÊçÆÂ∫ì<code>MyDb</code>ÂèØËÉΩÂ∑≤ÁªèÂ≠òÂú®Ôºâ</p>
<pre><code class="language-mysql"># ËØ∑Âú®‰ª•‰∏ãÁ©∫ÁôΩÂ§ÑÂ°´ÂÜôÂÆåÊàê‰ªªÂä°ÁöÑËØ≠Âè•ÔºåÁ©∫ÁôΩË°åÂèØÈÄöËøáÂõûËΩ¶Êç¢Ë°åÊ∑ªÂä†„ÄÇ
# ‰Ω†‰πüÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°åÁ™óÂè£ÂÆåÊàê‰ªªÂä°Ôºå‰∏çËøáÔºåÂú®ÂëΩ‰ª§Ë°åÈîÆÂÖ•ÁöÑËØ≠Âè•‰∏ç‰ºöË¢´‰øùÂ≠ò„ÄÇ
CREATE DATABASE MyDb;
USE MyDb;
CREATE TABLE dept(
    deptNo INT PRIMARY KEY,
    deptName VARCHAR(32)
);
CREATE TABLE staff(
    staffNo INT PRIMARY KEY,
    staffName VARCHAR(32),
    gender CHAR(1),
    dob date,
    salary numeric(8,2),
    deptNo INT,
    CONSTRAINT FK_staff_deptNo FOREIGN KEY(deptNo) REFERENCES dept(deptNo)
);
# ÁªìÊùü 
</code></pre>
<h3 id="14-checkÁ∫¶Êùü">1.4 CHECKÁ∫¶Êùü</h3>
<p>Ë°®productsÁöÑÁªìÊûÑÂ¶Ç‰∏ãÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>pid</td>
<td>char(10)</td>
<td>‰∫ßÂìÅÊà∑ID,‰∏ªÁ†Å</td>
</tr>
<tr>
<td>name</td>
<td>varchar(32)</td>
<td>‰∫ßÂìÅÂêçÁß∞</td>
</tr>
<tr>
<td>brand</td>
<td>char(10)</td>
<td>ÂìÅÁâåÔºåÂè™ËÉΩÊòØ('A','B')‰∏≠ÁöÑÊüê‰∏Ä‰∏™</td>
</tr>
<tr>
<td>price</td>
<td>int</td>
<td>‰ª∑Ê†ºÔºåÂøÖÈ°ª&gt;0</td>
</tr>
</tbody>
</table>
<p>ËØ∑Âú®Êï∞ÊçÆÂ∫ìMyDb‰∏≠ÂàõÂª∫Ë°®productsÔºåÂπ∂ÂàÜÂà´ÂÆûÁé∞ÂØπÂìÅÁâåÂíå‰ª∑Ê†ºÁöÑÁ∫¶ÊùüÔºå‰∏§‰∏™CHECKÁ∫¶ÊùüÁöÑÂêçÁß∞ÂàÜÂà´‰∏∫CK_products_brandÂíåCK_products_priceÔºå‰∏ªÁ†ÅÁ∫¶Êùü‰∏çË¶ÅÊòæÁ§∫ÂëΩÂêç„ÄÇÔºàÊèêÁ§∫ÔºöÂ¶ÇÊûúÊï∞ÊçÆÂ∫ìMyDb‰∏çÂ≠òÂú®ÔºåËØ∑È¶ñÂÖàÂàõÂª∫ÂÆÉÔºåÂπ∂Â∞ÜÂÆÉ‰Ωú‰∏∫Â∑•‰ΩúÊï∞ÊçÆÂ∫ì„ÄÇÔºâ</p>
<pre><code class="language-mysql"># ËØ∑Âú®‰ª•‰∏ãÁ©∫ÁôΩÂ§ÑÂ°´ÂÜôÂÆåÊàê‰ªªÂä°ÁöÑËØ≠Âè•ÔºåÁ©∫ÁôΩË°åÂèØÈÄöËøáÂõûËΩ¶Êç¢Ë°åÊ∑ªÂä†„ÄÇ
# ‰Ω†‰πüÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°åÁ™óÂè£ÂÆåÊàê‰ªªÂä°Ôºå‰∏çËøáÔºåÂú®ÂëΩ‰ª§Ë°åÈîÆÂÖ•ÁöÑËØ≠Âè•‰∏ç‰ºöË¢´‰øùÂ≠ò„ÄÇ
# CREATE DATABASE MyDb;
USE MyDb;
CREATE TABLE products(
    pid char(10) PRIMARY KEY,
    name VARCHAR(32),
    brand CHAR(10) CONSTRAINT CK_products_brand CHECK(brand in ('A','B')),
    price INT CONSTRAINT CK_products_price CHECK(price&gt;0)
);
# ÁªìÊùü 
</code></pre>
<h3 id="15-defaultÁ∫¶Êùü">1.5 DEFAULTÁ∫¶Êùü</h3>
<p>Ë°®hrÁöÑÁªìÊûÑÂ¶Ç‰∏ãÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>char(10)</td>
<td>Â∑•Âè∑,‰∏ªÁ†Å</td>
</tr>
<tr>
<td>name</td>
<td>varchar(32)</td>
<td>ÂßìÂêç,‰∏çÂÖÅËÆ∏‰∏∫Á©∫ÂÄº</td>
</tr>
<tr>
<td>mz</td>
<td>char(16)</td>
<td>Ê∞ëÊóè, Áº∫ÁúÅÂÄº‰∏∫‚ÄúÊ±âÊóè‚Äù</td>
</tr>
</tbody>
</table>
<p>ËØ∑Âú®Êï∞ÊçÆÂ∫ìMyDb‰∏≠ÂàõÂª∫Ë°®hrÔºåÂπ∂ÂÆûÁé∞nameÂàóÁöÑNOT NULLÁ∫¶ÊùüÂíåmzÂàóÁöÑDefaultÁ∫¶ÊùüÔºàÂà´Âøò‰∫Ü‰∏ªÁ†ÅÁ∫¶ÊùüÔºâ</p>
<pre><code class="language-mysql"># ËØ∑Âú®‰ª•‰∏ãÁ©∫ÁôΩÂ§ÑÂ°´ÂÜôÂÆåÊàê‰ªªÂä°ÁöÑËØ≠Âè•ÔºåÁ©∫ÁôΩË°åÂèØÈÄöËøáÂõûËΩ¶Êç¢Ë°åÊ∑ªÂä†„ÄÇ
# ‰Ω†‰πüÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°åÁ™óÂè£ÂÆåÊàê‰ªªÂä°Ôºå‰∏çËøáÔºåÂú®ÂëΩ‰ª§Ë°åÈîÆÂÖ•ÁöÑËØ≠Âè•‰∏ç‰ºöË¢´‰øùÂ≠ò„ÄÇ
USE MyDb;
CREATE TABLE hr(
    id CHAR(10) PRIMARY KEY,
    name VARCHAR(32) NOT NULL,
    mz CHAR(16) DEFAULT &quot;Ê±âÊóè&quot;
);
# ÁªìÊùü 
</code></pre>
<h3 id="16-uniqueÁ∫¶Êùü">1.6 UNIQUEÁ∫¶Êùü</h3>
<p>Ë°®sÁöÑÁªìÊûÑÂ¶Ç‰∏ãÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>sno</td>
<td>char(10)</td>
<td>Â≠¶Âè∑,‰∏ªÁ†Å</td>
</tr>
<tr>
<td>name</td>
<td>varchar(32)</td>
<td>ÂßìÂêç,‰∏çÂÖÅËÆ∏‰∏∫Á©∫ÂÄº</td>
</tr>
<tr>
<td>ID</td>
<td>char(18)</td>
<td>Ë∫´‰ªΩËØÅÂè∑, ‰∏çÂÖÅËÆ∏Êúâ‰∏§‰∏™Áõ∏ÂêåÁöÑË∫´‰ªΩËØÅÂè∑</td>
</tr>
</tbody>
</table>
<p>ËØ∑Âú®Êï∞ÊçÆÂ∫ìMyDb‰∏≠ÂàõÂª∫Ë°®sÔºåÂπ∂ÂÆûÁé∞Áõ∏ÂÖ≥Á∫¶ÊùüÔºà‰∏ªÁ†ÅÔºåNOT NULLÂíåUniqueÁ∫¶ÊùüÔºâ„ÄÇ Ê≥®ÊÑèË°®ÂêçsÊòØÂ∞èÂÜôÁöÑÔºåÂàóÂêçIDÊòØÂÖ®Â§ßÂÜôÁöÑ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊï∞ÊçÆÂ∫ìMyDb,‰Ω†ÈúÄË¶ÅÂàõÂª∫ÂÆÉÔºåÂπ∂‰ΩøÂÖ∂Êàê‰∏∫ÂΩìÂâçÂ∑•‰ΩúÊï∞ÊçÆÂ∫ì„ÄÇ</p>
<pre><code class="language-mysql"># ËØ∑Âú®‰ª•‰∏ãÁ©∫ÁôΩÂ§ÑÂ°´ÂÜôÂÆåÊàê‰ªªÂä°ÁöÑËØ≠Âè•ÔºåÁ©∫ÁôΩË°åÂèØÈÄöËøáÂõûËΩ¶Êç¢Ë°åÊ∑ªÂä†„ÄÇ
# ‰Ω†‰πüÂèØ‰ª•Âú®ÂëΩ‰ª§Ë°åÁ™óÂè£ÂÆåÊàê‰ªªÂä°Ôºå‰∏çËøáÔºåÂú®ÂëΩ‰ª§Ë°åÈîÆÂÖ•ÁöÑËØ≠Âè•‰∏ç‰ºöË¢´‰øùÂ≠ò„ÄÇ
USE MyDb;
CREATE TABLE s(
    sno CHAR(10) PRIMARY KEY,
    name VARCHAR(32) NOT NULL,
    ID CHAR(18) UNIQUE
);
# ÁªìÊùü 
</code></pre>
<h2 id="‰∫å-ÂÆûËÆ≠2-Ë°®ÁªìÊûÑ‰∏éÂÆåÊï¥ÊÄßÁöÑ‰øÆÊîπalter">‰∫å„ÄÅÂÆûËÆ≠2 Ë°®ÁªìÊûÑ‰∏éÂÆåÊï¥ÊÄßÁöÑ‰øÆÊîπ(ALTER)</h2>
<h3 id="21-‰øÆÊîπË°®Âêç">2.1 ‰øÆÊîπË°®Âêç</h3>
<p>Êï∞ÊçÆÂ∫ìTestDb1‰∏≠ÊúâË°®your_tableÔºåËØ∑Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÁ™ó‰∏≠Ê∑ªÂä†ÊÅ∞ÂΩìÁöÑËØ≠Âè•ÔºåÂ∞ÜË°®Âêçyour_tableÊõ¥Êîπ‰∏∫my_table„ÄÇ</p>
<pre><code class="language-mysql">USE TestDb1;

#ËØ∑Âú®‰ª•‰∏ãÁ©∫ÁôΩÂ§ÑÊ∑ªÂä†ÊÅ∞ÂΩìÁöÑËØ≠Âè•ÔºåÂ∞ÜË°®Âêçyour_tableÊõ¥Êîπ‰∏∫my_table:
ALTER TABLE your_table rename my_table;
</code></pre>
<h3 id="22-Ê∑ªÂä†‰∏éÂà†Èô§Â≠óÊÆµ">2.2 Ê∑ªÂä†‰∏éÂà†Èô§Â≠óÊÆµ</h3>
<p>ÂÅáËÆæÊï∞ÊçÆÂ∫ìMyDb‰∏≠ÊúâË°®order(ËÆ¢Âçï)ÂíåorderDetail(ËÆ¢ÂçïÊòéÁªÜ) Á≠âË°®Ôºå‰∏§Ë°®ÁöÑÁªìÊûÑÂàÜÂà´Â¶Ç‰∏ãÔºö</p>
<p><strong>orderË°®</strong></p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>orderNo</td>
<td>char(12)</td>
<td>ËÆ¢ÂçïÂè∑Ôºå‰∏ªÁ†Å</td>
</tr>
<tr>
<td>orderDate</td>
<td>date</td>
<td>ËÆ¢Ë¥≠Êó•Êúü</td>
</tr>
<tr>
<td>customerNo</td>
<td>char(12)</td>
<td>ÂÆ¢Êà∑ÁºñÂè∑ÔºåÂ§ñÁ†ÅÔºå‰∏écustomer.customerNoÂØπÂ∫î</td>
</tr>
<tr>
<td>employeeNo</td>
<td>char(12)</td>
<td>ÈõáÂëòÂ∑•Âè∑ÔºåÂ§ñÁ†ÅÔºå‰∏éemployee.employeeNoÂØπÂ∫î</td>
</tr>
</tbody>
</table>
<p><strong>orderDetailË°®</strong></p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>orderNo</td>
<td>char(12)</td>
<td>ËÆ¢ÂçïÂè∑Ôºå‰∏ªÂ±ûÊÄßÔºåÂ§ñÁ†ÅÔºå‰∏éorder.orderNoÂØπÂ∫î</td>
</tr>
<tr>
<td>productNo</td>
<td>char(12)</td>
<td>‰∫ßÂìÅÁºñÂè∑Ôºå‰∏ªÂ±ûÊÄßÔºåÂ§ñÁ†ÅÔºå‰∏éproduct.productNoÂØπÂ∫î</td>
</tr>
<tr>
<td>quantityOrdered</td>
<td>int</td>
<td>ËÆ¢Ë¥≠Êï∞Èáè</td>
</tr>
<tr>
<td>orderDate</td>
<td>date</td>
<td>ËÆ¢Ë¥≠Êó•Êúü</td>
</tr>
</tbody>
</table>
<p><em>Ê≥®ÔºöË°®orderDetailÁöÑ‰∏ªÁ†ÅÁî±(orderNo,productNo)ÁªÑÊàê</em></p>
<p>ÁºñÁ®ãÁöÑ‰ªªÂä°ÊòØÂØπorderDetailË°®ËøõË°å‰øÆÊîπÔºö</p>
<ol>
<li>orderDetailË°®ÁöÑorderDateÂàóÊòéÊòæÂ§ö‰ΩôÔºåÂõ†‰∏∫Âêå‰∏ÄËÆ¢Âçï‰∏≠ÁöÑÊØè‰∏ÄÁ¨î‰∫§ÊòìÈÉΩÂèëÁîüÂú®Âêå‰∏ÄÂ§©ÔºåËøô‰∏™Êó•ÊúüÂú®ËÆ¢Âçï‰∏ª‰ΩìË°®order‰∏≠Â∑≤ÊúâËÆ∞ÂΩïÔºåËØ∑Âà†Èô§ÂàóorderDate„ÄÇ</li>
<li>‰∫ßÂìÅÁöÑÂçï‰ª∑ÊòØËÆ¢ÂçïÊòéÁªÜÈúÄË¶ÅËÆ∞ÂΩïÁöÑÂÜÖÂÆπÔºåËØ∑Âú®orderDetail‰∏≠Ê∑ªÂä†ÂàóunitPrice‰ª•ËÆ∞ÂΩï‰∫ßÂìÅÁöÑÂçï‰ª∑:</li>
</ol>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>unitPrice</td>
<td>numeric(10,2)</td>
<td>‰∫ßÂìÅÁöÑÊàê‰∫§Âçï‰ª∑</td>
</tr>
</tbody>
</table>
<p>ËØ∑Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÁ™ó‰∏≠Ê∑ªÂä†ÊÅ∞ÂΩìÁöÑËØ≠Âè•ÔºåÂÆûÁé∞‰∏äËø∞ÁºñÁ®ã‰ªªÂä°„ÄÇ</p>
<pre><code class="language-mysql">use MyDb;

#ËØ∑Âú®‰ª•‰∏ãÁ©∫ÁôΩÂ§ÑÊ∑ªÂä†ÈÄÇÂΩìÁöÑSQL‰ª£Á†ÅÔºåÂÆûÁé∞ÁºñÁ®ãË¶ÅÊ±Ç
#ËØ≠Âè•1ÔºöÂà†Èô§Ë°®orderDetail‰∏≠ÁöÑÂàóorderDate
ALTER TABLE orderDetail DROP orderDate;
#ËØ≠Âè•2ÔºöÊ∑ªÂä†ÂàóunitPrice
ALTER TABLE orderDetail ADD unitPrice numeric(10,2);
</code></pre>
<h3 id="23-‰øÆÊîπÂ≠óÊÆµ">2.3 ‰øÆÊîπÂ≠óÊÆµ</h3>
<p>Êï∞ÊçÆÂ∫ìMyDb‰∏≠ÊúâË°®addressBook(ÈÄö‰ø°ÂΩï)ÔºåÁªìÊûÑÂ¶Ç‰∏ãÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>serialNo</td>
<td>int</td>
<td>Ëá™Âä®ÁºñÂè∑Ôºå‰∏ªÁ†Å</td>
</tr>
<tr>
<td>name</td>
<td>char(32)</td>
<td>ÂßìÂêç</td>
</tr>
<tr>
<td>company</td>
<td>char(32)</td>
<td>Â∑•‰ΩúÂçï‰Ωç</td>
</tr>
<tr>
<td>position</td>
<td>char(10)</td>
<td>ËÅå‰Ωç</td>
</tr>
<tr>
<td>workPhone</td>
<td>char(16)</td>
<td>ÂäûÂÖ¨ÁîµËØù</td>
</tr>
<tr>
<td>mobile</td>
<td>char(11)</td>
<td>ÊâãÊú∫</td>
</tr>
<tr>
<td>QQ</td>
<td>int</td>
<td>QQÂè∑</td>
</tr>
<tr>
<td>weixin</td>
<td>char(12)</td>
<td>ÂæÆ‰ø°Âè∑</td>
</tr>
</tbody>
</table>
<p>ÂΩìÂàùÂàõÂª∫Ë°®ÁöÑËØ≠Âè•Â¶Ç‰∏ãÔºö</p>
<pre><code class="language-mysql">create table addressBook(
    serialNo int auto_increment primary key,
    name char(32),
    company char(32),
    position char(10),
    workPhone char(16),
    mobile char(11),
    QQ int,
    weixin char(12)
);
</code></pre>
<p>‰Ω†ÁöÑÁºñÁ®ã‰ªªÂä°ÊòØÂØπË°®addressBook‰Ωú‰ª•‰∏ã‰øÆÊîπÔºö</p>
<ol>
<li>Â∞ÜQQÂè∑ÁöÑÊï∞ÊçÆÁ±ªÂûãÊîπ‰∏∫char(12);</li>
<li>Â∞ÜÂàóÂêçweixinÊîπ‰∏∫wechat„ÄÇ</li>
</ol>
<p>ËØ∑Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂test3.sqlÁºñËæëÁ™ó‰∏≠Ê∑ªÂä†ÊÅ∞ÂΩìÁöÑËØ≠Âè•ÔºåÂÆûÁé∞‰∏äËø∞ÁºñÁ®ã‰ªªÂä°„ÄÇ</p>
<pre><code class="language-mysql">use MyDb;

#ËØ∑Âú®‰ª•‰∏ãÁ©∫ÁôΩÂ§ÑÊ∑ªÂä†ÈÄÇÂΩìÁöÑSQLËØ≠Âè•ÔºåÂÆûÁé∞ÁºñÁ®ãË¶ÅÊ±Ç
ALTER TABLE addressBook MODIFY QQ CHAR(12);
ALTER TABLE addressBook RENAME COLUMN weixin TO wechat;
</code></pre>
<h3 id="24-Ê∑ªÂä†-Âà†Èô§‰∏é‰øÆÊîπÁ∫¶Êùü">2.4 Ê∑ªÂä†„ÄÅÂà†Èô§‰∏é‰øÆÊîπÁ∫¶Êùü</h3>
<p>Êï∞ÊçÆÂ∫ìMyDb‰∏≠Êúâ‰ª•‰∏ã‰∏§Ë°®Ôºö</p>
<p><strong>Dept(ÈÉ®Èó®)</strong></p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>deptNo</td>
<td>INT</td>
<td>ÈÉ®Èó®Âè∑Ôºå‰∏ªÈîÆ</td>
</tr>
<tr>
<td>deptName</td>
<td>VARCHAR(32)</td>
<td>ÈÉ®Èó®ÂêçÁß∞Ôºå‰∏çÂêåÈÉ®Èó®‰∏çÂÖÅËÆ∏ÈáçÂêç</td>
</tr>
<tr>
<td>tel</td>
<td>char(11)</td>
<td>ÈÉ®Èó®ÁîµËØù</td>
</tr>
<tr>
<td>mgrStaffNo</td>
<td>int</td>
<td>ÈÉ®Èó®ÁªèÁêÜÁöÑÂ∑•Âè∑ÔºåÂ§ñÁ†Å</td>
</tr>
</tbody>
</table>
<p><strong>Staff(ËÅåÂ∑•)</strong></p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Â§áÊ≥®</th>
</tr>
</thead>
<tbody>
<tr>
<td>staffNo</td>
<td>INT</td>
<td>Â∑•Âè∑Ôºå‰∏ªÈîÆ</td>
</tr>
<tr>
<td>staffName</td>
<td>VARCHAR(32)</td>
<td>ËÅåÂ∑•ÂßìÂêç</td>
</tr>
<tr>
<td>gender</td>
<td>CHAR(1)</td>
<td>ÊÄßÂà´ÔºåÂèñÂÄºËåÉÂõ¥ÔºöF-Â•≥ÔºåM-Áî∑</td>
</tr>
<tr>
<td>dob</td>
<td>date</td>
<td>Âá∫ÁîüÊó•Êúü</td>
</tr>
<tr>
<td>Salary</td>
<td>numeric(8,2)</td>
<td>Â∑•ËµÑ</td>
</tr>
<tr>
<td>dept</td>
<td>INT</td>
<td>ÈÉ®Èó®Âè∑,Â§ñÈîÆ</td>
</tr>
</tbody>
</table>
<p>Áé∞ÈÄöËøá‰ª•‰∏ãËØ≠Âè•ÔºåÂÆåÊàê‰∫Ü‰∏§Ë°®ÁöÑÂü∫Á°ÄÂàõÂª∫Â∑•‰Ωú(ÈÉ®ÂàÜÁ∫¶ÊùüÊ≤°ÊúâÂÆûÁé∞):</p>
<pre><code class="language-mysql">create table Dept(
    deptNo int primary key,
    deptName varchar(32),
    tel char(11),
    mgrStaffNo int
);
create table Staff(
    staffNo int,
    staffName varchar(32),
    gender char(1),
    dob date,
    salary numeric(8,2),
    dept int
);
</code></pre>
<p>ËØ∑Âú®Âè≥‰æß‰ª£Á†ÅÁºñËæëÁ™óÂØπÂ∫î‰ΩçÁΩÆÂÜôÂá∫ÈÄÇÂΩìÁöÑËØ≠Âè•ÔºåÂÆåÊàê‰ª•‰∏ãÂ∑•‰ΩúÔºö (1) ‰∏∫Ë°®StaffÊ∑ªÂä†‰∏ªÁ†Å; (2) Dept.mgrStaffNoÊòØÂ§ñÁ†ÅÔºåÂØπÂ∫îÁöÑ‰∏ªÁ†ÅÊòØStaff.staffNo,ËØ∑Ê∑ªÂä†Ëøô‰∏™Â§ñÁ†ÅÔºåÂêçÂ≠ó‰∏∫FK_Dept_mgrStaffNo; (3) Staff.deptÊòØÂ§ñÁ†ÅÔºåÂØπÂ∫îÁöÑ‰∏ªÁ†ÅÊòØDept.deptNo. ËØ∑Ê∑ªÂä†Ëøô‰∏™Â§ñÁ†ÅÔºåÂêçÂ≠ó‰∏∫FK_Staff_dept; (4) ‰∏∫Ë°®StaffÊ∑ªÂä†checkÁ∫¶ÊùüÔºåËßÑÂàô‰∏∫ÔºögenderÁöÑÂÄºÂè™ËÉΩ‰∏∫FÊàñMÔºõÁ∫¶ÊùüÂêç‰∏∫CK_Staff_gender; (5) ‰∏∫Ë°®DeptÊ∑ªÂä†uniqueÁ∫¶ÊùüÔºödeptName‰∏çÂÖÅËÆ∏ÈáçÂ§ç„ÄÇÁ∫¶ÊùüÂêç‰∏∫UN_Dept_deptName.</p>
<pre><code class="language-mysql">use MyDb;
#ËØ∑Âú®‰ª•‰∏ãÁ©∫ÁôΩÂ§ÑÂ°´ÂÜôÈÄÇÂΩìÁöÑËØòÂè•ÔºåÂÆûÁé∞ÁºñÁ®ãË¶ÅÊ±Ç„ÄÇ
#(1) ‰∏∫Ë°®StaffÊ∑ªÂä†‰∏ªÁ†Å
ALTER TABLE Staff ADD PRIMARY KEY(staffNo);
#(2) Dept.mgrStaffNoÊòØÂ§ñÁ†ÅÔºåÂØπÂ∫îÁöÑ‰∏ªÁ†ÅÊòØStaff.staffNo,ËØ∑Ê∑ªÂä†Ëøô‰∏™Â§ñÁ†ÅÔºåÂêçÂ≠ó‰∏∫FK_Dept_mgrStaffNo:
ALTER TABLE Dept ADD CONSTRAINT FK_Dept_mgrStaffNo FOREIGN KEY(mgrStaffNo) REFERENCES Staff(staffNo);
#(3) Staff.deptÊòØÂ§ñÁ†ÅÔºåÂØπÂ∫îÁöÑ‰∏ªÁ†ÅÊòØDept.deptNo. ËØ∑Ê∑ªÂä†Ëøô‰∏™Â§ñÁ†ÅÔºåÂêçÂ≠ó‰∏∫FK_Staff_dept:
ALTER TABLE Staff ADD CONSTRAINT FK_Staff_dept FOREIGN KEY(dept) REFERENCES Dept(deptNo);
#(4) ‰∏∫Ë°®StaffÊ∑ªÂä†checkÁ∫¶ÊùüÔºåËßÑÂàô‰∏∫ÔºögenderÁöÑÂÄºÂè™ËÉΩ‰∏∫FÊàñMÔºõÁ∫¶ÊùüÂêç‰∏∫CK_Staff_gender:
ALTER TABLE Staff ADD CONSTRAINT CK_Staff_gender CHECK(gender in('F','M'));
#(5) ‰∏∫Ë°®DeptÊ∑ªÂä†uniqueÁ∫¶ÊùüÔºödeptName‰∏çÂÖÅËÆ∏ÈáçÂ§ç„ÄÇÁ∫¶ÊùüÂêç‰∏∫UN_Dept_deptNameÔºö
ALTER TABLE Dept ADD CONSTRAINT UN_Dept_deptName UNIQUE(deptName);
</code></pre>
<h2 id="‰∏â-ÂÆûËÆ≠3-Êï∞ÊçÆÊü•ËØ¢select‰πã‰∏Ä">‰∏â„ÄÅ<strong>ÂÆûËÆ≠3 Êï∞ÊçÆÊü•ËØ¢(Select)‰πã‰∏Ä</strong></h2>
<h3 id="31-Êü•ËØ¢ÂÆ¢Êà∑‰∏ªË¶Å‰ø°ÊÅØ">3.1 Êü•ËØ¢ÂÆ¢Êà∑‰∏ªË¶Å‰ø°ÊÅØ</h3>
<p>Êú¨ÂÆûËÆ≠ÈááÁî®ÁöÑÊòØÊüêÈì∂Ë°åÁöÑ‰∏Ä‰∏™ÈáëËûçÂú∫ÊôØÂ∫îÁî®ÁöÑÊ®°ÊãüÊï∞ÊçÆÂ∫ìÔºåÊï∞ÊçÆÂ∫ì‰∏≠Ë°®ÔºåË°®ÁªìÊûÑ‰ª•ÂèäÊâÄÊúâÂ≠óÊÆµÁöÑËØ¥ÊòéÂ¶Ç‰∏ãÔºö</p>
<p>Ë°®1 client(ÂÆ¢Êà∑Ë°®)</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>c_id</td>
<td>INTEGER</td>
<td>PRIMARY KEY</td>
<td>ÂÆ¢Êà∑ÁºñÂè∑</td>
</tr>
<tr>
<td>c_name</td>
<td>VARCHAR(100)</td>
<td>NOT NULL</td>
<td>ÂÆ¢Êà∑ÂêçÁß∞</td>
</tr>
<tr>
<td>c_mail</td>
<td>CHAR(30)</td>
<td>UNIQUE</td>
<td>ÂÆ¢Êà∑ÈÇÆÁÆ±</td>
</tr>
<tr>
<td>c_id_card</td>
<td>CHAR(20)</td>
<td>UNIQUE NOT NULL</td>
<td>ÂÆ¢Êà∑Ë∫´‰ªΩËØÅ</td>
</tr>
<tr>
<td>c_phone</td>
<td>CHAR(20)</td>
<td>UNIQUE NOT NULL</td>
<td>ÂÆ¢Êà∑ÊâãÊú∫Âè∑</td>
</tr>
<tr>
<td>c_password</td>
<td>CHAR(20)</td>
<td>NOT NULL</td>
<td>ÂÆ¢Êà∑ÁôªÂΩïÂØÜÁ†Å</td>
</tr>
</tbody>
</table>
<p>Ë°®2 bank_card(Èì∂Ë°åÂç°)</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>b_number</td>
<td>CHAR(30)</td>
<td>PRIMARY KEY</td>
<td>Èì∂Ë°åÂç°Âè∑</td>
</tr>
<tr>
<td>b_type</td>
<td>CHAR(20)</td>
<td>Êó†</td>
<td>Èì∂Ë°åÂç°Á±ªÂûã(ÂÇ®ËìÑÂç°/‰ø°Áî®Âç°)</td>
</tr>
<tr>
<td>b_c_id</td>
<td>INTEGER</td>
<td>NOT NULL FOREIGN KEY</td>
<td>ÊâÄÂ±ûÂÆ¢Êà∑ÁºñÂè∑,ÂºïÁî®Ëá™clientË°®ÁöÑc_idÂ≠óÊÆµ„ÄÇ</td>
</tr>
<tr>
<td>b_balance</td>
<td>NUMERIC(10,2)</td>
<td>NOT NULL</td>
<td>‰ΩôÈ¢ù,‰ø°Áî®Âç°‰ΩôÈ¢ùÁ≥ªÊåáÂ∑≤ÈÄèÊîØÁöÑÈáëÈ¢ù</td>
</tr>
</tbody>
</table>
<p>Ë°®3 finances_product(ÁêÜË¥¢‰∫ßÂìÅË°®)</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>p_name</td>
<td>VARCHAR(100)</td>
<td>NOT NULL</td>
<td>‰∫ßÂìÅÂêçÁß∞</td>
</tr>
<tr>
<td>p_id</td>
<td>INTEGER</td>
<td>PRIMARY KEY</td>
<td>‰∫ßÂìÅÁºñÂè∑</td>
</tr>
<tr>
<td>p_description</td>
<td>VARCHAR(4000)</td>
<td>Êó†</td>
<td>‰∫ßÂìÅÊèèËø∞</td>
</tr>
<tr>
<td>p_amount</td>
<td>INTEGER</td>
<td>Êó†</td>
<td>Ë¥≠‰π∞ÈáëÈ¢ù</td>
</tr>
<tr>
<td>p_year</td>
<td>INTEGER</td>
<td>Êó†</td>
<td>ÁêÜË¥¢Âπ¥Èôê</td>
</tr>
</tbody>
</table>
<p>Ë°®4 insurance(‰øùÈô©Ë°®)</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>i_name</td>
<td>VARCHAR(100)</td>
<td>NOT NULL</td>
<td>‰øùÈô©ÂêçÁß∞</td>
</tr>
<tr>
<td>i_id</td>
<td>INTEGER</td>
<td>PRIMARY KEY</td>
<td>‰øùÈô©ÁºñÂè∑</td>
</tr>
<tr>
<td>i_amount</td>
<td>INTEGER</td>
<td>Êó†</td>
<td>‰øùÈô©ÈáëÈ¢ù</td>
</tr>
<tr>
<td>i_person</td>
<td>CHAR(20)</td>
<td>Êó†</td>
<td>ÈÄÇÁî®‰∫∫Áæ§</td>
</tr>
<tr>
<td>i_year</td>
<td>INTEGER</td>
<td>Êó†</td>
<td>‰øùÈô©Âπ¥Èôê</td>
</tr>
<tr>
<td>i_project</td>
<td>VARCHAR(200)</td>
<td>Êó†</td>
<td>‰øùÈöúÈ°πÁõÆ</td>
</tr>
</tbody>
</table>
<p>Ë°®5 fund(Âü∫ÈáëË°®)</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>f_name</td>
<td>VARCHAR(100)</td>
<td>NOT NULL</td>
<td>Âü∫ÈáëÂêçÁß∞</td>
</tr>
<tr>
<td>f_id</td>
<td>INTEGER</td>
<td>PRIMARY KEY</td>
<td>Âü∫ÈáëÁºñÂè∑</td>
</tr>
<tr>
<td>f_type</td>
<td>CHAR(20)</td>
<td>Êó†</td>
<td>Âü∫ÈáëÁ±ªÂûã</td>
</tr>
<tr>
<td>f_amount</td>
<td>INTEGER</td>
<td>Êó†</td>
<td>Âü∫ÈáëÈáëÈ¢ù</td>
</tr>
<tr>
<td>risk_level</td>
<td>CHAR(20)</td>
<td>NOT NULL</td>
<td>È£éÈô©Á≠âÁ∫ß</td>
</tr>
<tr>
<td>f_manager</td>
<td>INTEGER</td>
<td>NOT NULL</td>
<td>Âü∫ÈáëÁÆ°ÁêÜËÄÖ</td>
</tr>
</tbody>
</table>
<p>Ë°®6 property(ËµÑ‰∫ßË°®)</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>pro_id</td>
<td>INTEGER</td>
<td>PRIMARY KEY</td>
<td>ËµÑ‰∫ßÁºñÂè∑</td>
</tr>
<tr>
<td>pro_c_id</td>
<td>INTEGER</td>
<td>NOT NULL</td>
<td>FOREIGN KEY</td>
</tr>
<tr>
<td>pro_pif_id</td>
<td>INTEGER</td>
<td>NOT NULL</td>
<td>‰∏öÂä°Á∫¶Êùü</td>
</tr>
<tr>
<td>pro_type</td>
<td>INTEGER</td>
<td>NOT NULL</td>
<td>ÂïÜÂìÅÁ±ªÂûã:1Ë°®Á§∫ÁêÜË¥¢‰∫ßÂìÅ;2Ë°®Á§∫‰øùÈô©;3Ë°®Á§∫Âü∫Èáë</td>
</tr>
<tr>
<td>pro_status</td>
<td>CHAR(20)</td>
<td>Êó†</td>
<td>ÂïÜÂìÅÁä∂ÊÄÅ:'ÂèØÁî®','ÂÜªÁªì'</td>
</tr>
<tr>
<td>pro_quantity</td>
<td>INTEGER</td>
<td>Êó†</td>
<td>ÂïÜÂìÅÊï∞Èáè</td>
</tr>
<tr>
<td>pro_income</td>
<td>INTEGER</td>
<td>Êó†</td>
<td>ÂïÜÂìÅÊî∂Áõä</td>
</tr>
<tr>
<td>pro_purchase_time</td>
<td>DATE</td>
<td>Êó†</td>
<td>Ë¥≠‰π∞Êó∂Èó¥</td>
</tr>
</tbody>
</table>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢ÊâÄÊúâÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅÊâãÊú∫Âè∑ÂíåÈÇÆÁÆ±‰ø°ÊÅØ„ÄÇÊü•ËØ¢ÁªìÊûúÊåâÁÖßÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è„ÄÇ</p>
<pre><code class="language-mysql">-- 1) Êü•ËØ¢ÊâÄÊúâÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅÊâãÊú∫Âè∑ÂíåÈÇÆÁÆ±‰ø°ÊÅØ„ÄÇÊü•ËØ¢ÁªìÊûúÊåâÁÖßÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_phone,c_mail
FROM client
ORDER BY c_id;
/*  end  of  your code  */
</code></pre>
<h3 id="32-ÈÇÆÁÆ±‰∏∫nullÁöÑÂÆ¢Êà∑">3.2 ÈÇÆÁÆ±‰∏∫nullÁöÑÂÆ¢Êà∑</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö<br>
Êü•ËØ¢ÂÆ¢Êà∑Ë°®(client)‰∏≠Ê≤°ÊúâÂ°´ÂÜôÈÇÆÁÆ±‰ø°ÊÅØ(ÈÇÆÁÆ±Â≠óÊÆµÂÄº‰∏∫null)ÁöÑÂÆ¢Êà∑ÁöÑÁºñÂè∑„ÄÅÂêçÁß∞„ÄÅË∫´‰ªΩËØÅÂè∑„ÄÅÊâãÊú∫Âè∑„ÄÇ</p>
<pre><code class="language-mysql">-- 2) Êü•ËØ¢ÂÆ¢Êà∑Ë°®(client)‰∏≠ÈÇÆÁÆ±‰ø°ÊÅØ‰∏∫nullÁöÑÂÆ¢Êà∑ÁöÑÁºñÂè∑„ÄÅÂêçÁß∞„ÄÅË∫´‰ªΩËØÅÂè∑„ÄÅÊâãÊú∫Âè∑„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö

SELECT c_id,c_name,c_id_card,c_phone
FROM client
WHERE c_mail IS NULL;
/*  end  of  your code  */
</code></pre>
<h3 id="33-Êó¢‰π∞‰∫Ü‰øùÈô©Âèà‰π∞‰∫ÜÂü∫ÈáëÁöÑÂÆ¢Êà∑">3.3 Êó¢‰π∞‰∫Ü‰øùÈô©Âèà‰π∞‰∫ÜÂü∫ÈáëÁöÑÂÆ¢Êà∑</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢Êó¢‰π∞‰∫Ü‰øùÈô©Âèà‰π∞‰∫ÜÂü∫ÈáëÁöÑÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅÈÇÆÁÆ±ÂíåÁîµËØù,ÁªìÊûú‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è„ÄÇ</p>
<pre><code class="language-mysql">-- 3) Êü•ËØ¢Êó¢‰π∞‰∫Ü‰øùÈô©Âèà‰π∞‰∫ÜÂü∫ÈáëÁöÑÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅÈÇÆÁÆ±ÂíåÁîµËØù„ÄÇÁªìÊûú‰æùc_idÊéíÂ∫è
-- ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_mail,c_phone
FROM client
WHERE c_id IN(SELECT pro_c_id FROM property WHERE pro_type=2)
AND c_id IN(SELECT pro_c_id FROM property WHERE pro_type=3)
ORDER BY c_id;
/*  end  of  your code  */
</code></pre>
<h3 id="34-ÂäûÁêÜ‰∫ÜÂÇ®ËìÑÂç°ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ">3.4 ÂäûÁêÜ‰∫ÜÂÇ®ËìÑÂç°ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢ÂäûÁêÜ‰∫ÜÂÇ®ËìÑÂç°ÁöÑÂÆ¢Êà∑ÂêçÁß∞„ÄÅÊâãÊú∫Âè∑ÂíåÈì∂Ë°åÂç°Âè∑„ÄÇÊ≥®ÊÑè‰∏Ä‰∏™ÂÆ¢Êà∑Âú®Êú¨Ë°åÂèØËÉΩ‰∏çÊ≠¢‰∏ÄÂº†ÂÇ®ËìÑÂç°ÔºåÂ∫îÂÖ®ÂàóÂá∫„ÄÇÊü•ËØ¢ÁªìÊûúÁªìÊûú‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è„ÄÇ</p>
<pre><code class="language-mysql">-- 4) Êü•ËØ¢ÂäûÁêÜ‰∫ÜÂÇ®ËìÑÂç°ÁöÑÂÆ¢Êà∑ÂêçÁß∞„ÄÅÊâãÊú∫Âè∑„ÄÅÈì∂Ë°åÂç°Âè∑„ÄÇ Êü•ËØ¢ÁªìÊûúÁªìÊûú‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_phone,b_number
FROM client,bank_card
WHERE c_id=b_c_id AND b_type=&quot;ÂÇ®ËìÑÂç°&quot;
ORDER BY c_id;
/*  end  of  your code  */
</code></pre>
<h3 id="35-ÊØè‰ªΩÈáëÈ¢ùÂú®30000~50000‰πãÈó¥ÁöÑÁêÜË¥¢‰∫ßÂìÅ">3.5 ÊØè‰ªΩÈáëÈ¢ùÂú®30000ÔΩû50000‰πãÈó¥ÁöÑÁêÜË¥¢‰∫ßÂìÅ</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢ÁêÜË¥¢‰∫ßÂìÅ‰∏≠ÊØè‰ªΩÈáëÈ¢ùÂú®30000ÔΩû50000‰πãÈó¥ÁöÑÁêÜË¥¢‰∫ßÂìÅÁöÑÁºñÂè∑,ÊØè‰ªΩÈáëÈ¢ùÔºåÁêÜË¥¢Âπ¥ÈôêÔºåÂπ∂ÊåâÈáëÈ¢ùÂçáÂ∫èÊéíÂ∫èÔºåÈáëÈ¢ùÁõ∏ÂêåÁöÑÊåâÁÖßÁêÜË¥¢Âπ¥ÈôêÈôçÂ∫èÊéíÂ∫è„ÄÇ</p>
<pre><code class="language-mysql">-- 5) Êü•ËØ¢ÁêÜË¥¢‰∫ßÂìÅ‰∏≠ÊØè‰ªΩÈáëÈ¢ùÂú®30000ÔΩû50000‰πãÈó¥ÁöÑÁêÜË¥¢‰∫ßÂìÅÁöÑÁºñÂè∑,ÊØè‰ªΩÈáëÈ¢ùÔºåÁêÜË¥¢Âπ¥ÈôêÔºåÂπ∂ÊåâÁÖßÈáëÈ¢ùÂçáÂ∫èÊéíÂ∫èÔºåÈáëÈ¢ùÁõ∏ÂêåÁöÑÊåâÁÖßÁêÜË¥¢Âπ¥ÈôêÈôçÂ∫èÊéíÂ∫è„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT p_id,p_amount,p_year
FROM finances_product
WHERE p_amount BETWEEN 30000 AND 50000
ORDER BY p_amount,p_year DESC;
/*  end  of  your code  */
</code></pre>
<h3 id="36-ÂïÜÂìÅÊî∂ÁõäÁöÑ‰ºóÊï∞">3.6 ÂïÜÂìÅÊî∂ÁõäÁöÑ‰ºóÊï∞</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö ‰ºóÊï∞ÊòØ‰∏ÄÁªÑÊï∞ÊçÆ‰∏≠Âá∫Áé∞Ê¨°Êï∞ÊúÄÂ§öÁöÑÊï∞ÂÄºÔºåÊúâÊó∂‰ºóÊï∞Âú®‰∏ÄÁªÑÊï∞‰∏≠‰ºöÊúâÂ•ΩÂá†‰∏™„ÄÇÊü•ËØ¢ËµÑ‰∫ßË°®‰∏≠ÊâÄÊúâËµÑ‰∫ßËÆ∞ÂΩïÈáåÂïÜÂìÅÊî∂ÁõäÁöÑ‰ºóÊï∞ÂíåÂÆÉÂá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÂá∫Áé∞ÁöÑÊ¨°Êï∞ÂëΩÂêç‰∏∫presence„ÄÇ</p>
<pre><code class="language-mysql">-- 6) Êü•ËØ¢ËµÑ‰∫ßË°®‰∏≠ÊâÄÊúâËµÑ‰∫ßËÆ∞ÂΩïÈáåÂïÜÂìÅÊî∂ÁõäÁöÑ‰ºóÊï∞ÂíåÂÆÉÂá∫Áé∞ÁöÑÊ¨°Êï∞„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT A.pro_income,COUNT(*) presence
FROM property A
GROUP BY A.pro_income
HAVING presence&gt;=ALL(SELECT COUNT(*)
                    FROM property B
                    GROUP BY B.pro_income);
/*  end  of  your code  */
</code></pre>
<h3 id="37-Êú™Ë¥≠‰π∞‰ªª‰ΩïÁêÜË¥¢‰∫ßÂìÅÁöÑÊ≠¶Ê±âÂ±ÖÊ∞ë">3.7 Êú™Ë¥≠‰π∞‰ªª‰ΩïÁêÜË¥¢‰∫ßÂìÅÁöÑÊ≠¶Ê±âÂ±ÖÊ∞ë</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö Â∑≤Áü•Ë∫´‰ªΩËØÅÂâç6‰ΩçË°®Á§∫Â±ÖÊ∞ëÂú∞Âå∫ÔºåÂÖ∂‰∏≠4201ÂºÄÂ§¥Ë°®Á§∫ÊπñÂåóÁúÅÊ≠¶Ê±âÂ∏Ç„ÄÇÊü•ËØ¢Ë∫´‰ªΩËØÅÈö∂Â±ûÊ≠¶Ê±âÂ∏ÇÊ≤°Êúâ‰π∞Ëøá‰ªª‰ΩïÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅÁîµËØùÂè∑„ÄÅÈÇÆÁÆ±„ÄÇ‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è</p>
<pre><code class="language-mysql">-- 7) Êü•ËØ¢Ë∫´‰ªΩËØÅÈö∂Â±ûÊ≠¶Ê±âÂ∏ÇÊ≤°Êúâ‰π∞Ëøá‰ªª‰ΩïÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅÁîµËØùÂè∑„ÄÅÈÇÆÁÆ±„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_phone,c_mail
FROM client
WHERE c_id_card LIKE '4201%' 
AND c_id NOT IN(SELECT pro_c_id
                FROM property B
                WHERE B.pro_type=1)
ORDER BY c_id;
/*  end  of  your code  */
</code></pre>
<h3 id="38-ÊåÅÊúâ‰∏§Âº†‰ø°Áî®Âç°ÁöÑÁî®Êà∑">3.8 ÊåÅÊúâ‰∏§Âº†‰ø°Áî®Âç°ÁöÑÁî®Êà∑</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢ÊåÅÊúâ‰∏§Âº†(Âê´Ôºâ‰ª•‰∏ä‰ø°Áî®Âç°ÁöÑÁî®Êà∑ÁöÑÂêçÁß∞„ÄÅË∫´‰ªΩËØÅÂè∑„ÄÅÊâãÊú∫Âè∑„ÄÇÊü•ËØ¢ÁªìÊûú‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è</p>
<pre><code class="language-mysql">-- 8) Êü•ËØ¢ÊåÅÊúâ‰∏§Âº†(Âê´Ôºâ‰ª•‰∏ä‰ø°Áî®Âç°ÁöÑÁî®Êà∑ÁöÑÂêçÁß∞„ÄÅË∫´‰ªΩËØÅÂè∑„ÄÅÊâãÊú∫Âè∑„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_id_card,c_phone
FROM client,bank_card
WHERE c_id=b_c_id AND b_type=&quot;‰ø°Áî®Âç°&quot;
GROUP BY c_id
HAVING COUNT(*)&gt;=2
ORDER BY c_id;
/*  end  of  your code  */
</code></pre>
<h3 id="39-Ë¥≠‰π∞‰∫ÜË¥ßÂ∏ÅÂûãÂü∫ÈáëÁöÑÂÆ¢Êà∑‰ø°ÊÅØ">3.9 Ë¥≠‰π∞‰∫ÜË¥ßÂ∏ÅÂûãÂü∫ÈáëÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢Ë¥≠‰π∞‰∫ÜË¥ßÂ∏ÅÂûã(f_type='Ë¥ßÂ∏ÅÂûã')Âü∫ÈáëÁöÑÁî®Êà∑ÁöÑÂêçÁß∞„ÄÅÁîµËØùÂè∑„ÄÅÈÇÆÁÆ±„ÄÇ‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è</p>
<pre><code class="language-mysql">-- 9) Êü•ËØ¢Ë¥≠‰π∞‰∫ÜË¥ßÂ∏ÅÂûã(f_type='Ë¥ßÂ∏ÅÂûã')Âü∫ÈáëÁöÑÁî®Êà∑ÁöÑÂêçÁß∞„ÄÅÁîµËØùÂè∑„ÄÅÈÇÆÁÆ±„ÄÇ
--   ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_phone,c_mail
FROM client
WHERE EXISTS(
    SELECT *
    FROM property
    WHERE c_id=pro_c_id AND pro_type=3 AND EXISTS(
        SELECT *
        FROM fund
        WHERE f_type='Ë¥ßÂ∏ÅÂûã' AND f_id=pro_pif_id
    )
)
ORDER BY c_id;
/*  end  of  your code  */
</code></pre>
<h3 id="310-ÊäïËµÑÊÄªÊî∂ÁõäÂâç‰∏âÂêçÁöÑÂÆ¢Êà∑">3.10 ÊäïËµÑÊÄªÊî∂ÁõäÂâç‰∏âÂêçÁöÑÂÆ¢Êà∑</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢ÂΩìÂâçÊÄªÁöÑÂèØÁî®ËµÑ‰∫ßÊî∂Áõä(Ë¢´ÂÜªÁªìÁöÑËµÑ‰∫ßÈô§Â§ñ)Ââç‰∏âÂêçÁöÑÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅË∫´‰ªΩËØÅÂè∑ÂèäÂÖ∂ÊÄªÊî∂ÁõäÔºåÊåâÊî∂ÁõäÈôçÂ∫èËæìÂá∫ÔºåÊÄªÊî∂ÁõäÂëΩÂêç‰∏∫total_income„ÄÇ‰∏çËÄÉËôëÂπ∂ÂàóÊéíÂêçÊÉÖÂΩ¢„ÄÇ</p>
<pre><code class="language-mysql">-- 10) Êü•ËØ¢ÂΩìÂâçÊÄªÁöÑÂèØÁî®ËµÑ‰∫ßÊî∂Áõä(Ë¢´ÂÜªÁªìÁöÑËµÑ‰∫ßÈô§Â§ñ)Ââç‰∏âÂêçÁöÑÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅË∫´‰ªΩËØÅÂè∑ÂèäÂÖ∂ÊÄªÊî∂ÁõäÔºåÊåâÊî∂ÁõäÈôçÂ∫èËæìÂá∫ÔºåÊÄªÊî∂ÁõäÂëΩÂêç‰∏∫total_income„ÄÇ‰∏çËÄÉËôëÂπ∂ÂàóÊéíÂêçÊÉÖÂΩ¢„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_id_card,S1.total_income
FROM client,(SELECT pro_c_id,SUM(pro_income) total_income
             FROM property
             WHERE pro_status=&quot;ÂèØÁî®&quot;
             GROUP BY pro_c_id) S1
WHERE c_id=S1.pro_c_id
ORDER BY S1.total_income DESC
LIMIT 3;
/*  end  of  your code  */ 
</code></pre>
<h3 id="311-ÈªÑÂßìÂÆ¢Êà∑ÊåÅÂç°Êï∞Èáè">3.11 ÈªÑÂßìÂÆ¢Êà∑ÊåÅÂç°Êï∞Èáè</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö ÁªôÂá∫ÈªÑÂßìÁî®Êà∑ÁöÑÁºñÂè∑„ÄÅÂêçÁß∞„ÄÅÂäûÁêÜÁöÑÈì∂Ë°åÂç°ÁöÑÊï∞Èáè(Ê≤°ÊúâÂäûÂç°ÁöÑÂç°Êï∞ÈáèËÆ°‰∏∫0). ÊåâÂäûÁêÜÈì∂Ë°åÂç°Êï∞ÈáèÈôçÂ∫èËæìÂá∫,ÊåÅÂç°Êï∞ÈáèÁõ∏ÂêåÁöÑ,‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è„ÄÇ</p>
<pre><code class="language-mysql">-- 11) ÁªôÂá∫ÈªÑÂßìÁî®Êà∑ÁöÑÁºñÂè∑„ÄÅÂêçÁß∞„ÄÅÂäûÁêÜÁöÑÈì∂Ë°åÂç°ÁöÑÊï∞Èáè(Ê≤°ÊúâÂäûÂç°ÁöÑÂç°Êï∞ÈáèËÆ°‰∏∫0),ÊåÅÂç°Êï∞ÈáèÂëΩÂêç‰∏∫number_of_cards,
--     ÊåâÂäûÁêÜÈì∂Ë°åÂç°Êï∞ÈáèÈôçÂ∫èËæìÂá∫,ÊåÅÂç°Êï∞ÈáèÁõ∏ÂêåÁöÑ,‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è„ÄÇ
-- ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_id,c_name,COUNT(b_number) number_of_cards
FROM client LEFT OUTER JOIN bank_card ON(client.c_id=bank_card.b_c_id)
WHERE c_name LIKE 'ÈªÑ%'
GROUP BY c_id
ORDER BY number_of_cards DESC,c_id;
/*  end  of  your code  */ 
</code></pre>
<h3 id="312-ÂÆ¢Êà∑ÁêÜË¥¢-‰øùÈô©‰∏éÂü∫ÈáëÊäïËµÑÊÄªÈ¢ù">3.12 ÂÆ¢Êà∑ÁêÜË¥¢„ÄÅ‰øùÈô©‰∏éÂü∫ÈáëÊäïËµÑÊÄªÈ¢ù</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö ÁªºÂêàÂÆ¢Êà∑Ë°®(client)„ÄÅËµÑ‰∫ßË°®(property)„ÄÅÁêÜË¥¢‰∫ßÂìÅË°®(finances_product)„ÄÅ‰øùÈô©Ë°®(insurance)ÂíåÂü∫ÈáëË°®(fund)ÔºåÂàóÂá∫ÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅË∫´‰ªΩËØÅÂè∑‰ª•ÂèäÊäïËµÑÊÄªÈáëÈ¢ùÔºàÂç≥ÊäïËµÑÊú¨ÈáëÔºåÊØèÁ¨îÊäïËµÑÈáëÈ¢ù=ÂïÜÂìÅÊï∞Èáè*ËØ•‰∫ßÂìÅÊØè‰ªΩÈáëÈ¢ù)ÔºåÊ≥®ÊÑèÊäïËµÑÈáëÈ¢ùÊåâÁ±ªÂûãÈúÄÊü•ËØ¢‰∏çÂêåÁöÑË°®Ôºå ÊäïËµÑÊÄªÈáëÈ¢ùÊòØÂÆ¢Êà∑Ë¥≠‰π∞ÁöÑÂêÑÁ±ª(ÁêÜË¥¢,‰øùÈô©,Âü∫Èáë)ËµÑ‰∫ßÊäïËµÑÈáëÈ¢ùÁöÑÊÄªÂíåÔºåÊÄªÈáëÈ¢ùÂëΩÂêç‰∏∫total_amount„ÄÇÊü•ËØ¢ÁªìÊûúÊåâÊÄªÈáëÈ¢ùÈôçÂ∫èÊéíÂ∫è„ÄÇ</p>
<pre><code class="language-mysql"> -- 12) ÁªºÂêàÂÆ¢Êà∑Ë°®(client)„ÄÅËµÑ‰∫ßË°®(property)„ÄÅÁêÜË¥¢‰∫ßÂìÅË°®(finances_product)„ÄÅ‰øùÈô©Ë°®(insurance)Âíå
 --     Âü∫ÈáëË°®(fund)ÔºåÂàóÂá∫ÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅË∫´‰ªΩËØÅÂè∑‰ª•ÂèäÊäïËµÑÊÄªÈáëÈ¢ùÔºàÂç≥ÊäïËµÑÊú¨ÈáëÔºå
 --     ÊØèÁ¨îÊäïËµÑÈáëÈ¢ù=ÂïÜÂìÅÊï∞Èáè*ËØ•‰∫ßÂìÅÊØè‰ªΩÈáëÈ¢ù)ÔºåÊ≥®ÊÑèÊäïËµÑÈáëÈ¢ùÊåâÁ±ªÂûãÈúÄË¶ÅÊü•ËØ¢‰∏çÂêåÁöÑË°®Ôºå
 --     ÊäïËµÑÊÄªÈáëÈ¢ùÊòØÂÆ¢Êà∑Ë¥≠‰π∞ÁöÑÂêÑÁ±ªËµÑ‰∫ß(ÁêÜË¥¢,‰øùÈô©,Âü∫Èáë)ÊäïËµÑÈáëÈ¢ùÁöÑÊÄªÂíåÔºåÊÄªÈáëÈ¢ùÂëΩÂêç‰∏∫total_amount„ÄÇ
 --     Êü•ËØ¢ÁªìÊûúÊåâÊÄªÈáëÈ¢ùÈôçÂ∫èÊéíÂ∫è„ÄÇ
 -- ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_id_card,coalesce(SUM(final.amount_pif),0) total_amount
FROM client C1
LEFT OUTER JOIN
((SELECT C2.c_id c_id_p,SUM(pro_quantity*p_amount) amount_p
 FROM client C2,finances_product,property
 WHERE pro_c_id=C2.c_id AND p_id=pro_pif_id AND pro_type=1
 GROUP BY c_id_p)
 UNION ALL
(SELECT C3.c_id c_id_i,SUM(pro_quantity*i_amount) amount_i
 FROM client C3,insurance,property
 WHERE pro_c_id=C3.c_id AND i_id=pro_pif_id AND pro_type=2
 GROUP BY c_id_i)
 UNION ALL
(SELECT C4.c_id c_id_f,SUM(pro_quantity*f_amount) amount_f
 FROM client C4,fund,property
 WHERE pro_c_id=C4.c_id AND f_id=pro_pif_id AND pro_type=3
 GROUP BY c_id_f)) AS final(c_id_pif,amount_pif)
ON(C1.c_id=final.c_id_pif)
GROUP BY C1.c_id
ORDER BY total_amount DESC;
/*  end  of  your code  */ 
</code></pre>
<h3 id="313-ÂÆ¢Êà∑ÊÄªËµÑ‰∫ß">3.13 ÂÆ¢Êà∑ÊÄªËµÑ‰∫ß</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö<br>
ÁªºÂêàÂÆ¢Êà∑Ë°®(client)„ÄÅËµÑ‰∫ßË°®(property)„ÄÅÁêÜË¥¢‰∫ßÂìÅË°®(finances_product)„ÄÅ‰øùÈô©Ë°®(insurance)„ÄÅÂü∫ÈáëË°®(fund)ÔºåÂàóÂá∫ÊâÄÊúâÂÆ¢Êà∑ÁöÑÁºñÂè∑„ÄÅÂêçÁß∞ÂíåÊÄªËµÑ‰∫ßÔºåÊÄªËµÑ‰∫ßÂëΩÂêç‰∏∫total_property„ÄÇÊÄªËµÑ‰∫ß‰∏∫ÂÇ®ËìÑÂç°ÊÄª‰ΩôÈ¢ùÔºåÊäïËµÑÊÄªÈ¢ùÔºåÊäïËµÑÊÄªÊî∂ÁõäÁöÑÂíåÔºåÂÜçÊâ£Èô§‰ø°Áî®Âç°ÈÄèÊîØÁöÑÊÄªÈáëÈ¢ù(‰ø°Áî®Âç°‰ΩôÈ¢ùÂç≥‰∏∫ÈÄèÊîØÈáëÈ¢ù)„ÄÇÂÆ¢Êà∑ÊÄªËµÑ‰∫ßÂåÖÊã¨Ë¢´ÂÜªÁªìÁöÑËµÑ‰∫ß„ÄÇ</p>
<pre><code class="language-mysql">-- 13) ÁªºÂêàÂÆ¢Êà∑Ë°®(client)„ÄÅËµÑ‰∫ßË°®(property)„ÄÅÁêÜË¥¢‰∫ßÂìÅË°®(finances_product)„ÄÅ
--     ‰øùÈô©Ë°®(insurance)„ÄÅÂü∫ÈáëË°®(fund)ÂíåÊäïËµÑËµÑ‰∫ßË°®(property)Ôºå
--     ÂàóÂá∫ÊâÄÊúâÂÆ¢Êà∑ÁöÑÁºñÂè∑„ÄÅÂêçÁß∞ÂíåÊÄªËµÑ‰∫ßÔºåÊÄªËµÑ‰∫ßÂëΩÂêç‰∏∫total_property„ÄÇ
--     ÊÄªËµÑ‰∫ß‰∏∫ÂÇ®ËìÑÂç°‰ΩôÈ¢ùÔºåÊäïËµÑÊÄªÈ¢ùÔºåÊäïËµÑÊÄªÊî∂ÁõäÁöÑÂíåÔºåÂÜçÊâ£Èô§‰ø°Áî®Âç°ÈÄèÊîØÁöÑÈáëÈ¢ù
--     (‰ø°Áî®Âç°‰ΩôÈ¢ùÂç≥‰∏∫ÈÄèÊîØÈáëÈ¢ù)„ÄÇÂÆ¢Êà∑ÊÄªËµÑ‰∫ßÂåÖÊã¨Ë¢´ÂÜªÁªìÁöÑËµÑ‰∫ß„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT C0.c_id,C0.c_name,coalesce(debit_balance+total_amount+total_income-credit_balance,0) total_property
FROM client C0,
(
    SELECT c_id,coalesce(SUM(final.amount_pif),0) total_amount
    FROM client C1
    LEFT OUTER JOIN
    ((SELECT C2.c_id c_id_p,SUM(pro_quantity*p_amount) amount_p
    FROM client C2,finances_product,property
    WHERE pro_c_id=C2.c_id AND p_id=pro_pif_id AND pro_type=1
    GROUP BY c_id_p)
    UNION ALL
    (SELECT C3.c_id c_id_i,SUM(pro_quantity*i_amount) amount_i
    FROM client C3,insurance,property
    WHERE pro_c_id=C3.c_id AND i_id=pro_pif_id AND pro_type=2
    GROUP BY c_id_i)
    UNION ALL
    (SELECT C4.c_id c_id_f,SUM(pro_quantity*f_amount) amount_f
    FROM client C4,fund,property
    WHERE pro_c_id=C4.c_id AND f_id=pro_pif_id AND pro_type=3
    GROUP BY c_id_f)) AS final(c_id_pif,amount_pif)
    ON(C1.c_id=final.c_id_pif)
    GROUP BY C1.c_id
) AS Amount(c_id,total_amount),
(
    SELECT c_id,coalesce(SUM(b_balance),0) debit_balance
    FROM client LEFT OUTER JOIN
    (
        SELECT b_c_id,b_balance
        FROM bank_card
        WHERE b_type='ÂÇ®ËìÑÂç°'
    ) AS balance0(b_c_id,b_balance)
    ON(c_id=b_c_id)
    GROUP BY c_id
) AS Debit(c_id,debit_balance),
(
    SELECT c_id,coalesce(SUM(b_balance),0) credit_balance
    FROM client LEFT OUTER JOIN
    (
        SELECT b_c_id,b_balance
        FROM bank_card
        WHERE b_type='‰ø°Áî®Âç°'
    ) AS balance1(b_c_id,b_balance)
    ON(c_id=b_c_id)
    GROUP BY c_id
) AS Credit(c_id,credit_balance),
(
    SELECT c_id,coalesce(SUM(pro_income),0) total_income
    FROM client LEFT OUTER JOIN property ON(c_id=pro_c_id)
    GROUP BY c_id
) AS Income(c_id,total_income)
WHERE C0.c_id=Amount.c_id AND C0.c_id=Debit.c_id AND C0.c_id=Credit.c_id AND C0.c_id=Income.c_id
ORDER BY c_id
/*  end  of  your code  */ 
</code></pre>
<h3 id="314-Á¨¨nÈ´òÈóÆÈ¢ò">3.14 Á¨¨NÈ´òÈóÆÈ¢ò</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞Êú¨ËØ¢Ë¶ÅÊ±ÇÔºö Êü•ËØ¢ÊØè‰ªΩ‰øùÈô©ÈáëÈ¢ùÁ¨¨4È´ò‰øùÈô©‰∫ßÂìÅÁöÑÁºñÂè∑Âíå‰øùÈô©ÈáëÈ¢ù„ÄÇÂú®Êï∞Â≠óÂ∫èÂàó8000,8000,7000,7000,6000‰∏≠Ôºå‰∏§‰∏™8000Âùá‰∏∫Á¨¨1È´òÔºå‰∏§‰∏™7000Âùá‰∏∫Á¨¨2È´ò,6000‰∏∫Á¨¨3È´ò„ÄÇ</p>
<pre><code class="language-mysql">-- 14) Êü•ËØ¢ÊØè‰ªΩ‰øùÈô©ÈáëÈ¢ùÁ¨¨4È´ò‰øùÈô©‰∫ßÂìÅÁöÑÁºñÂè∑Âíå‰øùÈô©ÈáëÈ¢ù„ÄÇ
--     Âú®Êï∞Â≠óÂ∫èÂàó8000,8000,7000,7000,6000‰∏≠Ôºå
--     ‰∏§‰∏™8000Âùá‰∏∫Á¨¨1È´òÔºå‰∏§‰∏™7000Âùá‰∏∫Á¨¨2È´ò,6000‰∏∫Á¨¨3È´ò„ÄÇ
-- ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT i_id,i_amount
FROM insurance
WHERE i_amount = (
    SELECT DISTINCT i_amount
    FROM insurance
    ORDER BY i_amount DESC
    LIMIT 1 OFFSET 3
)
ORDER BY i_id;
/*  end  of  your code  */ 
</code></pre>
<h3 id="315-Âü∫ÈáëÊî∂Áõä‰∏§ÁßçÊñπÂºèÊéíÂêç">3.15 Âü∫ÈáëÊî∂Áõä‰∏§ÁßçÊñπÂºèÊéíÂêç</h3>
<p><strong>ÊéíÂêçÈóÆÈ¢òÔºö</strong><br>
ÊéíÂêçÊòØÊï∞ÊçÆÂ∫ìÂ∫îÁî®‰∏≠ÁöÑ‰∏ÄÁ±ªÁªèÂÖ∏ÈóÆÈ¢òÔºåÂÆûÈôÖÂèàÊ†πÊçÆÂÖ∑‰ΩìÈúÄÊ±ÇÁªÜÂàÜ‰∏∫3ÁßçÂú∫ÊôØÔºö</p>
<ul>
<li>ËøûÁª≠ÊéíÂêçÔºåÂêåÊï∞‰∏çÂêåÂêçÊ¨°ÔºåÊó†Âπ∂ÂàóÂêçÊ¨°„ÄÇ‰æãÂ¶Ç300„ÄÅ200„ÄÅ200„ÄÅ150„ÄÅ150„ÄÅ100ÁöÑÊéíÂêçÁªìÊûú‰∏∫1, 2, 3, 4, 5, 6„ÄÇËøôÁßçÊéíÂêçÁ±ª‰ºº‰∫éÁºñÂè∑Ôºõ</li>
<li>ÂêåÊï∞ÂêåÂêçÊ¨°ÔºåÊÄªÊéíÂêç‰∏çËøûÁª≠„ÄÇ‰æãÂ¶Ç300„ÄÅ200„ÄÅ200„ÄÅ150„ÄÅ150„ÄÅ100ÁöÑÊéíÂêçÁªìÊûú‰∏∫1, 2, 2, 4, 4, 6Ôºõ</li>
<li>ÂêåÊï∞ÂêåÂêçÊ¨°ÔºåÊÄªÊéíÂêçËøûÁª≠„ÄÇ‰æãÂ¶Ç300„ÄÅ200„ÄÅ200„ÄÅ150„ÄÅ150„ÄÅ100ÁöÑÊéíÂêçÁªìÊûú‰∏∫1, 2, 2, 3, 3, 4„ÄÇ</li>
</ul>
<p>‰∏çÂêåÁöÑÈúÄÊ±ÇÂØπÂ∫îÁùÄ‰∏çÂêåÁöÑÊü•ËØ¢Á≠ñÁï•„ÄÇÊú¨ÂÖ≥ÁöÑ‰ªªÂä°ÊòØÂÆûÁé∞Âêé‰∏§ÁßçÊñπÂºèÁöÑÊéíÂêç„ÄÇ</p>
<p><strong>ÁºñÁ®ãË¶ÅÊ±ÇÔºö</strong><br>
ËØ∑ÂàÜÂà´Áî®‰∏§Êù°SQLËØ≠Âè•ÂÆûÁé∞‰∏ãËø∞‰∏§‰∏™‰ªªÂä°Ôºö Êü•ËØ¢ËµÑ‰∫ßË°®‰∏≠ÂÆ¢Êà∑ÁºñÂè∑ÔºåÂÆ¢Êà∑Âü∫ÈáëÊäïËµÑÊÄªÊî∂Áõä,Âü∫ÈáëÊäïËµÑÊÄªÊî∂ÁõäÁöÑÊéíÂêç(‰ªéÈ´òÂà∞‰ΩéÊéíÂêç)„ÄÇÊÄªÊî∂ÁõäÁõ∏ÂêåÊó∂ÂêçÊ¨°‰∫¶Áõ∏Âêå(Âç≥Âπ∂ÂàóÂêçÊ¨°)„ÄÇÊÄªÊî∂ÁõäÂëΩÂêç‰∏∫total_revenue, ÂêçÊ¨°ÂëΩÂêç‰∏∫rank„ÄÇÁ¨¨‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ÂÖ®Â±ÄÂêçÊ¨°‰∏çËøûÁª≠ÁöÑÊéíÂêçÔºåÁ¨¨‰∫åÊù°SQLËØ≠Âè•ÂÆûÁé∞ÂÖ®Â±ÄÂêçÊ¨°ËøûÁª≠ÁöÑÊéíÂêç„ÄÇ‰∏çÁÆ°Âì™ÁßçÊñπÂºèÊéíÂêçÔºåÊî∂ÁõäÁõ∏ÂêåÊó∂,ÂÆ¢Êà∑ÁºñÂè∑Â∞èÁöÑÊéíÂú®Ââç</p>
<pre><code class="language-mysql">-- 15) Êü•ËØ¢ËµÑ‰∫ßË°®‰∏≠ÂÆ¢Êà∑ÁºñÂè∑ÔºåÂÆ¢Êà∑Âü∫ÈáëÊäïËµÑÊÄªÊî∂Áõä,Âü∫ÈáëÊäïËµÑÊÄªÊî∂ÁõäÁöÑÊéíÂêç(‰ªéÈ´òÂà∞‰ΩéÊéíÂêç)„ÄÇ
--     ÊÄªÊî∂ÁõäÁõ∏ÂêåÊó∂ÂêçÊ¨°‰∫¶Áõ∏Âêå(Âç≥Âπ∂ÂàóÂêçÊ¨°)„ÄÇÊÄªÊî∂ÁõäÂëΩÂêç‰∏∫total_revenue, ÂêçÊ¨°ÂëΩÂêç‰∏∫rank„ÄÇ
--     Á¨¨‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ÂÖ®Â±ÄÂêçÊ¨°‰∏çËøûÁª≠ÁöÑÊéíÂêçÔºå
--     Á¨¨‰∫åÊù°SQLËØ≠Âè•ÂÆûÁé∞ÂÖ®Â±ÄÂêçÊ¨°ËøûÁª≠ÁöÑÊéíÂêç„ÄÇ

-- (1) Âü∫ÈáëÊÄªÊî∂ÁõäÊéíÂêç(ÂêçÊ¨°‰∏çËøûÁª≠)
SELECT pro_c_id,total_revenue,rank0 AS 'rank'
FROM(
    SELECT pro_c_id,total_revenue,if(total_revenue=@income,@curRank,@curRank:=@num) AS rank0,@income:=total_revenue,@num:=@num+1
    FROM (
        SELECT pro_c_id,SUM(pro_income) total_revenue
        FROM property
        WHERE pro_type=3
        GROUP BY pro_c_id
        ORDER BY total_revenue DESC,pro_c_id
    ) AS Income,(SELECT @curRank:=0,@income:=NULL,@num:=1) r
) AS r1;
-- (2) Âü∫ÈáëÊÄªÊî∂ÁõäÊéíÂêç(ÂêçÊ¨°ËøûÁª≠)
SELECT pro_c_id,total_revenue,rank0 AS 'rank'
FROM(
    SELECT pro_c_id,total_revenue,if(total_revenue=@income,@curRank,@curRank:=@curRank+1) AS rank0,@income:=total_revenue
    FROM (
        SELECT pro_c_id,SUM(pro_income) total_revenue
        FROM property
        WHERE pro_type=3
        GROUP BY pro_c_id
        ORDER BY total_revenue DESC,pro_c_id
    ) AS Income,(SELECT @curRank:=0,@income:=NULL) r
) AS r1;
/*  end  of  your code  */
</code></pre>
<h3 id="316-ÊåÅÊúâÂÆåÂÖ®Áõ∏ÂêåÂü∫ÈáëÁªÑÂêàÁöÑÂÆ¢Êà∑">3.16 ÊåÅÊúâÂÆåÂÖ®Áõ∏ÂêåÂü∫ÈáëÁªÑÂêàÁöÑÂÆ¢Êà∑</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞Êü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢ÊåÅÊúâÁõ∏ÂêåÂü∫ÈáëÁªÑÂêàÁöÑÂÆ¢Êà∑ÂØπÔºåÂ¶ÇÁºñÂè∑‰∏∫AÁöÑÂÆ¢Êà∑ÊåÅÊúâÁöÑÂü∫ÈáëÔºåÁºñÂè∑‰∏∫BÁöÑÂÆ¢Êà∑‰πüÊåÅÊúâÔºåÂèçËøáÊù•ÔºåÁºñÂè∑‰∏∫BÁöÑÂÆ¢Êà∑ÊåÅÊúâÁöÑÂü∫ÈáëÔºåÁºñÂè∑‰∏∫AÁöÑÂÆ¢Êà∑‰πüÊåÅÊúâÔºåÂàô(A,B)Âç≥‰∏∫ÊåÅÊúâÁõ∏ÂêåÂü∫ÈáëÁªÑÂêàÁöÑ‰∫åÂÖÉÁªÑÔºåËØ∑ÂàóÂá∫ËøôÊ†∑ÁöÑÂÆ¢Êà∑ÂØπ„ÄÇ‰∏∫ÈÅøÂÖçËøáÂ§öÁöÑÈáçÂ§çÔºåÂ¶ÇÊûú(1,2)‰∏∫Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁªÑÔºåÂàô‰∏çÂøÖÊòæÁ§∫(2,1)ÔºåÂç≥Âè™ÊòæÁ§∫ ÁºñÂè∑Â∞èËÄÖÂú®ÂâçÁöÑÈÇ£‰∏ÄÂØπÔºåËøô‰∏ÄÁªÑÂÆ¢Êà∑ÁºñÂè∑ÂàÜÂà´ÂëΩÂêç‰∏∫c_id1,c_id2</p>
<pre><code class="language-mysql">-- 16) Êü•ËØ¢ÊåÅÊúâÁõ∏ÂêåÂü∫ÈáëÁªÑÂêàÁöÑÂÆ¢Êà∑ÂØπÔºåÂ¶ÇÁºñÂè∑‰∏∫AÁöÑÂÆ¢Êà∑ÊåÅÊúâÁöÑÂü∫ÈáëÔºåÁºñÂè∑‰∏∫BÁöÑÂÆ¢Êà∑‰πüÊåÅÊúâÔºåÂèçËøáÊù•ÔºåÁºñÂè∑‰∏∫BÁöÑÂÆ¢Êà∑ÊåÅÊúâÁöÑÂü∫ÈáëÔºåÁºñÂè∑‰∏∫AÁöÑÂÆ¢Êà∑‰πüÊåÅÊúâÔºåÂàô(A,B)Âç≥‰∏∫ÊåÅÊúâÁõ∏ÂêåÂü∫ÈáëÁªÑÂêàÁöÑ‰∫åÂÖÉÁªÑÔºåËØ∑ÂàóÂá∫ËøôÊ†∑ÁöÑÂÆ¢Êà∑ÂØπ„ÄÇ‰∏∫ÈÅøÂÖçËøáÂ§öÁöÑÈáçÂ§çÔºåÂ¶ÇÊûú(1,2)‰∏∫Êª°Ë∂≥Êù°‰ª∂ÁöÑÂÖÉÁªÑÔºåÂàô‰∏çÂøÖÊòæÁ§∫(2,1)ÔºåÂç≥Âè™ÊòæÁ§∫ÁºñÂè∑Â∞èËÄÖÂú®ÂâçÁöÑÈÇ£‰∏ÄÂØπÔºåËøô‰∏ÄÁªÑÂÆ¢Êà∑ÁºñÂè∑ÂàÜÂà´ÂëΩÂêç‰∏∫c_id1,c_id2„ÄÇ

-- ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_id1,c_id2
FROM (
    SELECT pro_c_id,GROUP_CONCAT(
        pro_pif_id
        ORDER BY pro_pif_id
        SEPARATOR ' ') as pifset
    FROM property
    WHERE pro_type=3
    GROUP BY pro_c_id
) AS c1(c_id1,pifset1),
(
    SELECT pro_c_id,GROUP_CONCAT(
        pro_pif_id
        ORDER BY pro_pif_id
        SEPARATOR ' ') as pifset
    FROM property
    WHERE pro_type=3
    GROUP BY pro_c_id
)AS c2(c_id2,pifset2)
WHERE pifset1=pifset2 AND c_id1&lt;c_id2;
/*  end  of  your code  */
</code></pre>
<h3 id="317-Ë¥≠‰π∞Âü∫ÈáëÁöÑÈ´òÂ≥∞Êúü">3.17 Ë¥≠‰π∞Âü∫ÈáëÁöÑÈ´òÂ≥∞Êúü</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞Êü•ËØ¢‰ªªÂä°Ôºö Êü•ËØ¢2022Âπ¥2ÊúàË¥≠‰π∞Âü∫ÈáëÁöÑÈ´òÂ≥∞Êúü„ÄÇËá≥Â∞ëËøûÁª≠‰∏â‰∏™‰∫§ÊòìÊó•ÔºåÊâÄÊúâÊäïËµÑËÄÖË¥≠‰π∞Âü∫ÈáëÁöÑÊÄªÈáëÈ¢ùË∂ÖËøá100‰∏á(Âê´)ÔºåÂàôÁß∞ËøôÊÆµËøûÁª≠‰∫§ÊòìÊó•‰∏∫ÊäïËµÑËÄÖË¥≠‰π∞Âü∫ÈáëÁöÑÈ´òÂ≥∞Êúü„ÄÇÂè™Êúâ‰∫§ÊòìÊó•ÊâçËÉΩË¥≠‰π∞Âü∫Èáë,‰ΩÜ‰∏çËÉΩ‰øùËØÅÊØè‰∏™‰∫§ÊòìÊó•ÈÉΩÊúâÊäïËµÑËÄÖË¥≠‰π∞Âü∫Èáë„ÄÇ2022Âπ¥Êò•ËäÇÂÅáÊúü‰πãÂêéÁöÑÁ¨¨1‰∏™‰∫§ÊòìÊó•‰∏∫2Êúà7Êó•,Âë®ÂÖ≠ÂíåÂë®Êó•ÊòØÈùû‰∫§ÊòìÊó•ÔºåÂÖ∂‰ΩôÂùá‰∏∫‰∫§ÊòìÊó•„ÄÇËØ∑ÂàóÂá∫È´òÂ≥∞Êó∂ÊÆµÁöÑÊó•ÊúüÂíåÂΩìÊó•Âü∫ÈáëÁöÑÊÄªË¥≠‰π∞ÈáëÈ¢ùÔºåÊåâÊó•ÊúüÈ°∫Â∫èÊéíÂ∫è„ÄÇÊÄªË¥≠‰π∞ÈáëÈ¢ùÂëΩÂêç‰∏∫total_amount„ÄÇ</p>
<p>Ôºà<s>Á†¥Èò≤ÔºÅÂàáË∫´ÊÑüÂèóÂà∞‰∫ÜËØæ‰∏äËÆ≤ÁöÑÂíåÂÆûÈôÖË¶Å‰Ω†ÂÅöÁöÑ‰πãÈó¥ÁöÑÂ§©Â£§‰πãÂà´</s>Ôºâ</p>
<pre><code class="language-mysql">-- 17 Êü•ËØ¢2022Âπ¥2ÊúàË¥≠‰π∞Âü∫ÈáëÁöÑÈ´òÂ≥∞Êúü„ÄÇËá≥Â∞ëËøûÁª≠‰∏â‰∏™‰∫§ÊòìÊó•ÔºåÊâÄÊúâÊäïËµÑËÄÖË¥≠‰π∞Âü∫ÈáëÁöÑÊÄªÈáëÈ¢ùË∂ÖËøá100‰∏á(Âê´)ÔºåÂàôÁß∞ËøôÊÆµËøûÁª≠‰∫§ÊòìÊó•‰∏∫ÊäïËµÑËÄÖË¥≠‰π∞Âü∫ÈáëÁöÑÈ´òÂ≥∞Êúü„ÄÇÂè™Êúâ‰∫§ÊòìÊó•ÊâçËÉΩË¥≠‰π∞Âü∫Èáë,‰ΩÜ‰∏çËÉΩ‰øùËØÅÊØè‰∏™‰∫§ÊòìÊó•ÈÉΩÊúâÊäïËµÑËÄÖË¥≠‰π∞Âü∫Èáë„ÄÇ2022Âπ¥Êò•ËäÇÂÅáÊúü‰πãÂêéÁöÑÁ¨¨1‰∏™‰∫§ÊòìÊó•‰∏∫2Êúà7Êó•,Âë®ÂÖ≠ÂíåÂë®Êó•ÊòØÈùû‰∫§ÊòìÊó•ÔºåÂÖ∂‰ΩôÂùá‰∏∫‰∫§ÊòìÊó•„ÄÇËØ∑ÂàóÂá∫È´òÂ≥∞Êó∂ÊÆµÁöÑÊó•ÊúüÂíåÂΩìÊó•Âü∫ÈáëÁöÑÊÄªË¥≠‰π∞ÈáëÈ¢ùÔºåÊåâÊó•ÊúüÈ°∫Â∫èÊéíÂ∫è„ÄÇÊÄªË¥≠‰π∞ÈáëÈ¢ùÂëΩÂêç‰∏∫total_amount„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
/*‰∫§ÊòìÊó•:2.7-2.11,2.14-2.18,2.21-2.25,2.28ÂÖ±16Â§©*/
/*ÈÅçÂéÜÂÖ®ÈÉ®3‰∏™ËøûÁª≠‰∫§ÊòìÊó•,ÈúÄË¶ÅÈÅçÂéÜ14Ê¨°*/
SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 0
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank0:=@curRank0+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 0
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank0:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 1
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank1:=@curRank1+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 1
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank1:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 2
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank2:=@curRank2+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 2
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank2:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 3
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank3:=@curRank3+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 3
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank3:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 4
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank4:=@curRank4+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 4
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank4:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 5
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank5:=@curRank5+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 5
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank5:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 6
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank6:=@curRank6+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 6
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank6:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 7
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank7:=@curRank7+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 7
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank7:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 8
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank8:=@curRank8+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 8
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank8:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 9
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank9:=@curRank9+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 9
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank9:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 10
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank10:=@curRank10+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 10
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank10:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 11
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank11:=@curRank11+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 11
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank11:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 12
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank12:=@curRank12+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 12
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank12:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))

UNION

SELECT pro_purchase_time,total_amount
FROM(
    SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
    FROM property,fund
    WHERE pro_type=3 AND pro_pif_id=f_id AND
    pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
    GROUP BY pro_purchase_time
    ORDER BY pro_purchase_time
    LIMIT 3 OFFSET 13
) AS amount0(pro_purchase_time,total_amount)
WHERE 3 IN (SELECT `rank` FROM(
    SELECT pro_purchase_time,total_amount,@curRank13:=@curRank13+1 AS `rank`
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
        LIMIT 3 OFFSET 13
    ) AS amount(pro_purchase_time,total_amount),(SELECT @curRank13:=0) AS r
    WHERE total_amount&gt;=1000000
) AS amount1(pro_purchase_time,total_amount,`rank`))
/*  end  of  your code  */
</code></pre>
<h3 id="318-Ëá≥Â∞ëÊúâ‰∏ÄÂº†‰ø°Áî®Âç°‰ΩôÈ¢ùË∂ÖËøá5000ÂÖÉÁöÑÂÆ¢Êà∑‰ø°ÊÅØ">3.18 Ëá≥Â∞ëÊúâ‰∏ÄÂº†‰ø°Áî®Âç°‰ΩôÈ¢ùË∂ÖËøá5000ÂÖÉÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞‰ª•‰∏ãÊü•ËØ¢Ë¶ÅÊ±ÇÔºö<br>
Êü•ËØ¢Ëá≥Â∞ëÊúâ‰∏ÄÂº†‰ø°Áî®Âç°‰ΩôÈ¢ùË∂ÖËøá5000ÂÖÉÁöÑÂÆ¢Êà∑ÁºñÂè∑Ôºå‰ª•ÂèäËØ•ÂÆ¢Êà∑ÊåÅÊúâÁöÑ‰ø°Áî®Âç°ÊÄª‰ΩôÈ¢ùÔºåÊÄª‰ΩôÈ¢ùÂëΩÂêç‰∏∫credit_card_amount„ÄÇÊü•ËØ¢ÁªìÊûú‰æùÂÆ¢Êà∑ÁºñÂè∑ÊéíÂ∫è„ÄÇ</p>
<p>Ôºà<s>Á¨¨17ÂÖ≥Âø´Êää‰∫∫Êï¥Ê≠ªÔºåÁ¨¨18ÂÖ≥Â∞±ËøôÔºü</s>Ôºâ</p>
<pre><code class="language-mysql"> -- 18) Êü•ËØ¢Ëá≥Â∞ëÊúâ‰∏ÄÂº†‰ø°Áî®Âç°‰ΩôÈ¢ùË∂ÖËøá5000ÂÖÉÁöÑÂÆ¢Êà∑ÁºñÂè∑Ôºå‰ª•ÂèäËØ•ÂÆ¢Êà∑ÊåÅÊúâÁöÑ‰ø°Áî®Âç°ÊÄª‰ΩôÈ¢ùÔºåÊÄª‰ΩôÈ¢ùÂëΩÂêç‰∏∫credit_card_amount„ÄÇ
--    ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT A.b_c_id,SUM(b_balance) credit_card_amount
FROM bank_card A
WHERE b_type='‰ø°Áî®Âç°' AND EXISTS(
    SELECT *
    FROM bank_card B
    WHERE A.b_c_id=B.b_c_id AND b_type='‰ø°Áî®Âç°' AND b_balance&gt;5000
)
GROUP BY A.b_c_id
ORDER BY A.b_c_id;
/*  end  of  your code  */
</code></pre>
<h3 id="319-‰ª•Êó•ÂéÜË°®Ê†ºÂºèÊòæÁ§∫ÊØèÊó•Âü∫ÈáëË¥≠‰π∞ÊÄªÈáëÈ¢ù">3.19 ‰ª•Êó•ÂéÜË°®Ê†ºÂºèÊòæÁ§∫ÊØèÊó•Âü∫ÈáëË¥≠‰π∞ÊÄªÈáëÈ¢ù</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö ‰ª•Êó•ÂéÜË°®Ê†ºÂºèÂàóÂá∫2022Âπ¥2ÊúàÊØèÂë®ÊØè‰∏™‰∫§ÊòìÊó•Âü∫ÈáëË¥≠‰π∞ÊÄªÈáëÈ¢ùÔºåËæìÂá∫Ê†ºÂºèÂ¶Ç‰∏ãÔºö</p>
<table>
<thead>
<tr>
<th style="text-align:center">week_of_trading</th>
<th style="text-align:center">Monday</th>
<th style="text-align:center">Tuesday</th>
<th style="text-align:center">Wednesday</th>
<th style="text-align:center">Thursday</th>
<th style="text-align:center">Friday</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>ÂàóË°®‰∏≠Á¨¨1Âàó‰∏∫Âë®Ê¨°Ôºå2022Âπ¥2Êúà7Êó•(ÊòüÊúü‰∏Ä)‰∏∫ÂΩìÊúàÁöÑÁ¨¨1‰∏™‰∫§ÊòìÊó•ÔºåËøô‰∏ÄÂë®ËÆ∞‰∏∫Á¨¨1Âë®Ê¨°„ÄÇÊ≥®ÊÑèÊòæÁ§∫ÁªìÊûúÂπ∂‰∏çÈúÄË¶ÅÁîªË°®Ê†ºÁ∫øÔºåÂè™ÈúÄÊåâËøô‰∏™Ê†ºÂºèËæìÂá∫ÁªìÊûúÂç≥ÂèØ‰∫Ü„ÄÇ</p>
<pre><code class="language-mysql">-- 19) ‰ª•Êó•ÂéÜË°®Ê†ºÂºèÂàóÂá∫2022Âπ¥2ÊúàÊØèÂë®ÊØèÊó•Âü∫ÈáëË¥≠‰π∞ÊÄªÈáëÈ¢ùÔºåËæìÂá∫Ê†ºÂºèÂ¶Ç‰∏ãÔºö
-- week_of_trading Monday Tuesday Wednesday Thursday Friday
--               1
--               2    
--               3
--               4
--   ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT week_of_trading,
    SUM(if(wd=2,total_amount,NULL)) Monday,
    SUM(if(wd=3,total_amount,NULL)) Tuesday,
    SUM(if(wd=4,total_amount,NULL)) Wednesday,
    SUM(if(wd=5,total_amount,NULL)) Thursday,
    SUM(if(wd=6,total_amount,NULL)) Friday
FROM(
        SELECT week(pro_purchase_time)-5 week_of_trading,dayofweek(pro_purchase_time) wd,total_amount
    FROM(
        SELECT pro_purchase_time,SUM(pro_quantity*f_amount) total_amount
        FROM property,fund
        WHERE pro_type=3 AND pro_pif_id=f_id AND
        pro_purchase_time&gt;='2022-02-07' AND pro_purchase_time&lt;='2022-02-28'
        GROUP BY pro_purchase_time
        ORDER BY pro_purchase_time
    ) R1(pro_purchase_time,total_amount)
) R2(week_of_trading,wd,total_amount)
GROUP BY week_of_trading;
/*  end  of  your code  */
</code></pre>
<h2 id="Âõõ-ÂÆûËÆ≠4-Êï∞ÊçÆÊü•ËØ¢select‰πã‰∫å">Âõõ„ÄÅÂÆûËÆ≠4 Êï∞ÊçÆÊü•ËØ¢(Select)‰πã‰∫å</h2>
<h3 id="41-Êü•ËØ¢ÈîÄÂîÆÊÄªÈ¢ùÂâç‰∏âÁöÑÁêÜË¥¢‰∫ßÂìÅ">4.1 Êü•ËØ¢ÈîÄÂîÆÊÄªÈ¢ùÂâç‰∏âÁöÑÁêÜË¥¢‰∫ßÂìÅ</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö<br>
Êü•ËØ¢2010Âπ¥Âíå2011Âπ¥Ëøô‰∏§Âπ¥ÊØèÂπ¥ÈîÄÂîÆÊÄªÈ¢ùÂâç3ÂêçÔºàÂ¶ÇÊûúÊúâÂπ∂ÂàóÊéíÂêçÔºåÂàôÂêéÁª≠ÊéíÂêçÂè∑Ë∑≥Ëøá‰πãÂâçÁöÑÂπ∂ÂàóÊéíÂêç‰∏™Êï∞Ôºå‰æãÂ¶Ç1„ÄÅ1„ÄÅ3ÔºâÁöÑÁªüËÆ°Âπ¥‰ªΩÔºàpyearÔºâ„ÄÅÈîÄÂîÆÊÄªÈ¢ùÊéíÂêçÂÄº(rk)„ÄÅÁêÜË¥¢‰∫ßÂìÅÁºñÂè∑(p_id)„ÄÅÈîÄÂîÆÊÄªÈ¢ù(sumamount)„ÄÇ<br>
Ê≥®ÊÑèÁªìÊûúËæìÂá∫Ë¶ÅÊ±ÇÔºö(1)ÊåâÁÖßÂπ¥‰ªΩÂçáÂ∫èÊéíÂàóÔºåÂêå‰∏ÄÂπ¥‰ªΩÊåâÁÖßÈîÄÂîÆÊÄªÈ¢ùÁöÑÊéíÂêçÂÄºÂçáÂ∫èÊéíÂàóÔºåÂ¶ÇÈÅáÂà∞Âπ∂ÂàóÊéíÂêçÂàôÊåâÁÖßÁêÜË¥¢‰∫ßÂìÅÁºñÂè∑ÂçáÂ∫èÊéíÂàó;(2)Â±ûÊÄßÊòæÁ§∫ÔºöÁªüËÆ°Âπ¥‰ªΩÔºàpyearÔºâ„ÄÅÈîÄÂîÆÊÄªÈ¢ùÊéíÂêçÂÄº(rk)„ÄÅÁêÜË¥¢‰∫ßÂìÅÁºñÂè∑(p_id)„ÄÅÈîÄÂîÆÊÄªÈ¢ù(sumamount)Ôºà3ÔºâÁªìÊûúÊòæÁ§∫È°∫Â∫èÔºöÂÖàÊåâÁÖßÁªüËÆ°Âπ¥‰ªΩÔºàpyearÔºâÂçáÂ∫èÊéí,Âêå‰∏ÄÂπ¥‰ªΩÊåâÁÖßÈîÄÂîÆÊÄªÈ¢ùÊéíÂêçÂÄºÔºàrkÔºâÂçáÂ∫èÊéí,Âêå‰∏ÄÊéíÂêçÂÄºÁöÑÊåâÁÖßÁêÜË¥¢‰∫ßÂìÅÁºñÂè∑Ôºàp_id ÔºâÂçáÂ∫èÊéí„ÄÇ</p>
<pre><code class="language-mysql"> -- 1) Êü•ËØ¢ÈîÄÂîÆÊÄªÈ¢ùÂâç‰∏âÁöÑÁêÜË¥¢‰∫ßÂìÅ
--   ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT pyear,rk,p_id,sumamount
FROM(
    SELECT pyear,rank()over(partition by pyear order by sumamount DESC) AS rk,p_id,sumamount
    FROM(
        SELECT p_id,SUM(pro_quantity*p_amount) sumamount,2010 pyear
        FROM property,finances_product
        WHERE pro_pif_id=p_id AND pro_type=1 AND year(pro_purchase_time)=2010
        GROUP BY p_id
        UNION
        SELECT p_id,SUM(pro_quantity*p_amount) sumamount,2011 pyear
        FROM property,finances_product
        WHERE pro_pif_id=p_id AND pro_type=1 AND year(pro_purchase_time)=2011
        GROUP BY p_id
    ) AS R1
) AS R2
WHERE rk&lt;=3;
/*  end  of  your code  */
</code></pre>
<h3 id="42-ÊäïËµÑÁßØÊûÅ‰∏îÂÅèÂ•ΩÁêÜË¥¢Á±ª‰∫ßÂìÅÁöÑÂÆ¢Êà∑">4.2 ÊäïËµÑÁßØÊûÅ‰∏îÂÅèÂ•ΩÁêÜË¥¢Á±ª‰∫ßÂìÅÁöÑÂÆ¢Êà∑</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö<br>
Ë¥≠‰π∞‰∫Ü3ÁßçÔºàÂêå‰∏ÄÁºñÂè∑ÁöÑÁêÜË¥¢‰∫ßÂìÅËÆ∞‰∏∫‰∏ÄÁßçÔºâ‰ª•‰∏äÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑Ë¢´ËÆ§‰∏∫ÊäïËµÑÁßØÊûÅÁöÑÂÆ¢Êà∑ÔºåËã•ËØ•ÂÆ¢Êà∑ÊåÅÊúâÂü∫Èáë‰∫ßÂìÅÁßçÁ±ªÊï∞ÔºàÂêå‰∏ÄÂü∫ÈáëÁºñÂè∑ËÆ∞‰∏∫Áõ∏ÂêåÁöÑÂü∫Èáë‰∫ßÂìÅÁßçÁ±ªÔºâÂ∞è‰∫éÂÖ∂ÊåÅÊúâÁöÑÁêÜË¥¢‰∫ßÂìÅÁßçÁ±ªÊï∞ÔºåÂàôËÆ§‰∏∫ËØ•ÂÆ¢Êà∑‰∏∫ÊäïËµÑÁßØÊûÅ‰∏îÂÅèÂ•ΩÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑„ÄÇÊü•ËØ¢ÊâÄÊúâÊ≠§Á±ªÂÆ¢Êà∑ÁöÑÁºñÂè∑(pro_c_id)„ÄÇ Ê≥®ÊÑèÁªìÊûúËæìÂá∫Ë¶ÅÊ±ÇÔºöÊåâÁÖßÂÆ¢Êà∑ÁºñÂè∑ÁöÑÂçáÂ∫èÊéíÂàóÔºå‰∏îÂéªÈô§ÈáçÂ§çÁªìÊûú</p>
<pre><code class="language-mysql">  -- 2) ÊäïËµÑÁßØÊûÅ‰∏îÂÅèÂ•ΩÁêÜË¥¢Á±ª‰∫ßÂìÅÁöÑÂÆ¢Êà∑
--   ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT P.pro_c_id
FROM(
  SELECT pro_c_id,COUNT(pro_pif_id) pnum
  FROM property
  WHERE pro_type=1
  GROUP BY pro_c_id
) P,(
  SELECT pro_c_id,COUNT(pro_pif_id) fnum
  FROM property
  WHERE pro_type=3
  GROUP BY pro_c_id
) F
WHERE P.pro_c_id=F.pro_c_id AND pnum&gt;=3 AND pnum&gt;fnum;
/*  end  of  your code  */
</code></pre>
<h3 id="43-Êü•ËØ¢Ë¥≠‰π∞‰∫ÜÊâÄÊúâÁïÖÈîÄÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑">4.3 Êü•ËØ¢Ë¥≠‰π∞‰∫ÜÊâÄÊúâÁïÖÈîÄÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö<br>
Ëã•ÂÆö‰πâÊåÅÊúâ‰∫∫Êï∞Ë∂ÖËøá2ÁöÑÁêÜË¥¢‰∫ßÂìÅÁß∞‰∏∫ÁïÖÈîÄÁêÜË¥¢‰∫ßÂìÅ„ÄÇÊü•ËØ¢Ë¥≠‰π∞‰∫ÜÊâÄÊúâÁïÖÈîÄÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑ÁºñÂè∑(pro_c_id)„ÄÇ Ê≥®ÊÑèÁªìÊûúËæìÂá∫Ë¶ÅÊ±ÇÔºöÊåâÁÖßÂÆ¢Êà∑ÁºñÂè∑ÁöÑÂçáÂ∫èÊéíÂàóÔºå‰∏îÂéªÈô§ÈáçÂ§çÁªìÊûú„ÄÇ</p>
<p>Ôºà<s>ÂÆûËÆ≠3ÂÅöÂá∫Èò¥ÂΩ±‰∫ÜÔºåÊÑüËßâÂÆûËÆ≠4ÈÉΩËøòÁÆóÁÆÄÂçï</s>Ôºâ</p>
<pre><code class="language-mysql">   -- 3) Êü•ËØ¢Ë¥≠‰π∞‰∫ÜÊâÄÊúâÁïÖÈîÄÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑
--   ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT pro_c_id
FROM property A
WHERE NOT EXISTS(
   SELECT *
   FROM property B
   WHERE A.pro_c_id=B.pro_c_id AND B.pro_type=1 AND A.pro_pif_id NOT IN(
      SELECT pro_pif_id
      FROM property
      WHERE pro_type=1
      GROUP BY pro_pif_id
      HAVING COUNT(pro_c_id)&gt;2
   )
) AND pro_type=1
GROUP BY pro_c_id
HAVING COUNT(pro_pif_id)=(SELECT COUNT(*) FROM(
   SELECT pro_pif_id
   FROM property
   WHERE pro_type=1
   GROUP BY pro_pif_id
   HAVING COUNT(pro_c_id)&gt;2
) AS R1)
ORDER BY pro_c_id;
/*  end  of  your code  */
</code></pre>
<h3 id="44-Êü•ÊâæÁõ∏‰ººÁöÑÁêÜË¥¢‰∫ßÂìÅ">4.4 Êü•ÊâæÁõ∏‰ººÁöÑÁêÜË¥¢‰∫ßÂìÅ</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö  Âú®Êüê‰∫õÊé®ËçêÊñπÊ≥ï‰∏≠ÔºåÈúÄË¶ÅÊü•ÊâæÊüêÊ¨æÁêÜË¥¢‰∫ßÂìÅÁõ∏‰ººÁöÑÂÖ∂‰ªñÁêÜË¥¢‰∫ßÂìÅÔºå‰∏çÂ¶®ËÆæÂÖ∂ÂÆö‰πâ‰∏∫ÔºöÂØπ‰∫éÊüêÊ¨æÁêÜË¥¢‰∫ßÂìÅAÔºåÂèØÊâæÂà∞ÊåÅÊúâAÊï∞ÈáèÊúÄÂ§öÁöÑ‚Äú3‚Äù‰∏™ÔºàÂåÖÊã¨ÊâÄÊúâÊåÅÊúâÁõ∏ÂêåÊï∞ÈáèÁöÑÂÆ¢Êà∑ÔºåÂõ†Ê≠§Â¶ÇÊúâ3‰∏™Âπ∂ÂàóÁ¨¨‰∏Ä„ÄÅ1‰∏™Á¨¨‰∫å„ÄÅ‰∏Ä‰∏™Á¨¨‰∏âÔºåÂàôÊéíÂàóÁªìÊûúÊòØ1,1,1,2,3ÔºâÂÆ¢Êà∑ÔºåÁÑ∂ÂêéÂØπ‰∫éËøô‚Äú3‚Äù‰∏™ÂÆ¢Êà∑ÊåÅÊúâÁöÑÊâÄÊúâÁêÜË¥¢‰∫ßÂìÅÔºà‰∏çÂåÖÂê´‰∫ßÂìÅAËá™Ë∫´ÔºâÔºåÊØèÊ¨æ‰∫ßÂìÅË¢´ÂÖ®‰ΩìÂÆ¢Êà∑ÊåÅÊúâÊÄª‰∫∫Êï∞Ë¢´ËÆ§‰∏∫ÊòØÂíå‰∫ßÂìÅAÁöÑÁõ∏‰ººÂ∫¶ÔºåËã•ÊúâÁõ∏‰ººÂ∫¶Áõ∏ÂêåÁöÑÁêÜË¥¢‰∫ßÂìÅÔºåÂàô‰∏∫‰∫Ü‰æø‰∫éÂêéÁª≠Â§ÑÁêÜÁöÑÁ°ÆÂÆöÊÄßÔºåÂàôËøô‰∫õÁõ∏‰ººÂ∫¶Áõ∏ÂêåÁöÑÁêÜË¥¢‰∫ßÂìÅÈó¥ÊåâÁÖß‰∫ßÂìÅÁºñÂè∑ÁöÑÂçáÂ∫èÊéíÂàó„ÄÇÊåâÁÖßÂíå‰∫ßÂìÅAÁöÑÁõ∏‰ººÂ∫¶ÔºåÊúÄÂ§öÁöÑ‚Äú3‚ÄùÊ¨æÔºàÂêå‰∏äÁêÜÔºåÂâç3ÂêçÂÖÅËÆ∏Âπ∂ÂàóÁöÑÊÉÖÂÜµÔºå‰æãÂ¶ÇÊéíÂàóÁªìÊûúÊòØ1,2,2,2,3ÔºâÁêÜË¥¢‰∫ßÂìÅÔºåÂ∞±ÊòØ‰∫ßÂìÅAÁöÑÁõ∏‰ººÁöÑÁêÜË¥¢‰∫ßÂìÅ„ÄÇ ËØ∑Êü•Êâæ‰∫ßÂìÅ14ÁöÑÁõ∏‰ººÁêÜË¥¢‰∫ßÂìÅÁºñÂè∑Ôºà‰∏çÂåÖÂê´14Ëá™Ë∫´ÔºâÔºàpro_pif_idÔºâ„ÄÅËØ•ÁºñÂè∑ÁöÑÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Ë¥≠‰π∞ÂÆ¢Êà∑ÊÄª‰∫∫Êï∞ÔºàccÔºâ‰ª•ÂèäËØ•ÁêÜË¥¢‰∫ßÂìÅÂØπ‰∫é14 Âè∑ÁêÜË¥¢‰∫ßÂìÅÁöÑÁõ∏‰ººÂ∫¶ÊéíÂêçÂÄºÔºàprankÔºâ„ÄÇ Ê≥®ÊÑèÁªìÊûúËæìÂá∫Ë¶ÅÊ±ÇÔºöÊåâÁÖßÁõ∏‰ººÂ∫¶ÂÄºÈôçÂ∫èÊéíÂàóÔºåÁõ∏ÂêåÁõ∏‰ººÂ∫¶ÁöÑÁêÜË¥¢‰∫ßÂìÅ‰πãÈó¥ÂàôÊåâÁÖß‰∫ßÂìÅÁºñÂè∑ÁöÑÂçáÂ∫èÊéíÂàó„ÄÇ</p>
<pre><code class="language-mysql">    -- 4) 	Êü•ÊâæÁõ∏‰ººÁöÑÁêÜË¥¢‰∫ßÂìÅ

--   ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT R2.pro_pif_id,cc,dense_rank() over(ORDER BY cc DESC) AS prank
FROM(
    SELECT pro_pif_id
    FROM property A,(
        SELECT pro_c_id
        FROM(
            SELECT pro_c_id,dense_rank() over(ORDER BY pro_quantity DESC) AS rk
            FROM property
            WHERE pro_type=1 AND pro_pif_id=14
        ) AS R1(pro_c_id,rk)
        WHERE R1.rk&lt;=3
    ) R1
    WHERE R1.pro_c_id=A.pro_c_id AND A.pro_type=1 AND pro_pif_id&lt;&gt;14
    GROUP BY pro_pif_id
) AS R2,(
    SELECT pro_pif_id,COUNT(pro_c_id) cc
    FROM property
    WHERE pro_type=1
    GROUP BY pro_pif_id
) AS R3
WHERE R2.pro_pif_id=R3.pro_pif_id
ORDER BY cc DESC,pro_pif_id
/*  end  of  your code  */
</code></pre>
<h3 id="45-Êü•ËØ¢‰ªªÊÑè‰∏§‰∏™ÂÆ¢Êà∑ÁöÑÁõ∏ÂêåÁêÜË¥¢‰∫ßÂìÅÊï∞">4.5 Êü•ËØ¢‰ªªÊÑè‰∏§‰∏™ÂÆ¢Êà∑ÁöÑÁõ∏ÂêåÁêÜË¥¢‰∫ßÂìÅÊï∞</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö<br>
Êü•ËØ¢‰ªªÊÑè‰∏§‰∏™ÂÆ¢Êà∑‰πãÈó¥ÊåÅÊúâÁöÑÁõ∏ÂêåÁêÜË¥¢‰∫ßÂìÅÁßçÊï∞ÔºåÂπ∂‰∏îÁªìÊûú‰ªÖ‰øùÁïôÁõ∏ÂêåÁêÜË¥¢‰∫ßÂìÅÊï∞Ëá≥Â∞ë2ÁßçÁöÑÁî®Êà∑ÂØπ„ÄÇ  Ê≥®ÊÑèÁªìÊûúËæìÂá∫Ë¶ÅÊ±ÇÔºöÁ¨¨‰∏ÄÂàóÂíåÁ¨¨‰∫åÂàóËæìÂá∫ÂÆ¢Êà∑ÁºñÂè∑(pro_c_id,pro_c_id)ÔºåÁ¨¨‰∏âÂàóËæìÂá∫‰ªñ‰ª¨ÊåÅÊúâÁöÑÁõ∏ÂêåÁêÜË¥¢‰∫ßÂìÅÊï∞(total_count)ÔºåÊåâÁÖßÁ¨¨‰∏ÄÂàóÁöÑÂÆ¢Êà∑ÁºñÂè∑ÁöÑÂçáÂ∫èÊéíÂàó„ÄÇ</p>
<pre><code class="language-mysql">-- 5) Êü•ËØ¢‰ªªÊÑè‰∏§‰∏™ÂÆ¢Êà∑ÁöÑÁõ∏ÂêåÁêÜË¥¢‰∫ßÂìÅÊï∞
--   ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT R1.pro_c_id,R2.pro_c_id,COUNT(*) total_count
FROM(
    SELECT pro_c_id,pro_pif_id
    FROM property
    WHERE pro_type=1
) AS R1,(
    SELECT pro_c_id,pro_pif_id
    FROM property
    WHERE pro_type=1
)AS R2
WHERE R1.pro_pif_id=R2.pro_pif_id AND R1.pro_c_id&lt;&gt;R2.pro_c_id
GROUP BY R1.pro_c_id,R2.pro_c_id
HAVING total_count&gt;=2
ORDER BY R1.pro_c_id
/*  end  of  your code  */
</code></pre>
<h3 id="46-Êü•ÊâæÁõ∏‰ººÁöÑÁêÜË¥¢ÂÆ¢Êà∑">4.6 Êü•ÊâæÁõ∏‰ººÁöÑÁêÜË¥¢ÂÆ¢Êà∑</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆåÊàê‰ª•‰∏ãÊü•ËØ¢‰ªªÂä°Ôºö<br>
Âú®Êüê‰∫õÊé®ËçêÊñπÊ≥ï‰∏≠ÔºåÈúÄË¶ÅÊü•ÊâæÊüê‰ΩçÂÆ¢Êà∑Âú®ÁêÜË¥¢Ë°å‰∏∫‰∏äÁõ∏‰ººÁöÑÂÖ∂‰ªñÂÆ¢Êà∑Ôºå‰∏çÂ¶®ËÆæÂÖ∂ÂÆö‰πâ‰∏∫ÔºöÂØπ‰∫éAÂÆ¢Êà∑ÔºåÂÖ∂Ë¥≠‰π∞ÁöÑÁêÜË¥¢‰∫ßÂìÅÈõÜÂêà‰∏∫{P}ÔºåÂè¶ÊâÄÊúâ‰π∞Ëøá{P}‰∏≠Ëá≥Â∞ë‰∏ÄÊ¨æ‰∫ßÂìÅÁöÑÂÖ∂‰ªñÂÆ¢Êà∑ÈõÜÂêà‰∏∫{B}ÔºåÂàô{B}‰∏≠ÊØè‰ΩçÁî®Êà∑Ë¥≠‰π∞ÁöÑ{P}‰∏≠‰∫ßÂìÅÁöÑÊï∞Èáè‰∏∫‰ªñ‰∏éAÂÆ¢Êà∑ÁöÑÁõ∏‰ººÂ∫¶ÂÄº„ÄÇÂ∞Ü{B}‰∏≠ÂÆ¢Êà∑ÊåâÁÖßÁõ∏‰ººÂ∫¶ÂÄºÈôçÂ∫èÊéíÂàóÔºåÂæóÂà∞AÂÆ¢Êà∑ÁöÑÁõ∏ÂêåÁõ∏‰ººÂ∫¶ÂÄºÂàôÊåâÁÖßÂÆ¢Êà∑ÁºñÂè∑ÂçáÂ∫èÊéíÂàóÔºåËøôÊ†∑ÂèñÂâç‰∏§‰ΩçÂÆ¢Êà∑Âç≥‰∏∫AÂÆ¢Êà∑ÁöÑÁõ∏‰ººÁêÜË¥¢ÂÆ¢Êà∑ÂàóË°®„ÄÇ  Êü•ËØ¢ÊØè‰ΩçÂÆ¢Êà∑(ÂàóÂêçÔºöpac)ÁöÑÁõ∏‰ººÂ∫¶ÊéíÂêçÂÄºÂ∞è‰∫é3ÁöÑÁõ∏‰ººÂÆ¢Êà∑(ÂàóÂêçÔºöpbc)ÂàóË°®Ôºå‰ª•ÂèäËØ•ÊØè‰ΩçÂÆ¢Êà∑Âíå‰ªñÁöÑÊØè‰ΩçÁõ∏‰ººÂÆ¢Êà∑ÁöÑÂÖ±ÂêåÊåÅÊúâÁöÑÁêÜË¥¢‰∫ßÂìÅÊï∞(ÂàóÂêçÔºöcommon)„ÄÅÁõ∏‰ººÂ∫¶ÊéíÂêçÂÄº(ÂàóÂêçÔºöcrank)„ÄÇ  Ê≥®ÊÑèÁªìÊûúËæìÂá∫Ë¶ÅÊ±ÇÔºöË¶ÅÊ±ÇÁªìÊûúÂÖàÊåâÁÖßÂ∑¶ËæπÂÆ¢Êà∑ÁºñÂè∑(pac)ÂçáÂ∫èÊéíÂàóÔºåÂêå‰∏Ä‰∏™ÂÆ¢Êà∑ÁöÑÁõ∏‰ººÂÆ¢Êà∑ÂàôÊåâÁÖßÂÆ¢Êà∑Áõ∏‰ººÂ∫¶ÊéíÂêçÂÄºÔºàcrankÔºâÈ°∫Â∫èÊéíÂàó„ÄÇ</p>
<pre><code class="language-mysql"> -- 6) Êü•ÊâæÁõ∏‰ººÁöÑÁêÜË¥¢ÂÆ¢Êà∑
--   ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT pac,pbc,common,crank
FROM(
    SELECT pac,pbc,common,rank() over(partition by pac order by common desc,pbc) as crank
    FROM(
        SELECT R1.pro_c_id pac,R2.pro_c_id pbc,COUNT(*) common
        FROM(
            SELECT pro_c_id,pro_pif_id
            FROM property
            WHERE pro_type=1
        ) AS R1,(
            SELECT pro_c_id,pro_pif_id
            FROM property
            WHERE pro_type=1
        )AS R2
        WHERE R1.pro_pif_id=R2.pro_pif_id AND R1.pro_c_id&lt;&gt;R2.pro_c_id
        GROUP BY R1.pro_c_id,R2.pro_c_id
        ORDER BY R1.pro_c_id
    ) AS R1(pac,pbc,common)
) AS R2(pac,pbc,common,crank)
WHERE R2.crank&lt;3
/*  end  of  your code  */
</code></pre>
<h2 id="‰∫î-ÂÆûËÆ≠5-Êï∞ÊçÆÁöÑÊèíÂÖ•-‰øÆÊîπ‰∏éÂà†Èô§insertupdatedelete">‰∫î„ÄÅÂÆûËÆ≠5 Êï∞ÊçÆÁöÑÊèíÂÖ•„ÄÅ‰øÆÊîπ‰∏éÂà†Èô§(Insert,Update,Delete)</h2>
<h3 id="51-ÊèíÂÖ•Â§öÊù°ÂÆåÊï¥ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ">5.1 ÊèíÂÖ•Â§öÊù°ÂÆåÊï¥ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</h3>
<p>ÈáçÊ∏©‰∏ä‰∏ÄÂÆûËÆ≠È°πÁõÆ‰∏≠ÈáëËûçÂ∫îÁî®Âú∫ÊôØÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÆ¢Êà∑Ë°®ÁªìÊûÑÔºö</p>
<p>Ë°®1 client(ÂÆ¢Êà∑Ë°®)</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>c_id</td>
<td>INTEGER</td>
<td>PRIMARY KEY</td>
<td>ÂÆ¢Êà∑ÁºñÂè∑</td>
</tr>
<tr>
<td>c_name</td>
<td>VARCHAR(100)</td>
<td>NOT NULL</td>
<td>ÂÆ¢Êà∑ÂêçÁß∞</td>
</tr>
<tr>
<td>c_mail</td>
<td>CHAR(30)</td>
<td>UNIQUE</td>
<td>ÂÆ¢Êà∑ÈÇÆÁÆ±</td>
</tr>
<tr>
<td>c_id_card</td>
<td>CHAR(20)</td>
<td>UNIQUE NOT NULL</td>
<td>ÂÆ¢Êà∑Ë∫´‰ªΩËØÅ</td>
</tr>
<tr>
<td>c_phone</td>
<td>CHAR(20)</td>
<td>UNIQUE NOT NULL</td>
<td>ÂÆ¢Êà∑ÊâãÊú∫Âè∑</td>
</tr>
<tr>
<td>c_password</td>
<td>CHAR(20)</td>
<td>NOT NULL</td>
<td>ÂÆ¢Êà∑ÁôªÂΩïÂØÜÁ†Å</td>
</tr>
</tbody>
</table>
<p>ÂêëÂÆ¢Êà∑Ë°®ÊèíÂÖ•‰ª•‰∏ã3Êù°Êï∞ÊçÆ:</p>
<table>
<thead>
<tr>
<th>c_id</th>
<th>c_name</th>
<th>c_mail</th>
<th>c_id_card</th>
<th>c_phone</th>
<th>c_password</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ÊûóÊÉ†ÈõØ</td>
<td><a href="mailto:960323053@qq.com">960323053@qq.com</a></td>
<td>411014196712130323</td>
<td>15609032348</td>
<td>Mop5UPkl</td>
</tr>
<tr>
<td>2</td>
<td>Âê¥Â©âÁëú</td>
<td><a href="mailto:1613230826@gmail.com">1613230826@gmail.com</a></td>
<td>420152196802131323</td>
<td>17605132307</td>
<td>QUTPhxgVNlXtMxN</td>
</tr>
<tr>
<td>3</td>
<td>Ëî°Ë¥û‰ª™</td>
<td><a href="mailto:252323341@foxmail.com">252323341@foxmail.com</a></td>
<td>160347199005222323</td>
<td>17763232321</td>
<td>Bwe3gyhEErJ7</td>
</tr>
</tbody>
</table>
<p>Áî®‰∏ÄÊù°insertËØ≠Âè•ÔºåÊàñÁî®‰∏âÊù°insertËØ≠Âè•ÂÆåÊàêÔºåÈÉΩÂèØ‰ª•„ÄÇ</p>
<pre><code class="language-mysql">use finance1;
-- Áî®insertËØ≠Âè•ÂêëÂÆ¢Êà∑Ë°®(client)ÊèíÂÖ•‰ªªÂä°Ë¶ÅÊ±ÇÁöÑ3Êù°Êï∞ÊçÆ:
INSERT
INTO client(c_id,c_name,c_mail,c_id_card,c_phone,c_password)
VALUES(1,'ÊûóÊÉ†ÈõØ','960323053@qq.com','411014196712130323','15609032348','Mop5UPkl');

INSERT
INTO client(c_id,c_name,c_mail,c_id_card,c_phone,c_password)
VALUES(2,'Âê¥Â©âÁëú','1613230826@gmail.com','420152196802131323','17605132307','QUTPhxgVNlXtMxN');

INSERT
INTO client(c_id,c_name,c_mail,c_id_card,c_phone,c_password)
VALUES(3,'Ëî°Ë¥û‰ª™','252323341@foxmail.com','160347199005222323','17763232321','Bwe3gyhEErJ7');
/* end of you code */
</code></pre>
<h3 id="52-ÊèíÂÖ•‰∏çÂÆåÊï¥ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ">5.2 ÊèíÂÖ•‰∏çÂÆåÊï¥ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</h3>
<p>Â∑≤Áü•33Âè∑ÂÆ¢Êà∑ÈÉ®ÂàÜ‰ø°ÊÅØÂ¶Ç‰∏ã:<br>
c_id(ÁºñÂè∑):33<br>
c_name(ÂêçÁß∞):Ëî°‰æùÂ©∑<br>
c_phone(ÁîµËØù):18820762130<br>
c_id_card(Ë∫´‰ªΩËØÅÂè∑):350972199204227621<br>
c_password(ÂØÜÁ†Å):MKwEuc1sc6<br>
ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•Â∞ÜËøôÂêçÂÆ¢Êà∑ÁöÑ‰ø°ÊÅØÊèíÂÖ•Âà∞ÂÆ¢Êà∑Ë°®(client)</p>
<pre><code class="language-mysql">use finance1;
-- Â∑≤Áü•33Âè∑ÂÆ¢Êà∑ÈÉ®ÂàÜ‰ø°ÊÅØÂ¶Ç‰∏ã:
-- c_id(ÁºñÂè∑):33
-- c_name(ÂêçÁß∞):Ëî°‰æùÂ©∑
-- c_phone(ÁîµËØù):18820762130
-- c_id_card(Ë∫´‰ªΩËØÅÂè∑):350972199204227621
-- c_password(ÂØÜÁ†Å):MKwEuc1sc6

-- ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•Â∞ÜËøôÂêçÂÆ¢Êà∑ÁöÑ‰ø°ÊÅØÊèíÂÖ•Âà∞ÂÆ¢Êà∑Ë°®(client):
INSERT
INTO client(c_id,c_name,c_phone,c_id_card,c_password)
VALUES(33,'Ëî°‰æùÂ©∑','18820762130','350972199204227621','MKwEuc1sc6');
/* the end of your code */ 
</code></pre>
<h3 id="53-ÊâπÈáèÊèíÂÖ•Êï∞ÊçÆ">5.3 ÊâπÈáèÊèíÂÖ•Êï∞ÊçÆ</h3>
<p>Â∑≤Áü•Ë°®new_client‰øùÂ≠ò‰∫Ü‰∏ÄÊâπÊñ∞ÂÆ¢Êà∑‰ø°ÊÅØÔºåËØ•Ë°®‰∏éclientË°®ÁªìÊûÑÂÆåÂÖ®Áõ∏Âêå„ÄÇ<br>
ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•Â∞Ünew_clientË°®ÁöÑÂÖ®ÈÉ®ÂÆ¢Êà∑‰ø°ÊÅØÊèíÂÖ•Âà∞ÂÆ¢Êà∑Ë°®(client)</p>
<pre><code class="language-mysql"> use finance1;
 -- Â∑≤Áü•Ë°®new_client‰øùÂ≠ò‰∫Ü‰∏ÄÊâπÊñ∞ÂÆ¢Êà∑‰ø°ÊÅØÔºåËØ•Ë°®‰∏éclientË°®ÁªìÊûÑÂÆåÂÖ®Áõ∏Âêå„ÄÇËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•Â∞Ünew_clientË°®ÁöÑÂÖ®ÈÉ®ÂÆ¢Êà∑‰ø°ÊÅØÊèíÂÖ•Âà∞ÂÆ¢Êà∑Ë°®(client):
INSERT
INTO client
SELECT * FROM new_client;
/* the end of your code */
</code></pre>
<h3 id="54-Âà†Èô§Ê≤°ÊúâÈì∂Ë°åÂç°ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ">5.4 Âà†Èô§Ê≤°ÊúâÈì∂Ë°åÂç°ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</h3>
<p>ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•Âà†Èô§clientË°®‰∏≠Ê≤°ÊúâÈì∂Ë°åÂç°ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ„ÄÇ Ê≥®ÊÑèÔºöMySQLÁöÑdeleteËØ≠Âè•‰∏≠fromÂÖ≥ÈîÆËØç‰∏çËÉΩÁúÅÁï•„ÄÇ</p>
<pre><code class="language-mysql">use finance1;
-- ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•Âà†Èô§clientË°®‰∏≠Ê≤°ÊúâÈì∂Ë°åÂç°ÁöÑÂÆ¢Êà∑‰ø°ÊÅØÔºö
DELETE
FROM client
WHERE c_id NOT IN(SELECT b_c_id FROM bank_card);
/* the end of your code */ 
</code></pre>
<h3 id="55-ÂÜªÁªìÂÆ¢Êà∑ËµÑ‰∫ß">5.5 ÂÜªÁªìÂÆ¢Êà∑ËµÑ‰∫ß</h3>
<p>ËØ∑Áî®‰∏ÄÊù°updateËØ≠Âè•Â∞ÜÊâãÊú∫Âè∑Á†Å‰∏∫‚Äú13686431238‚ÄùËøô‰ΩçÂÆ¢Êà∑ÁöÑÊäïËµÑËµÑ‰∫ß(ÁêÜË¥¢„ÄÅ‰øùÈô©‰∏éÂü∫Èáë)ÁöÑÁä∂ÊÄÅÁΩÆ‰∏∫‚ÄúÂÜªÁªì‚Äù„ÄÇ</p>
<pre><code class="language-mysql">use finance1;
-- ËØ∑Áî®‰∏ÄÊù°updateËØ≠Âè•Â∞ÜÊâãÊú∫Âè∑Á†Å‰∏∫‚Äú13686431238‚ÄùÁöÑËøô‰ΩçÂÆ¢Êà∑ÁöÑÊäïËµÑËµÑ‰∫ß(ÁêÜË¥¢„ÄÅ‰øùÈô©‰∏éÂü∫Èáë)ÁöÑÁä∂ÊÄÅÁΩÆ‰∏∫‚ÄúÂÜªÁªì‚Äù„ÄÇÔºö
UPDATE property
SET pro_status='ÂÜªÁªì'
WHERE EXISTS(
    SELECT *
    FROM client
    WHERE c_id=pro_c_id AND c_phone='13686431238'
);
/* the end of your code */
</code></pre>
<h3 id="56-ËøûÊé•Êõ¥Êñ∞">5.6 ËøûÊé•Êõ¥Êñ∞</h3>
<p>Âú®ÈáëËûçÂ∫îÁî®Âú∫ÊôØÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂ∑≤Âú®Ë°®property(ËµÑ‰∫ßË°®)‰∏≠Ê∑ªÂä†‰∫ÜÂÆ¢Êà∑Ë∫´‰ªΩËØÅÂàóÔºåÂàóÂêç‰∏∫pro_id_cardÔºåÁ±ªÂûã‰∏∫char(18)ÔºåËØ•ÂàóÁõÆÂâçÂÖ®ÈÉ®ÁïôÁ©∫(null)„ÄÇËØ∑Áî®‰∏ÄÊù°updateËØ≠Âè•ÔºåÊ†πÊçÆclientË°®‰∏≠Êèê‰æõÁöÑË∫´‰ªΩËØÅÂè∑(c_id_card)ÔºåÂ°´ÂÜôpropertyË°®‰∏≠ÂØπÂ∫îÁöÑË∫´‰ªΩËØÅÂè∑‰ø°ÊÅØ(pro_id_card)</p>
<pre><code class="language-mysql">use finance1;
-- Âú®ÈáëËûçÂ∫îÁî®Âú∫ÊôØÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÂ∑≤Âú®Ë°®property(ËµÑ‰∫ßË°®)‰∏≠Ê∑ªÂä†‰∫ÜÂÆ¢Êà∑Ë∫´‰ªΩËØÅÂàóÔºåÂàóÂêç‰∏∫pro_id_cardÔºåÁ±ªÂûã‰∏∫char(18)ÔºåËØ•ÂàóÁõÆÂâçÂÖ®ÈÉ®ÁïôÁ©∫(null)„ÄÇ

-- ËØ∑Áî®‰∏ÄÊù°updateËØ≠Âè•ÔºåÊ†πÊçÆclientË°®‰∏≠Êèê‰æõÁöÑË∫´‰ªΩËØÅÂè∑(c_id_card)ÔºåÂ°´ÂÜôpropertyË°®‰∏≠ÂØπÂ∫îÁöÑË∫´‰ªΩËØÅÂè∑‰ø°ÊÅØ(pro_id_card)„ÄÇ
UPDATE property
SET pro_id_card=(
    SELECT c_id_card
    FROM client
    WHERE pro_c_id=c_id
);
/* the end of your code */
</code></pre>
<h2 id="ÂÖ≠-ËßÜÂõæ">ÂÖ≠„ÄÅËßÜÂõæ</h2>
<h3 id="61-ÂàõÂª∫ÊâÄÊúâ‰øùÈô©ËµÑ‰∫ßÁöÑËØ¶ÁªÜËÆ∞ÂΩïËßÜÂõæ">6.1 ÂàõÂª∫ÊâÄÊúâ‰øùÈô©ËµÑ‰∫ßÁöÑËØ¶ÁªÜËÆ∞ÂΩïËßÜÂõæ</h3>
<p>Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÁºñËæëÁ™óÂè£Â°´ÂÜô1Êù°SQLËØ≠Âè•ÔºåÂÆåÊàê‰ª•‰∏ã‰ªªÂä°Ôºö ÂàõÂª∫ÂåÖÂê´ÊâÄÊúâ‰øùÈô©ËµÑ‰∫ßËÆ∞ÂΩïÁöÑËØ¶ÁªÜ‰ø°ÊÅØÁöÑËßÜÂõæv_insurance_detailÔºåÂåÖÊã¨Ë¥≠‰π∞ÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅÂÆ¢Êà∑ÁöÑË∫´‰ªΩËØÅÂè∑„ÄÅ‰øùÈô©ÂêçÁß∞„ÄÅ‰øùÈöúÈ°πÁõÆ„ÄÅÂïÜÂìÅÁä∂ÊÄÅ„ÄÅÂïÜÂìÅÊï∞Èáè„ÄÅ‰øùÈô©ÈáëÈ¢ù„ÄÅ‰øùÈô©Âπ¥Èôê„ÄÅÂïÜÂìÅÊî∂ÁõäÂíåË¥≠‰π∞Êó∂Èó¥</p>
<pre><code class="language-mysql">use finance1;
-- ÂàõÂª∫ÂåÖÂê´ÊâÄÊúâ‰øùÈô©ËµÑ‰∫ßËÆ∞ÂΩïÁöÑËØ¶ÁªÜ‰ø°ÊÅØÁöÑËßÜÂõæv_insurance_detailÔºåÂåÖÊã¨Ë¥≠‰π∞ÂÆ¢Êà∑ÁöÑÂêçÁß∞„ÄÅÂÆ¢Êà∑ÁöÑË∫´‰ªΩËØÅÂè∑„ÄÅ‰øùÈô©ÂêçÁß∞„ÄÅ‰øùÈöúÈ°πÁõÆ„ÄÅÂïÜÂìÅÁä∂ÊÄÅ„ÄÅÂïÜÂìÅÊï∞Èáè„ÄÅ‰øùÈô©ÈáëÈ¢ù„ÄÅ‰øùÈô©Âπ¥Èôê„ÄÅÂïÜÂìÅÊî∂ÁõäÂíåË¥≠‰π∞Êó∂Èó¥„ÄÇ
-- ËØ∑Áî®1Êù°SQLËØ≠Âè•ÂÆåÊàê‰∏äËø∞‰ªªÂä°Ôºö
CREATE VIEW v_insurance_detail
AS
SELECT c_name,c_id_card,i_name,i_project,pro_status,pro_quantity,i_amount,i_year,pro_income,pro_purchase_time
FROM client,insurance,property
WHERE c_id=pro_c_id AND pro_pif_id=i_id AND pro_type=2
/*   end  of your code  */
</code></pre>
<h3 id="62-Âü∫‰∫éËßÜÂõæÁöÑÊü•ËØ¢">6.2 Âü∫‰∫éËßÜÂõæÁöÑÊü•ËØ¢</h3>
<p>Âü∫‰∫é‰∏ä‰∏ÄÂÖ≥ÂàõÂª∫ÁöÑËßÜÂõæv_insurance_detailËøõË°åÂàÜÁªÑÁªüËÆ°Êü•ËØ¢ÔºåÂàóÂá∫ÊØè‰ΩçÂÆ¢Êà∑ÁöÑÂßìÂêçÔºåË∫´‰ªΩËØÅÂè∑Ôºå‰øùÈô©ÊäïËµÑÊÄªÈ¢ùÔºàinsurance_total_amountÔºâÂíå‰øùÈô©ÊäïËµÑÊÄªÊî∂ÁõäÔºàinsurance_total_revenueÔºâ,ÁªìÊûú‰æù‰øùÈô©ÊäïËµÑÊÄªÈ¢ùÈôçÂ∫èÊéíÂàó</p>
<pre><code class="language-mysql"> -- Âü∫‰∫é‰∏ä‰∏ÄÂÖ≥ÂàõÂª∫ÁöÑËßÜÂõæv_insurance_detailËøõË°åÂàÜÁªÑÁªüËÆ°Êü•ËØ¢ÔºåÂàóÂá∫ÊØè‰ΩçÂÆ¢Êà∑ÁöÑÂßìÂêçÔºåË∫´‰ªΩËØÅÂè∑Ôºå‰øùÈô©ÊäïËµÑÊÄªÈ¢ù(insurance_total_amount)Âíå‰øùÈô©ÊäïËµÑÊÄªÊî∂Áõä(insurance_total_revenue),ÁªìÊûú‰æù‰øùÈô©ÊäïËµÑÊÄªÈ¢ùÈôçÂ∫èÊéíÂàó„ÄÇ
--  ËØ∑Áî®‰∏ÄÊù°SQLËØ≠Âè•ÂÆûÁé∞ËØ•Êü•ËØ¢Ôºö
SELECT c_name,c_id_card,SUM(pro_quantity*i_amount) insurance_total_amount,SUM(pro_income) insurance_total_revenue
FROM v_insurance_detail
GROUP BY c_id_card
ORDER BY insurance_total_amount DESC;
/*  end  of  your code  */
</code></pre>
<h2 id="‰∏É-Â≠òÂÇ®ËøáÁ®ã‰∏é‰∫ãÂä°">‰∏É„ÄÅÂ≠òÂÇ®ËøáÁ®ã‰∏é‰∫ãÂä°</h2>
<h3 id="71-‰ΩøÁî®ÊµÅÁ®ãÊéßÂà∂ËØ≠Âè•ÁöÑÂ≠òÂÇ®ËøáÁ®ã">7.1 ‰ΩøÁî®ÊµÅÁ®ãÊéßÂà∂ËØ≠Âè•ÁöÑÂ≠òÂÇ®ËøáÁ®ã</h3>
<p>Êï∞ÊçÆÂ∫ì‰∏≠ÊúâË°®fibonacciÔºåÁî®Êù•ÂÇ®Â≠òÊñêÊ≥¢ÊãâÂ•ëÊï∞ÂàóÁöÑÂâçnÈ°πÔºö</p>
<table>
<thead>
<tr>
<th style="text-align:center">ÂàóÂêç</th>
<th style="text-align:center">Á±ªÂûã</th>
<th style="text-align:center">ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">n</td>
<td style="text-align:center">int</td>
<td style="text-align:center">ÊñêÊ≥¢ÊãâÂ•ëÊï∞ÂàóÁöÑÁ¨¨nÈ°π,‰∏ªÁ†Å</td>
</tr>
<tr>
<td style="text-align:center">fib(n)</td>
<td style="text-align:center">bigint</td>
<td style="text-align:center">Á¨¨nÈ°πÁöÑÂÄº</td>
</tr>
</tbody>
</table>
<p>ÊñêÊ≥¢ÊãâÂ•ëÊï∞ÂàóÁöÑÂâç5È°π‰∏∫:</p>
<table>
<thead>
<tr>
<th style="text-align:center">n</th>
<th style="text-align:center">fib(n)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">3</td>
</tr>
</tbody>
</table>
<p>Êé®ÂØºÂÖ¨Âºè‰∏∫Ôºöfib(n) = fib(n-1) + fib(n-2)„ÄÇ</p>
<p>ËØ∑Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÂô®Ë°•ÂÖÖ‰ª£Á†ÅÔºåÂàõÂª∫Â≠òÂÇ®ËøáÁ®ã<code>sp_fibonacci(in m int)</code>ÔºåÂêëË°®fibonacciÊèíÂÖ•ÊñêÊ≥¢ÊãâÂ•ëÊï∞ÂàóÁöÑÂâçmÈ°πÔºåÂèäÂÖ∂ÂØπÂ∫îÁöÑÊñêÊ≥¢ÊãâÂ•ëÊï∞„ÄÇfibonacciË°®ÂàùÂßãÂÄº‰∏∫‰∏ÄÂº†Á©∫Ë°®„ÄÇËØ∑‰øùËØÅ‰Ω†ÁöÑÂ≠òÂÇ®ËøáÁ®ãÂèØ‰ª•Â§öÊ¨°ËøêË°åËÄå‰∏çÂá∫Èîô„ÄÇ</p>
<pre><code class="language-mysql">use fib;

-- ÂàõÂª∫Â≠òÂÇ®ËøáÁ®ã`sp_fibonacci(in m int)`ÔºåÂêëË°®fibonacciÊèíÂÖ•ÊñêÊ≥¢ÊãâÂ•ëÊï∞ÂàóÁöÑÂâçmÈ°πÔºåÂèäÂÖ∂ÂØπÂ∫îÁöÑÊñêÊ≥¢ÊãâÂ•ëÊï∞„ÄÇfibonacciË°®ÂàùÂßãÂÄº‰∏∫‰∏ÄÂº†Á©∫Ë°®„ÄÇËØ∑‰øùËØÅ‰Ω†ÁöÑÂ≠òÂÇ®ËøáÁ®ãÂèØ‰ª•Â§öÊ¨°ËøêË°åËÄå‰∏çÂá∫Èîô„ÄÇ

drop procedure if exists sp_fibonacci;
delimiter $$
create procedure sp_fibonacci(in m int)
begin
######## ËØ∑Ë°•ÂÖÖ‰ª£Á†ÅÂÆåÊàêÂ≠òÂÇ®ËøáÁ®ã‰Ωì ########
DECLARE fib0,fib1,fibn,n int;
set fib0=0,fib1=1,n=2;
if m&gt;=1 then
    insert into fibonacci values(0,0);
end if;
if m&gt;=2 then
    insert into fibonacci values(1,1);
end if;
while m&gt;n do
    set fibn=fib0+fib1;
    insert into fibonacci values(n,fibn);
    set fib0=fib1;
    set fib1=fibn;
    set n=n+1;
end while;
end $$

delimiter ;
</code></pre>
<h3 id="72-‰ΩøÁî®Ê∏∏Ê†áÁöÑÂ≠òÂÇ®ËøáÁ®ã">7.2 ‰ΩøÁî®Ê∏∏Ê†áÁöÑÂ≠òÂÇ®ËøáÁ®ã</h3>
<p>ÂåªÈô¢ÁöÑÊüêÁßëÂÆ§ÊúâÁßëÂÆ§‰∏ª‰ªª1Âêç(‰∫¶‰∏∫ÂåªÁîü)ÔºåÂåªÁîüËã•Âπ≤(Ëá≥Â∞ë2ÂêçÔºå‰∏çÂê´‰∏ª‰ªª)ÔºåÊä§Â£´Ëã•Âπ≤(Ëá≥Â∞ë4‰∫∫)ÔºåÁé∞Âú®ÈúÄË¶ÅÁºñÂÜô‰∏ÄÂ≠òÂÇ®ËøáÁ®ãÔºåËá™Âä®ÂÆâÊéíÊüê‰∏™ËøûÁª≠ÊúüÈó¥ÁöÑÂ§ßÂ§úÁè≠(Âç≥ÊØèÂ§©00:00-8:00Êó∂Èó¥ÊÆµ)ÁöÑÂÄºÁè≠Ë°®ÔºåÊéíÁè≠ËßÑÂàô‰∏∫Ôºö<br>
1.ÊØè‰∏™Â§úÁè≠ÂÆâÊéí1ÂêçÂåªÁîüÔºå2ÂêçÊä§Â£´Ôºõ<br>
2.ÂÄºÁè≠È°∫Â∫è‰æùÂ∑•Âè∑È°∫Â∫èÂæ™ÁéØËΩÆÊµÅÂÆâÊéí(Âç≥ÊéíËá≥ÊúÄÂêé1ÂêçÂêéÂÜç‰ªéÁ¨¨1ÂêçÊé•ÁùÄÊéí)Ôºõ<br>
3.ÁßëÂÆ§‰∏ª‰ªªÂèÇ‰∏éËΩÆÂÄºÂ§úÁè≠Ôºå‰ΩÜ‰∏çÂÆâÊéíÂë®Êú´(ÊòüÊúüÂÖ≠ÂíåÊòüÊúüÂ§©)ÁöÑÂ§úÁè≠ÔºåÂΩìÂë®Êú´ËΩÆËá≥Áßë‰∏ª‰ªªÊó∂Ôºå‰∏ª‰ªªÁöÑÂ§úÁè≠Ë∞ÉËá≥Âë®‰∏ÄÔºåÁî±ÊéíÂú®‰∏ª‰ªªÂêéÈù¢ÁöÑÂåªÁîü‰æùÊ¨°ÈÄíË°•ÂÄºÂë®Êú´ÁöÑÂ§úÁè≠„ÄÇ</p>
<p>Â≠òÂÇ®ËøáÁ®ãÁöÑÂêçÂ≠ó‰∏∫sp_night_shift_arrange,ÂÆÉÂ∏¶‰∏§‰∏™ËæìÂÖ•ÂèÇÊï∞Ôºöstart_date, end_dateÔºåÂàÜÂà´ÊåáÊéíÁè≠ÁöÑËµ∑ÂßãÊó∂Èó¥ÂíåÁªìÊùüÊó∂Èó¥„ÄÇÊéíÁè≠ÁªìÊûúÁõ¥Êé•ÂÜôÂÖ•Ë°®night_shift_scheduleÔºåÂÖ∂ÁªìÊûÑÂ¶Ç‰∏ãÔºö</p>
<p>Ë°®night_shift_schedule(Â§úÁè≠ÂÄºÁè≠ÂÆâÊéíË°®)</p>
<table>
<thead>
<tr>
<th>Âàó</th>
<th>Á±ªÂûã</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>n_date</td>
<td>date</td>
<td>Êó•Êúü, primary key</td>
</tr>
<tr>
<td>n_doctor_name</td>
<td>char(30)</td>
<td>ÂåªÁîüÂßìÂêç</td>
</tr>
<tr>
<td>n_nurse1_name</td>
<td>char(30)</td>
<td>Êä§Â£´1ÂßìÂêç</td>
</tr>
<tr>
<td>n_nurse2_name</td>
<td>char(30)</td>
<td>Êä§Â£´2ÂßìÂêç</td>
</tr>
</tbody>
</table>
<p>ÂÅáÂÆöËØ•ÁßëÂÆ§Ê≤°ÊúâÂêåÂêçÁöÑÂåªÁîüÂíåÂêåÂêçÁöÑÊä§Â£´„ÄÇ<br>
ÁßëÂÆ§ÂèÇ‰∏éÂÄºÁè≠ÁöÑÂåªÊä§‰∫∫ÂëòÂ≠òÂÇ®Âú®Ë°®employee‰∏≠ÔºåÂÖ∂ÁªìÊûÑ‰∏∫Ôºö</p>
<p>Ë°®employee(ÂåªÊä§‰∫∫ÂëòË°®)</p>
<table>
<thead>
<tr>
<th>Âàó</th>
<th>Á±ªÂûã</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>e_id</td>
<td>int</td>
<td>ÁºñÂè∑, primary key</td>
</tr>
<tr>
<td>e_name</td>
<td>char(30)</td>
<td>ÂßìÂêç</td>
</tr>
<tr>
<td>e_type</td>
<td>int</td>
<td>Á±ªÂà´Ôºö1-‰∏ª‰ªª,ÂåªÁîü;2-ÂåªÁîü;3-Êä§Â£´</td>
</tr>
</tbody>
</table>
<p>‰∏çÁî®ËÄÉËôëÂÖ∂ÂÆÉ‰ø°ÊÅØ(ÊØîÂ¶ÇÁßëÂÆ§‰πãÁ±ªÁöÑ)ÔºåÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÔºåÂè™ÈúÄÂú®whereÁü≠ËØ≠‰∏≠ÊñΩÂä†Êù°‰ª∂ÈôêÂà∂Âç≥ÂèØÊòéÁ°ÆÈÄâÂá∫ÊâÄÈúÄÁßëÂÆ§ÁöÑÂåªÊä§‰∫∫Âëò„ÄÇËøôÈáåÔºå‰∏îÊääË°®‰∏≠ÂÖ®ÈÉ®‰∫∫ÂëòËßÜ‰∏∫ËØ•ÁßëÂÆ§‰∫∫Âëò„ÄÇ</p>
<p>ËØ∑Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÂô®Ë°•ÂÖÖ‰ª£Á†ÅÔºåÂÆåÊàêËØ•Â≠òÂÇ®ËøáÁ®ã„ÄÇÔºà<s>ËøôÈÉ®ÂàÜÂ§™Èïø‰∫ÜÔºåÊÑüËßâÊúâÁÇπÂ§çÊùÇÔºåÊ≤°ÊúâËá™Â∑±ÂÆåÊàêÔºå‰ª•‰∏ãÈÉ®ÂàÜ‰∏∫Â≠¶ÈïøÁöÑ‰ª£Á†Å</s>Ôºâ[HUST-CS-Database-system-principle/Á¨¨2ÂÖ≥ ‰ΩøÁî®Ê∏∏Ê†áÁöÑÂ≠òÂÇ®ËøáÁ®ã.txt at main ¬∑ fly-lovest/HUST-CS-Database-system-principle (github.com)](https://github.com/fly-lovest/HUST-CS-Database-system-principle/blob/main/Êï∞ÊçÆÂ∫ìÁ≥ªÁªüÂéüÁêÜÂÆûÈ™å/ÂÆûÈ™åcodeÂèäÊä•Âëä/Ê∫ê‰ª£Á†Å/ÂÆûËÆ≠6 Â≠òÂÇ®ËøáÁ®ã‰∏é‰∫ãÂä°/Á¨¨2ÂÖ≥ ‰ΩøÁî®Ê∏∏Ê†áÁöÑÂ≠òÂÇ®ËøáÁ®ã.txt)</p>
<pre><code class="language-mysql">use hms1;

-- ÁºñÂÜô‰∏ÄÂ≠òÂÇ®ËøáÁ®ãÔºåËá™Âä®ÂÆâÊéíÊüê‰∏™ËøûÁª≠ÊúüÈó¥ÁöÑÂ§ßÂ§úÁè≠ÁöÑÂÄºÁè≠Ë°®:

delimiter $$
create procedure sp_night_shift_arrange(in start_date date, in end_date date)
begin
declare now_date date;
declare not_found_flag INT default FALSE;
declare weekend_doctor_flag INT default FALSE;
declare d_name,n_name1,n_name2 char(30);
declare temp_name char(30);
declare d_type int default(0);

declare doctor_cursor cursor for select e_name,e_type from employee where e_type &lt;&gt; 3;
declare nurse_cursor cursor for select e_name from employee where e_type = 3;

declare continue handler for NOT FOUND set not_found_flag = TRUE;

open doctor_cursor;
open nurse_cursor;

fetch doctor_cursor into d_name,d_type;
fetch nurse_cursor into n_name1;
fetch nurse_cursor into n_name2;

set now_date = start_date;
while now_date &lt;= end_date do
	if d_type = 1 and (dayofweek(now_date)=1 or dayofweek(now_date)=7) then
		set temp_name = d_name;
		set weekend_doctor_flag = TRUE;
		fetch doctor_cursor into d_name,d_type;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close doctor_cursor;
			open doctor_cursor;
			fetch doctor_cursor into d_name,d_type;
		end if;
		insert into night_shift_schedule values(now_date,d_name,n_name1,n_name2);
		set now_date = date_sub(now_date,interval -1 day);
		fetch doctor_cursor into d_name,d_type;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close doctor_cursor;
			open doctor_cursor;
			fetch doctor_cursor into d_name,d_type;
		end if;
		fetch nurse_cursor into n_name1;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close nurse_cursor;
			open nurse_cursor;
			fetch nurse_cursor into n_name1;
		end if;
		fetch nurse_cursor into n_name2;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close nurse_cursor;
			open nurse_cursor;
			fetch nurse_cursor into n_name2;
		end if;	
	elseif dayofweek(now_date)=2 and weekend_doctor_flag = TRUE then
		set weekend_doctor_flag = FALSE;
		insert into night_shift_schedule values(now_date,temp_name,n_name1,n_name2);
		set now_date = date_sub(now_date,interval -1 day);
		fetch nurse_cursor into n_name1;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close nurse_cursor;
			open nurse_cursor;
			fetch nurse_cursor into n_name1;
		end if;
		fetch nurse_cursor into n_name2;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close nurse_cursor;
			open nurse_cursor;
			fetch nurse_cursor into n_name2;
		end if;
	else
		insert into night_shift_schedule values(now_date,d_name,n_name1,n_name2);
		set now_date = date_sub(now_date,interval -1 day);
		fetch doctor_cursor into d_name,d_type;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close doctor_cursor;
			open doctor_cursor;
			fetch doctor_cursor into d_name,d_type;
		end if;
		fetch nurse_cursor into n_name1;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close nurse_cursor;
			open nurse_cursor;
			fetch nurse_cursor into n_name1;
		end if;
		fetch nurse_cursor into n_name2;
		if not_found_flag = TRUE then
			set not_found_flag = FALSE;
			close nurse_cursor;
			open nurse_cursor;
			fetch nurse_cursor into n_name2;
		end if;
	end if;
end while;
close doctor_cursor;
close nurse_cursor;
end$$

delimiter ;

/*  end  of  your code  */ 
</code></pre>
<h3 id="73-‰ΩøÁî®‰∫ãÂä°ÁöÑÂ≠òÂÇ®ËøáÁ®ã">7.3 ‰ΩøÁî®‰∫ãÂä°ÁöÑÂ≠òÂÇ®ËøáÁ®ã</h3>
<p>Âú®ÈáëËûçÂ∫îÁî®Âú∫ÊôØÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÁºñÁ®ãÂÆûÁé∞‰∏Ä‰∏™ËΩ¨Ë¥¶Êìç‰ΩúÁöÑÂ≠òÂÇ®ËøáÁ®ãsp_transferÔºåÂÆûÁé∞‰ªé‰∏Ä‰∏™Â∏êÊà∑ÂêëÂè¶‰∏Ä‰∏™Â∏êÊà∑ËΩ¨Ë¥¶„ÄÇËØ•ËøáÁ®ãÊúâ5‰∏™ËæìÂÖ•ÂèÇÊï∞Ôºö</p>
<blockquote>
<p>applicant_id ‰ªòÊ¨æ‰∫∫ÁºñÂè∑<br>
source_card_id ‰ªòÊ¨æÂç°Âè∑<br>
receiver_card_id Êî∂Ê¨æ‰∫∫ÁºñÂè∑<br>
dest_card_id Êî∂Ê¨æÂç°Âè∑<br>
amount ËΩ¨Ë¥¶ÈáëÈ¢ù<br>
return_code 1ÔºöÊ≠£Â∏∏ËΩ¨Ë¥¶Ôºõ0:ËΩ¨Ë¥¶‰∏çÊàêÂäü</p>
</blockquote>
<p>ËΩ¨Ë¥¶Êìç‰ΩúÊ∂âÂèäÂØπË°®bank_cardÁöÑÊìç‰Ωú(Âú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÔºåËá≥Â∞ëËøòË¶ÅËÆ∞ÂΩïËΩ¨Ë¥¶Êìç‰ΩúÊú¨Ë∫´Áõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØËá≥ËΩ¨Ë¥¶Ë°®ÔºåÂú®ÂÆûÈ™åÁéØÂ¢É‰∏≠Ê≤°ÊúâËÆæËÆ°ËøôÊ†∑ÁöÑË°®Ôºå‰ªéÁï•ÔºõÂè¶Â§ñÔºåÁîü‰∫ßÁéØÂ¢É‰∏≠ÔºåÂΩìÈì∂Ë°åÂç°Ë¢´ÂÜªÁªìÔºåÊàñË¢´Âç°‰∏ªÊåÇÂ§±ÂêéÔºåÈÉΩ‰∏çËÉΩËøõË°åËΩ¨Ë¥¶ÔºåÂú®ÂÆûÈ™åÁéØÂ¢É‰∏≠ÔºåÊ≤°ÊúâËÆæËÆ°Áõ∏Â∫îÁöÑÂ≠óÊÆµ ÔºåÊïÖ‰πü‰ªéÁï•)„ÄÇ</p>
<p>Ê≥®ÊÑè‰∫ãÈ°πÔºö</p>
<blockquote>
<p>‰ªÖÂΩìËΩ¨Ê¨æ‰∫∫ÊòØËΩ¨Âá∫Âç°ÁöÑÊåÅÊúâ‰∫∫Êó∂ÔºåÊâçÂèØËΩ¨Âá∫Ôºõ<br>
‰ªÖÂΩìÊî∂Ê¨æ‰∫∫ÊòØÊî∂Ê¨æÂç°ÁöÑÊåÅÊúâ‰∫∫Êó∂ÔºåÊâçÂèØËΩ¨ÂÖ•Ôºõ<br>
ÂÇ®ËìÑÂç°‰πãÈó¥ÂèØ‰ª•Áõ∏‰∫íËΩ¨Ë¥¶Ôºõ<br>
ÂÖÅËÆ∏ÂÇ®ËìÑÂç°Âêë‰ø°Áî®Âç°ËΩ¨Ë¥¶ÔºåÁß∞‰∏∫‰ø°Áî®Âç°ËøòÊ¨æ(ÂÖÅËÆ∏ÊõøÂÆÉ‰∫∫ËøòÊ¨æ)ÔºåËøòÊ¨æÂèØ‰ª•Ë∂ÖËøá‰ø°Áî®Âç°‰ΩôÈ¢ùÔºåÊ≠§Êó∂Ôºå‰ø°Áî®Âç°‰ΩôÈ¢ù‰∏∫Ë¥üÊï∞Ôºõ<br>
‰ø°Áî®Âç°‰∏çËÉΩÂêëÂÇ®ËìÑÂç°ËΩ¨Ë¥¶Ôºõ<br>
ËΩ¨Ë¥¶ÈáëÈ¢ù‰∏çËÉΩË∂ÖËøáÂÇ®ËìÑÂç°‰ΩôÈ¢ùÔºõ</p>
</blockquote>
<p>ÈôÑ‰∏ä bank_card(Èì∂Ë°åÂç°)Ë°®ÁªìÊûÑÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>b_number</td>
<td>CHAR(30)</td>
<td>PRIMARY KEY</td>
<td>Èì∂Ë°åÂç°Âè∑</td>
</tr>
<tr>
<td>b_type</td>
<td>CHAR(20)</td>
<td>Êó†</td>
<td>Èì∂Ë°åÂç°Á±ªÂûã(ÂÇ®ËìÑÂç°/‰ø°Áî®Âç°)</td>
</tr>
<tr>
<td>b_c_id</td>
<td>INTEGER</td>
<td>NOT NULL FOREIGN KEY</td>
<td>ÊâÄÂ±ûÂÆ¢Êà∑ÁºñÂè∑,ÂºïÁî®Ëá™clientË°®ÁöÑc_idÂ≠óÊÆµ„ÄÇ</td>
</tr>
<tr>
<td>b_balance</td>
<td>NUMERIC(10,2)</td>
<td>NOT NULL</td>
<td>‰ΩôÈ¢ù,‰ø°Áî®Âç°‰ΩôÈ¢ùÁ≥ªÊåáÂ∑≤ÈÄèÊîØÁöÑÈáëÈ¢ù</td>
</tr>
</tbody>
</table>
<p>ËØ∑Ê†πÊçÆ‰∏äËø∞Ë¶ÅÊ±ÇÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÂô®Ë°•ÂÖÖ‰ª£Á†ÅÔºåÂÆåÊàêÂ≠òÂÇ®ËøáÁ®ãsp_transferÁöÑÁºñÁ®ã„ÄÇ</p>
<pre><code class="language-mysql">use finance1;

-- Âú®ÈáëËûçÂ∫îÁî®Âú∫ÊôØÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÁºñÁ®ãÂÆûÁé∞‰∏Ä‰∏™ËΩ¨Ë¥¶Êìç‰ΩúÁöÑÂ≠òÂÇ®ËøáÁ®ãsp_transfer_balanceÔºåÂÆûÁé∞‰ªé‰∏Ä‰∏™Â∏êÊà∑ÂêëÂè¶‰∏Ä‰∏™Â∏êÊà∑ËΩ¨Ë¥¶„ÄÇ
-- ËØ∑Ë°•ÂÖÖ‰ª£Á†ÅÂÆåÊàêËØ•ËøáÁ®ãÔºö
delimiter $$
create procedure sp_transfer(
	                 IN applicant_id int,      
                     IN source_card_id char(30),
					 IN receiver_id int, 
                     IN dest_card_id char(30),
					 IN	amount numeric(10,2),
					 OUT return_code int)
BEGIN
SET autocommit=OFF;
START transaction;

UPDATE bank_card
SET b_balance=b_balance-amount
WHERE b_number=source_card_id AND b_c_id=applicant_id AND b_type='ÂÇ®ËìÑÂç°';

UPDATE bank_card
SET b_balance=b_balance+amount
WHERE b_number=dest_card_id AND b_c_id=receiver_id AND b_type='ÂÇ®ËìÑÂç°';

UPDATE bank_card
SET b_balance=b_balance-amount
WHERE b_number=dest_card_id AND b_c_id=receiver_id AND b_type='‰ø°Áî®Âç°';

IF NOT EXISTS(
    SELECT *
    FROM bank_card 
    WHERE b_number=source_card_id 
    AND b_c_id=applicant_id 
    AND b_type='ÂÇ®ËìÑÂç°' 
    AND b_balance&gt;=0
) THEN
SET return_code=0;
rollback;

ELSEIF NOT EXISTS(
    SELECT *
    FROM bank_card
    WHERE b_number=dest_card_id AND b_c_id=receiver_id
) THEN
SET return_code=0;
rollback;

ELSE
SET return_code=1;
commit;

END IF;

END$$

delimiter ;

/*  end  of  your code  */ 
</code></pre>
<h2 id="ÂÖ´-Ëß¶ÂèëÂô®">ÂÖ´„ÄÅËß¶ÂèëÂô®</h2>
<h3 id="81-‰∏∫ÊäïËµÑË°®propertyÂÆûÁé∞‰∏öÂä°Á∫¶ÊùüËßÑÂàô-Ê†πÊçÆÊäïËµÑÁ±ªÂà´ÂàÜÂà´ÂºïÁî®‰∏çÂêåË°®ÁöÑ‰∏ªÁ†Å">8.1 ‰∏∫ÊäïËµÑË°®propertyÂÆûÁé∞‰∏öÂä°Á∫¶ÊùüËßÑÂàô-Ê†πÊçÆÊäïËµÑÁ±ªÂà´ÂàÜÂà´ÂºïÁî®‰∏çÂêåË°®ÁöÑ‰∏ªÁ†Å</h3>
<p>Âú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÂô®ÈáåË°•ÂÖÖ‰ª£Á†ÅÔºåÂÆûÁé∞Êú¨‰ªªÂä°ÊâÄË¶ÅÊ±ÇÁöÑÂÆåÊï¥ÊÄß‰∏öÂä°ËßÑÂàô„ÄÇÂΩìÊèíÂÖ•ÁöÑÊï∞ÊçÆ‰∏çÁ¨¶ÂêàË¶ÅÊ±ÇÊó∂ÔºåÊãíÁªùÊï∞ÊçÆÁöÑÊèíÂÖ•ÔºåÂπ∂ÂèçÈ¶àÂá∫Èîô‰ø°ÊÅØÔºö<br>
(1) pro_typeÊï∞ÊçÆ‰∏çÂêàÊ≥ïÊó∂ÔºåÊòæÁ§∫:<br>
type x is illegal!<br>
ËøôÈáåÔºåxÁ≥ªÊåáËØïÂõæÊèíÂÖ•ÁöÑpro_typeÂÄº„ÄÇ<br>
(2) pro_type = 1,‰ΩÜpro_pif_id‰∏çÊòØfinances_productË°®‰∏≠ÁöÑÊüê‰∏™‰∏ªÁ†ÅÂÄºÔºåÊòæÁ§∫:<br>
finances product #x not found!<br>
ËøôÈáå,xÁ≥ªÊåáËØïÂõæÊèíÂÖ•ÁöÑpro_pif_diÁöÑÂÄº„ÄÇ<br>
(3) pro_type = 2,‰ΩÜpro_pif_id‰∏çÊòØinsuranceË°®‰∏≠ÁöÑÊüê‰∏™‰∏ªÁ†ÅÂÄºÔºåÊòæÁ§∫:<br>
insurance #x not found!<br>
ËøôÈáå,xÁ≥ªÊåáËØïÂõæÊèíÂÖ•ÁöÑpro_pif_idÁöÑÂÄº„ÄÇ<br>
(3) pro_type = 3,‰ΩÜpro_pif_id‰∏çÊòØfundË°®‰∏≠ÁöÑÊüê‰∏™‰∏ªÁ†ÅÂÄºÔºåÊòæÁ§∫:<br>
fund #x not found!<br>
ËøôÈáå,xÁ≥ªÊåáËØïÂõæÊèíÂÖ•ÁöÑpro_pif_idÁöÑÂÄº„ÄÇ</p>
<p>ÊèêÁ§∫Ôºö<br>
(1) Êü•ÈòÖMySQLÁöÑÂ≠óÁ¨¶‰∏≤ÂáΩÊï∞ÔºåÊûÑÈÄ†Âá∫Èîô‰ø°ÊÅØÔºõ<br>
(2) ÂΩìÊï∞ÊçÆ‰∏çÂêàÊ≥ïÊó∂ÔºåÁî®signal sqlstate ËØ≠Âè•ÊäõÂá∫ÂºÇÂ∏∏ÔºåÂπ∂ËÆæÁΩÆÂá∫Èîô‰ø°ÊÅØÔºö<br>
SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = msg;<br>
ÂÖ∂‰∏≠ÔºåÈÄöÁî®SQLSTATE '45000'ÊÑèÊåáÁî®Êà∑ÂÆö‰πâÁöÑÂæÖÂ§ÑÁêÜÂºÇÂ∏∏ÔºåmsgÈúÄÊõøÊç¢Êàê‰Ω†ÊÉ≥Ë¶ÅÊòæÁ§∫ÁöÑÊèêÁ§∫‰ø°ÊÅØ(‰∏çË∂ÖËøá128‰∏™Â≠óÁ¨¶)„ÄÇ</p>
<pre><code class="language-mysql">use finance1;
drop trigger if exists before_property_inserted;
-- ËØ∑Âú®ÈÄÇÂΩìÁöÑÂú∞ÊñπË°•ÂÖÖ‰ª£Á†ÅÔºåÂÆåÊàê‰ªªÂä°Ë¶ÅÊ±ÇÔºö
delimiter $$
CREATE TRIGGER before_property_inserted BEFORE INSERT ON property
FOR EACH ROW 
BEGIN

DECLARE msg varchar(40);
IF new.pro_type&lt;&gt;1 AND new.pro_type&lt;&gt;2 AND new.pro_type&lt;&gt;3 THEN
    SET msg=concat('type ',new.pro_type,' is illegal!');
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = msg;
END IF;

IF new.pro_type=1 AND NOT EXISTS(SELECT * FROM finances_product WHERE p_id=new.pro_pif_id) THEN
    SET msg=concat('finances product #',new.pro_pif_id,' not found!');
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = msg;
END IF;

IF new.pro_type=2 AND NOT EXISTS(SELECT * FROM insurance WHERE i_id=new.pro_pif_id) THEN
    SET msg=concat('insurance #',new.pro_pif_id,' not found!');
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = msg;
END IF;

IF new.pro_type=3 AND NOT EXISTS(SELECT * FROM fund WHERE f_id=new.pro_pif_id) THEN
    SET msg=concat('fund #',new.pro_pif_id,' not found!');
    SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = msg;
END IF;

END$$
 
delimiter ;
</code></pre>
<h2 id="‰πù-Áî®Êà∑Ëá™ÂÆö‰πâÂáΩÊï∞">‰πù„ÄÅÁî®Êà∑Ëá™ÂÆö‰πâÂáΩÊï∞</h2>
<h3 id="91-ÂàõÂª∫ÂáΩÊï∞Âπ∂Âú®ËØ≠Âè•‰∏≠‰ΩøÁî®ÂÆÉ">9.1 ÂàõÂª∫ÂáΩÊï∞Âπ∂Âú®ËØ≠Âè•‰∏≠‰ΩøÁî®ÂÆÉ</h3>
<p>‰∏ªÂú®Âè≥‰æß‰ª£Êñá‰ª∂ÁºñËæëÂô®Ë°•ÂÖÖ‰ª£Á†ÅÔºåÂÆåÊàê‰ª•‰∏ãÁºñÁ®ã‰ªªÂä°Ôºö<br>
(1) Áî®create functionËØ≠Âè•ÂàõÂª∫Á¨¶Âêà‰ª•‰∏ãË¶ÅÊ±ÇÁöÑÂáΩÊï∞Ôºö<br>
‰æùÊçÆÂÆ¢Êà∑ÁºñÂè∑ËÆ°ÁÆóÂÖ∂ÊâÄÊúâÂÇ®ËìÑÂç°‰ΩôÈ¢ùÁöÑÊÄªÂíå<br>
ÂáΩÊï∞Âêç‰∏∫Ôºöget_deposit<br>
(2) Âà©Áî®ÂàõÂª∫ÁöÑÂáΩÊï∞Ôºå‰ªÖÁî®‰∏ÄÊù°SQLËØ≠Âè•Êü•ËØ¢Â≠òÊ¨æÊÄªÈ¢ùÂú®100‰∏á(Âê´)‰ª•‰∏äÁöÑÂÆ¢Êà∑Ë∫´‰ªΩËØÅÂè∑ÔºåÂßìÂêçÂíåÂ≠òÊ¨æÊÄªÈ¢ù(total_deposit)ÔºåÁªìÊûú‰æùÂ≠òÂÇ®ÊÄªÈ¢ù‰ªéÈ´òÂà∞‰ΩéÊéíÂ∫è</p>
<pre><code class="language-mysql">use finance1;
set global log_bin_trust_function_creators=1;
drop function IF EXISTS get_deposit;
/*
   Áî®create functionËØ≠Âè•ÂàõÂª∫Á¨¶Âêà‰ª•‰∏ãË¶ÅÊ±ÇÁöÑÂáΩÊï∞Ôºö
   ‰æùÊçÆÂÆ¢Êà∑ÁºñÂè∑ËÆ°ÁÆóËØ•ÂÆ¢Êà∑ÊâÄÊúâÂÇ®ËìÑÂç°ÁöÑÂ≠òÊ¨æÊÄªÈ¢ù„ÄÇ
   ÂáΩÊï∞Âêç‰∏∫Ôºöget_Records„ÄÇÂáΩÊï∞ÁöÑÂèÇÊï∞ÂêçÂèØ‰ª•Ëá™Â∑±ÂëΩÂêç:*/

delimiter $$
create function get_deposit(client_id int)
returns numeric(10,2) 
begin
	DECLARE deposit numeric(10,2);
    SELECT SUM(b_balance) INTO deposit
    FROM bank_card
    WHERE b_c_id=client_id AND b_type='ÂÇ®ËìÑÂç°'
    GROUP BY b_c_id;
    return deposit;
end$$
delimiter ;

/*  Â∫îÁî®ËØ•ÂáΩÊï∞Êü•ËØ¢Â≠òÊ¨æÊÄªÈ¢ùÂú®100‰∏á‰ª•‰∏äÁöÑÂÆ¢Êà∑Ë∫´‰ªΩËØÅÂè∑ÔºåÂßìÂêçÂíåÂ≠òÂÇ®ÊÄªÈ¢ù(total_deposit)Ôºå
    ÁªìÊûú‰æùÂ≠òÊ¨æÊÄªÈ¢ù‰ªéÈ´òÂà∞‰ª£ÊéíÂ∫è  */
SELECT c_id_card,c_name,get_deposit(c_id) AS total_deposit
FROM client
WHERE get_deposit(c_id)&gt;=1000000
ORDER BY get_deposit(c_id) DESC;
/*  ‰ª£Á†ÅÊñá‰ª∂ÁªìÊùü     */
</code></pre>
<h2 id="ÂçÅ-Êï∞ÊçÆÂ∫ìËÆæËÆ°‰∏éÂÆûÁé∞">ÂçÅ„ÄÅÊï∞ÊçÆÂ∫ìËÆæËÆ°‰∏éÂÆûÁé∞</h2>
<h3 id="101-‰ªéÊ¶ÇÂøµÊ®°ÂûãÂà∞mysqlÂÆûÁé∞">10.1 ‰ªéÊ¶ÇÂøµÊ®°ÂûãÂà∞MySQLÂÆûÁé∞</h3>
<img src="https://data.educoder.net/api/attachments/2638254" style="zoom:80%;" />
<p>Â∫îÁî®ËÉåÊôØ‰ªãÁªç<br>
ËøôÊòØ‰∏Ä‰∏™Êú∫Á•®ËÆ¢Á•®Á≥ªÁªüÔºåÁ≥ªÁªüÈúÄË¶ÅËÄÉËôë‰ª•‰∏ãÂÆû‰ΩìÔºö<br>
<strong>Ôºà1ÔºâÁî®Êà∑(user)Ôºö</strong><br>
Áî®Êà∑ÂàÜ‰∏§Á±ªÔºåÊôÆÈÄöÁî®Êà∑ÂèØ‰ª•ËÆ¢Á•®ÔºåÁÆ°ÁêÜÁî®Êà∑ÊúâÊùÉÈôêÁª¥Êä§ÂíåÁÆ°ÁêÜÊï¥‰∏™Á≥ªÁªüÁöÑËøêËê•„ÄÇ‰∏∫ÁÆÄÂçïËµ∑ËßÅÔºå‰∏§Á±ªÁî®Êà∑ÂêàÂπ∂ÔºåÁî®admin_tagÊ†áËÆ∞Âå∫ÂàÜ„ÄÇÁî®Êà∑ÁöÑÂ±ûÊÄß(ÂåÖÊã¨‰∏öÂä°Á∫¶Êùü)ÊúâÔºö</p>
<blockquote>
<p>‚óè Áî®Êà∑ÁºñÂè∑: user_id int ‰∏ªÁ†Å,Ëá™Âä®Â¢ûÂä†<br>
‚óè ÂêçÂ≠ó: firstname varchar(50) ‰∏çÂèØ‰∏∫Á©∫<br>
‚óè ÂßìÊ∞è: lastname varchar(50) ‰∏çÂèØ‰∏∫Á©∫<br>
‚óè ÁîüÊó•: dob date ‰∏çÂèØ‰∏∫Á©∫<br>
‚óè ÊÄßÂà´: sex char(1) ‰∏çÂèØ‰∏∫Á©∫<br>
‚óè ÈÇÆÁÆ±: email varchar(50)<br>
‚óè ËÅîÁ≥ªÁîµËØù: phone varchar(30)<br>
‚óè Áî®Êà∑Âêç: username varchar(20) ‰∏çÂèØÁ©∫,‰∏çÂèØÊúâÈáç<br>
‚óè ÂØÜÁ†Å: password char(32) ‰∏çÂèØÁ©∫<br>
‚óè ÁÆ°ÁêÜÂëòÊ†áÂøó: admin_tag tinyint Áº∫ÁúÅÂÄº0(ÈùûÁÆ°ÁêÜÂëò),‰∏çËÉΩÁ©∫</p>
</blockquote>
<p><strong>Ôºà2ÔºâÊóÖÂÆ¢(passenger)Ôºö</strong><br>
Áî®Êà∑ÁôªÂΩïÁ≥ªÁªü‰∏ç‰∏ÄÂÆöÊòØÊõøËá™Â∑±‰π∞Á•®ÔºåÊâÄ‰ª•Áî®Êà∑ÂíåÊóÖÂÆ¢‰ø°ÊÅØÊòØÂàÜÂºÄÂ≠òÂÇ®ÁöÑ„ÄÇÂ±ûÊÄßÊúâÔºö</p>
<blockquote>
<p>‚óè ÊóÖÂÆ¢ÁºñÂè∑: passenger_id int Ëá™Â¢ûÔºå‰∏ªÁ†Å<br>
‚óè ËØÅ‰ª∂Âè∑Á†Å: id char(18) ‰∏çÂèØÁ©∫ ‰∏çÂèØÈáç<br>
‚óè ÂêçÂ≠óÔºöfirstname varchar(50) ‰∏çÂèØÁ©∫<br>
‚óè ÂßìÊ∞è: lastname varchar(50) ‰∏çÂèØÁ©∫<br>
‚óè ÈÇÆÁÆ±Ôºömail varchar(50)<br>
‚óè ÁîµËØù: phone varchar(20) ‰∏çÂèØÁ©∫<br>
‚óè ÊÄßÂà´: sex char(1) ‰∏çÂèØÁ©∫<br>
‚óè ÁîüÊó•: dob date</p>
</blockquote>
<p><strong>Ôºà3ÔºâÊú∫Âú∫(airport)Ôºö</strong><br>
Êúâ‰ª•‰∏ãÂ±ûÊÄßÔºö</p>
<blockquote>
<p>‚óè ÁºñÂè∑: airport_id int Ëá™Â¢ûÔºå‰∏ªÁ†Å<br>
‚óè ÂõΩÈôÖÊ∞ëËà™ÁªÑÁªáÁºñÁ†ÅÔºöiata char(3) ‰∏çÂèØÁ©∫ÔºåÂÖ®ÁêÉÂîØ‰∏Ä<br>
‚óè ÂõΩÈôÖËà™ËøêÂçè‰ºöÁºñÁ†Å: icao char(4) ‰∏çÂèØÁ©∫ÔºåÂÖ®ÁêÉÂîØ‰∏Ä<br>
‚óè Êú∫Âú∫ÂêçÁß∞: name varchar(50) ‰∏çÂèØÁ©∫ÔºåÊôÆÈÄöÁ¥¢Âºï<br>
‚óè ÊâÄÂú®ÂüéÂ∏Ç: city varchar(50)<br>
‚óè ÊâÄÂú®ÂõΩÂÆ∂: country varchar(50)<br>
‚óè Á∫¨Â∫¶: latitude decimal(11,8)<br>
‚óè ÁªèÂ∫¶: longitude decimal(11,8)<br>
‚óè ÂÖ®ÁêÉÊØè‰∏™Êú∫Âú∫ÈÉΩÊúâÂîØ‰∏ÄIATAÁºñÁ†ÅÂíåICAOÁºñÁ†ÅÔºåIATA‰∏∫3‰∏™Â≠óÁ¨¶ÔºåICAO‰∏∫4‰∏™Â≠óÁ¨¶„ÄÇ‰æãÂ¶ÇÈ¶ñÈÉΩÊú∫Âú∫ÁöÑ(IATA,ICAO)ÂàÜÂà´‰∏∫(PEK,ZBAA)ÔºåÂ§ßÂÖ¥Êú∫Âú∫‰∏∫(PKX,ZBAD),Â§©Ê≤≥Êú∫Êú∫Âú∫‰∏∫(WUH,ZHHH)„ÄÇÂú®È£ûÊú∫ÁôªËÆ∞Áâå‰∏äÂá∫ÂèëÂú∞ÂíåÂà∞ËææÂú∞ÂùáÁî®IATAË°®Á§∫„ÄÇ‰∏∫ËÉΩÂú®Âú∞Âõæ‰∏äÊòæÁ§∫Êú∫Âú∫‰ΩçÁΩÆÔºåÈúÄË¶ÅËÆ∞ÂΩïÁªèÁ∫¨Â∫¶‰ø°ÊÅØ„ÄÇ</p>
</blockquote>
<p><strong>Ôºà4ÔºâËà™Á©∫ÂÖ¨Âè∏(airline)Ôºö</strong><br>
Êúâ‰ª•‰∏ãÂ±ûÊÄß:</p>
<blockquote>
<p>‚óè ÁºñÂè∑Ôºöairline_id int Ëá™Â¢ûÔºå‰∏ªÁ†Å<br>
‚óè ÂêçÁß∞Ôºöname varchar(30) ‰∏çÂèØÁ©∫<br>
‚óè ÂõΩÈôÖÊ∞ëËà™ÁªÑÁªáÁºñÁ†Å: iata char(2) ‰∏çÂèØÁ©∫ÔºåÂÖ∑ÂÖ®ÁêÉÂîØ‰∏ÄÊÄß<br>
‚óè Ëà™Á©∫ÂÖ¨Âè∏ÁöÑIATAÁºñÁ†Å‰∏∫2‰ΩçÔºåÂ¶Ç‰∏úËà™‰∏∫MUÔºåÂõΩËà™‰∏∫CA,ÂçóËà™‰∏∫CZÁ≠âÔºåËà™Áè≠Âè∑‰∏ÄËà¨‰ª•ÊâÄÂ±ûËà™Á©∫ÂÖ¨Âè∏ÁöÑIATAÁ†Å‰∏∫ÂâçÁºÄ„ÄÇ</p>
</blockquote>
<p><strong>Ôºà5ÔºâÊ∞ëËà™È£ûÊú∫(airplane)Ôºö</strong><br>
ÊúâÂ±ûÊÄßÔºö</p>
<blockquote>
<p>‚óè ÁºñÂè∑Ôºöairplane_id int Ëá™Â¢ûÔºå‰∏ªÁ†Å<br>
‚óè Êú∫ÂûãÔºötype varchar(50) ‰∏çÂèØÁ©∫ÔºåÂ¶ÇB737-300,A320-500Á≠â<br>
‚óè Â∫ß‰Ωç: capacity smallint ‰∏çÂèØÁ©∫<br>
‚óè Ê†áËØÜ: identifier varchar(50) ‰∏çÂèØÁ©∫</p>
</blockquote>
<p><strong>Ôºà6ÔºâËà™Áè≠Â∏∏ËßÑË∞ÉÂ∫¶Ë°®(flightschedule)Ôºö</strong><br>
Ëà§Áè≠‰∏ÄËà¨‰ª•Âë®Ê¨°ÂÆâÊéíÔºå‰æãÂ¶ÇÔºöÊØèÂë®‰∏§‰∏™Áè≠Ê¨°ÔºåÂë®‰∏ÄÂíåÂë®‰∫î„ÄÇÊúâÂ±ûÊÄßÔºö</p>
<blockquote>
<p>‚óè Ëà™Áè≠Âè∑: flight_no char(8) ‰∏ªÁ†Å<br>
‚óè Ëµ∑È£ûÊó∂Èó¥: departure time ÈùûÁ©∫<br>
‚óè Âà∞ËææÊó∂Èó¥: arrival time ÈùûÁ©∫<br>
‚óè È£ûË°åÊó∂Èïø: duration smalint ÈùûÁ©∫ÔºåÈ£ûË°åÊó∂Èïø‰∏ÄËà¨‰ª•ÂàÜÁßçËÆ°„ÄÇ<br>
‚óè Âë®‰∏ÄÔºömonday tinyint Áº∫ÁúÅ0<br>
‚óè Âë®‰∫åÔºötuesday tinyint Áº∫ÁúÅ0<br>
‚óè Âë®‰∏âÔºöwednesday tinyint Áº∫ÁúÅ0<br>
‚óè Âë®ÂõõÔºöthursday tinyint Áº∫ÁúÅ0<br>
‚óè Âë®‰∫îÔºöfriday tinyint Áº∫ÁúÅ0<br>
‚óè Âë®ÂÖ≠Ôºösaturday tinyint Áº∫ÁúÅ0<br>
‚óè Âë®Êó•Ôºösunday tinyint Áº∫ÁúÅ0</p>
</blockquote>
<p><strong>Ôºà7ÔºâËà™Áè≠Ë°®(flight)Ôºö</strong><br>
Ëà™Áè≠‰æùËà™Áè≠Â∏∏ËßÑË∞ÉÂ∫¶Ë°®‰∏∫Âü∫ÂáÜÂÆâÊéí„ÄÇ‰ΩÜË∞ÉÂ∫¶Ë°®‰∏çÊòØ‰∏ÄÊàê‰∏çÂèòÔºå‰πü‰∏çÊòØÊØè‰∏™Êó¢ÂÆöÁöÑËà™ÈÉΩÂÆûÈôÖËµ∑È£ûÔºå‰πü‰∏çÊÄªÊòØÊåâÊó¢ÂÆöÁöÑÊó∂Èó¥Ëµ∑È£ûÔºåÊâÄ‰ª•ÂÆûÈ£ûËà™Áè≠ÂøÖÈ°ªÂçïÁã¨ÂÆâÊéíÂπ∂ËÆ∞ÂΩï„ÄÇË¶ÅËÆ∞ÂΩïÁöÑ‰ø°ÊÅØÊúâÔºö</p>
<blockquote>
<p>‚óè È£ûË°åÁºñÂè∑Ôºöflight_id int Ëá™Â¢ûÔºå‰∏ªÁ†Å<br>
‚óè Ëµ∑È£ûÊó∂Èó¥: departure datetime ÈùûÁ©∫<br>
‚óè Âà∞ËææÊó∂Èó¥: arrival datetime ÈùûÁ©∫<br>
‚óè È£ûË°åÊó∂ÈïøÔºöduration smallint ÈùûÁ©∫</p>
</blockquote>
<p>ÊúâÁöÑÁ≥ªÁªüËøò‰ºöÂÆûÊó∂ÊòæÁ§∫Ëà™Áè≠ÁªèÁ∫¨Â∫¶ÂíåÈ´òÂ∫¶‰ΩçÁΩÆÔºåËøôÈáåÊàë‰ª¨‰Ωú‰∫ÜÁÆÄÂåñÔºåÂéªÊéâ‰∫ÜÂÆûÊó∂È£ûË°å‰ø°ÊÅØ„ÄÇ</p>
<p><strong>Ôºà8ÔºâÊú∫Á•®(ticket)Ôºö</strong><br>
Áî®Êà∑ÂèØÊõøËá™Â∑±ÊàñÂÖ∂‰∫≤ÂèãË¥≠‰π∞Êüê‰∏™Ëà™Áè≠ÁöÑÊú∫Á•®„ÄÇÊú∫Á•®ÁöÑÂ±ûÊÄßÊúâÔºö</p>
<blockquote>
<p>‚óè Á•®Âè∑Ôºöticket_id int Ëá™Â¢ûÔºå‰∏ªÁ†Å<br>
‚óè Âùê‰ΩçÂè∑Ôºöseat char(4)<br>
‚óè ‰ª∑Ê†ºÔºöprice decimal(10,2) ‰∏çËÉΩÁ©∫</p>
</blockquote>
<p><strong>Ôºà9ÔºâÂÆû‰ΩìÈó¥ÁöÑËÅîÁ≥ªÔºö</strong><br>
ÂÆû‰ΩìÈó¥ÁöÑËÅîÁ≥ªÈÉΩÊ∏ÖÊ•öÂú∞Ê†áÊ≥®Âú®ERÂõæ‰∏≠Ôºö</p>
<p>ÊØè‰∏™Ëà™Á©∫ÂÖ¨Âè∏ÈÉΩÊúâ‰∏Ä‰∏™ÊØçÊ∏Ø(Êú∫Âú∫)ÔºåÂèàÂè´Âü∫Âú∞„ÄÇÂ§ßÁöÑÊú∫Âú∫ÂèØËÉΩ‰ºöÊòØÂ§öÂÆ∂ÂÖ¨Âè∏ÁöÑÂü∫Âú∞ÔºåÂ∞èÂûãÊú∫Âú∫ÂèØËÉΩ‰∏çÊòØ‰ªª‰ΩïËà™Á©∫ÂÖ¨Âè∏ÁöÑÂü∫Âú∞„ÄÇ<br>
ÊØè‰∏™Ëà™Áè≠Â±û‰∫é‰∏ÄÂÆ∂Ëà™Á©∫ÂÖ¨Âè∏ÔºåËà™Á©∫ÂÖ¨Âè∏ÂèØ‰ª•ÂæàÂ§öËà™Áè≠„ÄÇ<br>
‰ªª‰Ωï‰∏ÄÈ©æÊ∞ëËà™È£ûÊú∫Â±û‰∫é‰∏ÄÂÆ∂Ëà™Á©∫ÂÖ¨Âè∏ÔºåËà™Á©∫ÂÖ¨Âè∏ÂèØ‰ª•ÊúâÂ§öÈ©æÈ£ûÊú∫„ÄÇ<br>
ÊØèÈ©æÈ£ûÊú∫ÂèØ‰ª•ÊâßÈ£ûÂ§ö‰∏™Ëà™Áè≠Ôºå‰∏Ä‰∏™È£ûË°åËà™Áè≠Áî±‰∏ÄÊû∂È£ûÊú∫ÊâßÈ£û„ÄÇ<br>
‰∏Ä‰∏™Ëà™Áè≠Ê†πÊçÆÊâßÈ£ûÊú∫ÂûãÂèØ‰ª•ÂîÆÂá∫Ëã•Âπ≤Êú∫Á•®„ÄÇ‰∏ÄÂº†Êú∫Á•®ÊòØÊüê‰∏™ÁâπÂÆöËà™Áè≠ÁöÑÊú∫Á•®„ÄÇ<br>
Áî®Êà∑ÂèØ‰ª•Â§öÊ¨°ËÆ¢Á•®ÔºåÊóÖÂÆ¢ÂèØ‰ª•Â§öÊ¨°‰πòÂùêÈ£ûÊú∫„ÄÇ‰∏ÄÂº†Êú∫Á•®ËÇØÂÆöÊòØÊüê‰∏™Áî®Êà∑‰∏∫Êüê‰∏™ÁâπÂÆöÁöÑÊóÖÂÆ¢Ë¥≠‰π∞ÁöÑÁâπÂÆöËà™Áè≠ÁöÑÊú∫Á•®„ÄÇÂç≥Êú∫Á•®‰ø°ÊÅØ‰∏ç‰ªÖË∑ü‰πòÂùê‰∫∫ÊúâÂÖ≥ÔºåÂêåÊó∂ËÆ∞ÂΩïË¥≠‰π∞‰∫∫‰ø°ÊÅØ(ËôΩÁÑ∂‰∏§ËÄÖÊúâÊó∂ÊòØÂêå‰∏Ä‰∫∫)„ÄÇ‰∏∫ÁÆÄÂçïËµ∑ËßÅÔºåËÆ¢Ë¥≠Êó∂Èó¥Ê≤°ÊúâËÄÉËôë„ÄÇ<br>
Êó†ËÆ∫Â∏∏ËßÑËÆ°ÂàíÁöÑËà™Áè≠ÔºåËøòÊòØÂÆûÈôÖÈ£ûË°åËà™Áè≠ÔºåÈÉΩÊòØ‰ªéÊüê‰∏™Êú∫Âú∫Âá∫ÂèëÔºåÂà∞ËææÂè¶‰∏Ä‰∏™Êú∫Âú∫„ÄÇ‰ΩÜ‰∏Ä‰∏™Êú∫Âú∫ÂèØ‰ª•ÊòØÂæàÂ§ö‰∏™Ëà™Áè≠ÁöÑÂá∫ÂèëÂú∞Ôºå‰πüÊòØÂæàÂ§öËà™Áè≠ÁöÑÂà∞ËææÂú∞„ÄÇ<br>
ËØ∑Ê†πÊçÆ‰∏äËø∞‰ø°ÊÅØÂíåÊâÄÁªôERÂõæÔºåÁªôÂá∫Âú®MySQLÂÆûÁé∞flight_bookingÁöÑËØ≠Âè•ÔºåÂåÖÊã¨Âª∫Â∫ìÔºåÂª∫Ë°®ÔºåÂàõÂª∫‰∏ªÁ†ÅÔºåÂ§ñÁ†ÅÔºåÁ¥¢ÂºïÔºåÊåáÂÆöÁº∫ÁúÅÔºå‰∏çËÉΩ‰∏∫Á©∫Á≠âÁ∫¶Êùü„ÄÇÊâÄÊúâÁ¥¢ÂºïÈááÁî®BTREE„ÄÇÊâÄÊúâÁ∫¶ÊùüÁöÑÂêçÂ≠ó‰∏ç‰ΩúË¶ÅÊ±Ç„ÄÇÊâÄÊúâÁöÑÂ§ñÁ†Å‰∏é‰∏ªÁ†ÅÂêåÂêç„ÄÇ‰ΩÜÊúâ‰∏§Â§Ñ‰æãÂ§ñ: ËÆ°ÂàíËà™Áè≠ÂíåÈ£ûË°åËà™Áè≠ÈÉΩÊ∂âÂèäÂá∫ÂèëÊú∫Âú∫ÂíåÂà∞ËææÊú∫Âú∫ÔºåÂ§ñÁ†Å‰∏é‰∏ªÁ†ÅÂêåÂêç‰ºöÂØºËá¥Âêå‰∏ÄË°®Êúâ‰∏§‰∏™ÂêåÂêçÂàó„ÄÇÊïÖËøô‰∏§Â§ÑÂ§ñÁ†Å‰æãÂ§ñÂ§ÑÁêÜÔºöÂá∫ÂèëÊú∫Âú∫ÂëΩÂêç‰∏∫fromÔºåÂà∞ËææÊú∫Âú∫ÂëΩÂêç‰∏∫to„ÄÇ<br>
Ê≥®ÊÑèÔºöÊâÄÊúâÁöÑË°®ÂêçÂ≠óÂíåÂàóÂêçÔºåÈÉΩÊ≤°ÊúâÂ§ßÂÜôÂ≠óÊØç„ÄÇÂàóÂêçÂ≠òÂú®‰∏éÂÖ≥ÈîÆÂ≠óÂêåÂêçÁöÑÊÉÖÂΩ¢ÔºåËØ∑Â¶•ÂñÑÂ§ÑÁêÜ„ÄÇ‰Ω†ÊúâÂèØËÉΩ‰∏çËÉΩ‰∏ÄÊ¨°ÈÄöËøáËØÑÊµãÔºåËØ∑ËÄÉËôë‰Ω†ÁöÑ‰ª£Á†ÅË¶ÅÂèçÂ§ç‰øÆÊîπÂÜçËøêË°åÁöÑÊÉÖÂΩ¢„ÄÇ</p>
<pre><code class="language-mysql"> # ËØ∑Â∞Ü‰Ω†ÂÆûÁé∞flight_bookingÊï∞ÊçÆÂ∫ìÁöÑËØ≠Âè•ÂÜôÂú®‰∏ãÊñπÔºö
CREATE DATABASE flight_booking;
USE flight_booking;
CREATE TABLE user(
    user_id INT PRIMARY KEY AUTO_INCREMENT,
    firstname VARCHAR(50) NOT NULL,
    lastname VARCHAR(50) NOT NULL,
    dob DATE NOT NULL,
    sex CHAR(1) NOT NULL,
    email VARCHAR(50),
    phone VARCHAR(30),
    username VARCHAR(20) NOT NULL UNIQUE,
    password CHAR(32) NOT NULL,
    admin_tag TINYINT NOT NULL DEFAULT 0
);

CREATE TABLE passenger(
    passenger_id INT PRIMARY KEY AUTO_INCREMENT,
    id CHAR(18) NOT NULL UNIQUE,
    firstname VARCHAR(50) NOT NULL,
    lastname VARCHAR(50) NOT NULL,
    mail VARCHAR(50),
    phone VARCHAR(20) NOT NULL,
    sex CHAR(1) NOT NULL,
    dob DATE
);

CREATE TABLE airport(
    airport_id INT PRIMARY KEY AUTO_INCREMENT,
    iata CHAR(3) NOT NULL UNIQUE,
    icao CHAR(4) NOT NULL UNIQUE,
    name VARCHAR(50) NOT NULL,
    city VARCHAR(50),
    country VARCHAR(50),
    latitude DECIMAL(11,8),
    longitude DECIMAL(11,8),
    index(name)
);

CREATE TABLE airline(
    airline_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(30) NOT NULL,
    iata CHAR(2) NOT NULL UNIQUE,
    airport_id INT NOT NULL,
    CONSTRAINT FK_airline_airport FOREIGN KEY(airport_id) REFERENCES airport(airport_id)
);

CREATE TABLE airplane(
    airplane_id INT PRIMARY KEY AUTO_INCREMENT,
    type VARCHAR(50) NOT NULL,
    capacity SMALLINT NOT NULL,
    identifier VARCHAR(50) NOT NULL,
    airline_id INT NOT NULL,
    CONSTRAINT FK_airplane_airline FOREIGN KEY(airline_id) REFERENCES airline(airline_id)
);

CREATE TABLE flightschedule(
    flight_no CHAR(8) PRIMARY KEY,
    departure TIME NOT NULL,
    arrival TIME NOT NULL,
    duration SMALLINT NOT NULL,
    monday TINYINT DEFAULT 0,
    tuesday TINYINT DEFAULT 0,
    wednesday TINYINT DEFAULT 0,
    thursday TINYINT DEFAULT 0,
    friday TINYINT DEFAULT 0,
    saturday TINYINT DEFAULT 0,
    sunday TINYINT DEFAULT 0,
    airline_id INT NOT NULL,
    `from` INT NOT NULL,
    `to` INT NOT NULL,
    CONSTRAINT FK_flightschedule_airline FOREIGN KEY(airline_id) REFERENCES airline(airline_id),
	CONSTRAINT FK_flightschedule_airport1 FOREIGN KEY(`from`) REFERENCES airport(airport_id),
	CONSTRAINT FK_flightschedule_airport2 FOREIGN KEY(`to`) REFERENCES airport(airport_id)
);

CREATE TABLE flight(
    flight_id INT PRIMARY KEY AUTO_INCREMENT,
    departure DATETIME NOT NULL,
    arrival DATETIME NOT NULL,
    duration SMALLINT NOT NULL,
    airline_id INT NOT NULL,
	airplane_id INT NOT NULL,
	flight_no CHAR(8) NOT NULL,
	`from` INT NOT NULL,
	`to` INT NOT NULL,
    CONSTRAINT FK_flight_airline FOREIGN KEY (airline_id) REFERENCES airline(airline_id),
	CONSTRAINT FK_flight_airplane FOREIGN KEY (airplane_id) REFERENCES airplane(airplane_id),
	CONSTRAINT FK_flight_flightschedule FOREIGN KEY (flight_no) REFERENCES flightschedule(flight_no),
	CONSTRAINT FK_flight_airport1 FOREIGN KEY (`from`) REFERENCES airport(airport_id),
	CONSTRAINT FK_flight_airport2 FOREIGN KEY (`to`) REFERENCES airport(airport_id)
);

CREATE TABLE ticket(
    ticket_id INT PRIMARY KEY AUTO_INCREMENT,
    seat CHAR(4),
    price DECIMAL(10,2) NOT NULL,
    flight_id INT NOT NULL,
	passenger_id INT NOT NULL,
	user_id INT NOT NULL,
	CONSTRAINT FK_ticket_flight FOREIGN KEY (flight_id) REFERENCES flight(flight_id),
	CONSTRAINT FK_ticket_passenger FOREIGN KEY (passenger_id) REFERENCES passenger(passenger_id),
	CONSTRAINT FK_ticket_user FOREIGN KEY (user_id) REFERENCES user(user_id)
);
</code></pre>
<h2 id="ÂçÅ‰∏Ä-Êï∞ÊçÆÂ∫ìÂ∫îÁî®ÂºÄÂèëjavaÁØá">ÂçÅ‰∏Ä„ÄÅÊï∞ÊçÆÂ∫ìÂ∫îÁî®ÂºÄÂèë(JAVAÁØá)</h2>
<h3 id="111-jdbc‰ΩìÁ≥ªÁªìÊûÑÂíåÁÆÄÂçïÁöÑÊü•ËØ¢">11.1 JDBC‰ΩìÁ≥ªÁªìÊûÑÂíåÁÆÄÂçïÁöÑÊü•ËØ¢</h3>
<p>Ê≠£Á°Æ‰ΩøÁî®JDBCÔºåÊü•ËØ¢ÈáëËûçÂ∫îÁî®Âú∫ÊôØÊï∞ÊçÆÂ∫ìfinanceÁöÑclientË°®(ÂÆ¢Êà∑Ë°®)‰∏≠ÈÇÆÁÆ±‰∏ç‰∏∫Á©∫ÁöÑÂÆ¢Êà∑‰ø°ÊÅØÔºåÂàóÂá∫ÂÆ¢Êà∑ÂßìÂêçÔºåÈÇÆÁÆ±ÂíåÁîµËØù.‰∏Ä‰∏™Â±ïÁ§∫ÁªìÊûúÁöÑÁ§∫‰æãÂ¶Ç‰∏ã(Â≠ó‰ΩìÈ¢úËâ≤ÊòØÂπ≥Âè∞Ëá™Âä®Âä†ÁöÑÔºå‰∏çÊòØÁºñÁ®ãË¶ÅÊ±Ç)Ôºö</p>
<pre><code>ÂßìÂêç	ÈÇÆÁÆ±				ÁîµËØù
Â§èÈõÖÊÉ†	57433144004@qq.com		18962433158
ÈíüÂ∫≠ÁéÆ	59434199077@163.com		18110434192
</code></pre>
<p>Ê≥®ÔºöÊ†áÈ¢ò‰ª•ÂèäÂ≠óÊÆµÂÄº‰πãÈó¥Áî®Âà∂Ë°®Á¨¶ÈöîÂºÄ„ÄÇÁ¨¨1ÂàóÂíåÁ¨¨2ÂàóÈó¥Áî®‰∏Ä‰∏™Âà∂Ë°®Á¨¶ÔºåÁ¨¨2ÂàóÂíåÁ¨¨3ÂàóÈó¥ÔºåÊ†áÈ¢òÁî®4‰∏™Âà∂Ë°®Á¨¶ÔºåÂ≠óÊÆµÂÄºÁî®‰∏§‰∏™Âà∂Ë°®Á¨¶ÈöîÂºÄ„ÄÇ</p>
<p>JDBCÈ©±Âä®Á®ãÂ∫è(mysql-connector-java-8.0.23.jar)Áî±Âπ≥Âè∞Êèê‰æõÔºåÁõ¥Êé•‰ΩøÁî®Âç≥ÂèØÔºå‰∏çÁî®ÁâπÂà´ËÆæÁΩÆ„ÄÇ</p>
<p>ËØ∑Âú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÂô®ÈÄÇÂΩìÁöÑ‰ΩçÁΩÆË°•ÂÖÖ‰ª£Á†ÅÔºåÂÆûÁé∞‰∏äËø∞ÁºñÁ®ãË¶ÅÊ±Ç„ÄÇ</p>
<p>ÈôÑclientË°®ÁöÑÁªìÊûÑ: Ë°®1 client(ÂÆ¢Êà∑Ë°®)</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>c_id</td>
<td>INTEGER</td>
<td>PRIMARY KEY</td>
<td>ÂÆ¢Êà∑ÁºñÂè∑</td>
</tr>
<tr>
<td>c_name</td>
<td>VARCHAR(100)</td>
<td>NOT NULL</td>
<td>ÂÆ¢Êà∑ÂêçÁß∞</td>
</tr>
<tr>
<td>c_mail</td>
<td>CHAR(30)</td>
<td>UNIQUE</td>
<td>ÂÆ¢Êà∑ÈÇÆÁÆ±</td>
</tr>
<tr>
<td>c_id_card</td>
<td>CHAR(20)</td>
<td>UNIQUE NOT NULL</td>
<td>ÂÆ¢Êà∑Ë∫´‰ªΩËØÅ</td>
</tr>
<tr>
<td>c_phone</td>
<td>CHAR(20)</td>
<td>UNIQUE NOT NULL</td>
<td>ÂÆ¢Êà∑ÊâãÊú∫Âè∑</td>
</tr>
<tr>
<td>c_password</td>
<td>CHAR(20)</td>
<td>NOT NULL</td>
<td>ÂÆ¢Êà∑ÁôªÂΩïÂØÜÁ†Å</td>
</tr>
</tbody>
</table>
<pre><code class="language-java">/* ËØ∑Âú®ÈÄÇÂΩìÁöÑ‰ΩçÁΩÆË°•ÂÖÖ‰ª£Á†ÅÔºåÂÆåÊàêÊåáÂÆöÁöÑ‰ªªÂä° 
   ÊèêÁ§∫Ôºö
      try {


      } catch
    ‰πãÈó¥Ë°•ÂÖÖ‰ª£Á†Å  
*/
import java.sql.*;

public class Client {
    public static void main(String[] args) {
        Connection connection = null;
        Statement statement = null;
        ResultSet resultSet = null;

        try {
            //Ê≥®ÂÜåÈ©±Âä®Á®ãÂ∫è
            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);
            //ÂàõÂª∫Êï∞ÊçÆÂ∫ìËøûÊé•ÂØπË±°
            String URL=&quot;jdbc:mysql://127.0.0.1:3306/finance?useUnicode=true&amp;characterEncoding=UTF8&amp;useSSL=false&amp;serverTimezone=UTC&quot;;
            String USER=&quot;root&quot;;
            String PASS=&quot;123123&quot;;
            connection=DriverManager.getConnection(URL, USER, PASS);
            //ÂàõÂª∫ÊâßË°åÂØπË±°
            statement = connection.createStatement();
            //ÊâßË°åSQLËØ≠Âè•
            String SQL = &quot;select * from client where c_mail is not null;&quot;;
            resultSet = statement.executeQuery(SQL);
            //ËæìÂá∫Êü•ËØ¢ÁªìÊûú
            System.out.println(&quot;ÂßìÂêç\tÈÇÆÁÆ±\t\t\t\tÁîµËØù&quot;);
            while (resultSet.next()) {
                System.out.print(resultSet.getString(&quot;c_name&quot;)+'\t');
                System.out.print(resultSet.getString(&quot;c_mail&quot;)+&quot;\t\t&quot;);
                System.out.println(resultSet.getString(&quot;c_phone&quot;));
            }
 
         } catch (ClassNotFoundException e) {
            System.out.println(&quot;Sorry,can`t find the JDBC Driver!&quot;); 
            e.printStackTrace();
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            try {
                if (resultSet != null) {
                    resultSet.close();
                }
                if (statement != null) {
                    statement.close();
                }

                if (connection != null) {
                    connection.close();
                }
            } catch (SQLException throwables) {
                throwables.printStackTrace();
            }
        }
    }
}
</code></pre>
<h3 id="112-Áî®Êà∑ÁôªÂΩï">11.2 Áî®Êà∑ÁôªÂΩï</h3>
<p>ÁºñÁ®ã‰ΩìÈ™åÂÆ¢Êà∑ÁôªÂΩïÂäüËÉΩ.Á®ãÂ∫èÂÖàÂêéÊèêÁ§∫ÂÆ¢Êà∑ËæìÁî®Êà∑ÂêçÂíåÂØÜÁ†Å: ËØ∑ËæìÂÖ•Áî®Êà∑ÂêçÔºö ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÔºö ÂÆ¢Êà∑ÁöÑÈÇÆÁÆ±(c_mail)ÂÖÖÂΩìÁî®Êà∑Âêç,ËÄå‰∏çÊòØÁºñÂè∑(c_id).ÈÄöÂ∏∏ÈÇÆÁÆ±Êõ¥ÂÆπÊòìËÆ∞‰Ωè. Ê†πÊçÆÂÆ¢Êà∑ÁöÑËæìÂÖ•,ËæìÂá∫‰ª•‰∏ã‰∏§Á±ª‰ø°ÊÅØ‰πã‰∏Ä:</p>
<ul>
<li>
<p>ÁôªÂΩïÊàêÂäü„ÄÇ</p>
</li>
<li>
<p>Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØÔºÅ</p>
<p>Â¶ÇÊûúÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂåπÈÖçÊàêÂäü,ËæìÂá∫ÂâçËÄÖ,ÂÖ∂ÂÆÉÊÉÖÂÜµËæìÂá∫ÂêéËÄÖ(ÂåÖÊã¨ËØ•Áî®Êà∑‰∏çÂ≠òÂú®).ÈÄöÂ∏∏Ë¢´ÊÅ∂ÊÑèÁî®Êà∑ËØïÊé¢Âá∫Áî®Êà∑Âêç,‰πü‰ºöÂ∏¶Êù•‰∏çËâØÂêéÊûú.</p>
</li>
</ul>
<p>ËØ∑Âú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÁ™óË°•ÂÖÖ‰ª£Á†ÅÔºåÂÆåÊàêÁºñÁ®ã‰ªªÂä°„ÄÇ</p>
<pre><code class="language-java">import java.sql.*;
import java.util.Scanner;

public class Login {
    public static void main(String[] args) {
        Connection connection = null;
        //Áî≥Êòé‰∏ãÊñá‰∏≠ÁöÑresultSet, statement
        Statement statement = null;
        ResultSet resultSet = null;


        Scanner input = new Scanner(System.in);

        System.out.print(&quot;ËØ∑ËæìÂÖ•Áî®Êà∑ÂêçÔºö&quot;);
        String loginName = input.nextLine();
        System.out.print(&quot;ËØ∑ËæìÂÖ•ÂØÜÁ†ÅÔºö&quot;);
        String loginPass = input.nextLine();

        try {
            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);

            String userName = &quot;root&quot;;
            String passWord = &quot;123123&quot;;
            String url = &quot;jdbc:mysql://127.0.0.1:3306/finance?useUnicode=true&amp;characterEncoding=UTF8&amp;useSSL=false&amp;serverTimezone=UTC&quot;;
            connection = DriverManager.getConnection(url, userName, passWord);
            // Ë°•ÂÖÖÂÆûÁé∞‰ª£Á†Å:
            statement = connection.createStatement();
            String SQL=&quot;SELECT * FROM client WHERE c_mail='&quot;+loginName+&quot;';&quot;;
            resultSet = statement.executeQuery(SQL); 
            if(resultSet.next()){//ÊúâÊü•ËØ¢ÁªìÊûú
                if(resultSet.getString(&quot;c_password&quot;).equals(loginPass)){
                    System.out.print(&quot;ÁôªÂΩïÊàêÂäü„ÄÇ\n&quot;);
                }
                else{
                    System.out.print(&quot;Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØÔºÅ\n&quot;);
                }
            }
            else{
                System.out.print(&quot;Áî®Êà∑ÂêçÊàñÂØÜÁ†ÅÈîôËØØÔºÅ\n&quot;);
            }

            

         } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            try {
                if (resultSet != null) {
                    resultSet.close();
                }
                if (statement != null) {
                    statement.close();
                }

                if (connection != null) {
                    connection.close();
                }
            } catch (SQLException throwables) {
                throwables.printStackTrace();
            }
        }
    }
}
</code></pre>
<h3 id="113-Ê∑ªÂä†Êñ∞ÂÆ¢Êà∑">11.3 Ê∑ªÂä†Êñ∞ÂÆ¢Êà∑</h3>
<p>Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÂô®Ë°•ÂÖÖ‰ª£Á†ÅÔºåÂÆûÁé∞ÂêëclientË°®ÊèíÂÖ•ÂÆ¢Êà∑‰ø°ÊÅØÁöÑÊñπÊ≥ïÔºö</p>
<pre><code class="language-java">public static int insertClient(Connection connection,int c_id, String c_name, String c_mail,           String c_id_card, String c_phone,String c_password){
    
}
</code></pre>
<p>insertClient()ÊñπÊ≥ïÁöÑÊØè‰∏™ÂèÇÊï∞ÈÉΩÂú®Ê≥®Èáä‰∏≠ËøõË°å‰∫ÜËØ¶ÁªÜÁöÑËØ¥Êòé„ÄÇ insertClient()ÊñπÊ≥ïËøîÂõûÊèíÂÖ•ÁöÑË°åÊï∞ÔºåÂ∞ΩÁÆ°main()ÊñπÊ≥ïÂú®Ë∞ÉÊó∂Âπ∂Ê≤°ÊúâÊ£ÄÊü•ËØ•ËøîÂõûÂÄº(ËØÑÊµãÁ®ãÂ∫èËÉΩÊ£ÄÊü•Âá∫ÊòØÂê¶ÊèíÂÖ•ÊòØÂê¶ÊàêÂäü)„ÄÇ ÂÅáÂÆöËæìÂÖ•ÁöÑÂÆ¢Êà∑‰ø°ÊÅØÊ≤°ÊúâÈîôËØØÈúÄË¶ÅÂ§ÑÁêÜ(ÊØîÂ¶ÇÂÆ¢Êà∑ÁºñÂè∑‰∏çÊòØÊï¥Êï∞Ôºå‰ø°ÊÅØÈ°πÁº∫Â§±Á≠âÂºÇÂ∏∏ÊÉÖÂÜµ)„ÄÇ</p>
<p>ËØ∑‰∏çË¶Å‰øÆÊîπmain()ÊñπÊ≥ï„ÄÇ</p>
<pre><code class="language-java">import java.sql.*;
import java.util.Scanner;

public class AddClient {
    static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;
    static final String DB_URL = &quot;jdbc:mysql://127.0.0.1:3306/finance?allowPublicKeyRetrieval=true&amp;useUnicode=true&amp;characterEncoding=UTF8&amp;useSSL=false&amp;serverTimezone=UTC&quot;;
    static final String USER = &quot;root&quot;;
    static final String PASS = &quot;123123&quot;;
    /**
     * ÂêëClientË°®‰∏≠ÊèíÂÖ•Êï∞ÊçÆ
     *
     * @param connection Êï∞ÊçÆÂ∫ìËøûÊé•ÂØπË±°
     * @param c_id ÂÆ¢Êà∑ÁºñÂè∑
     * @param c_name ÂÆ¢Êà∑ÂêçÁß∞
     * @param c_mail ÂÆ¢Êà∑ÈÇÆÁÆ±
     * @param c_id_card ÂÆ¢Êà∑Ë∫´‰ªΩËØÅ
     * @param c_phone ÂÆ¢Êà∑ÊâãÊú∫Âè∑
     * @param c_password ÂÆ¢Êà∑ÁôªÂΩïÂØÜÁ†Å
     */
    public static int insertClient(Connection connection,
                                   int c_id, String c_name, String c_mail,
                                   String c_id_card, String c_phone, 
                                   String c_password){
        int n=0;
        PreparedStatement pps = null;
        try{
            String SQL=&quot;INSERT INTO client VALUES(?,?,?,?,?,?);&quot;;
            pps=connection.prepareStatement(SQL);
            pps.setInt(1,c_id);
            pps.setString(2,c_name);
            pps.setString(3,c_mail);
            pps.setString(4,c_id_card);
            pps.setString(5,c_phone);
            pps.setString(6,c_password);
            n=pps.executeUpdate();
        }catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            try {
                if (pps != null) {
                    pps.close();
                }
            } catch (SQLException throwables) {
                throwables.printStackTrace();
            }
        }
        return n;
    }

    // ‰∏çË¶Å‰øÆÊîπmain() 
    public static void main(String[] args) throws Exception {

        Scanner sc = new Scanner(System.in);
        Class.forName(JDBC_DRIVER);

        Connection connection = DriverManager.getConnection(DB_URL, USER, PASS);

        while(sc.hasNext())
        {
            String input = sc.nextLine();
            if(input.equals(&quot;&quot;))
                break;

            String[]commands = input.split(&quot; &quot;);
            if(commands.length ==0)
                break;
            int id = Integer.parseInt(commands[0]);
            String name = commands[1];
            String mail = commands[2];
            String idCard = commands[3];
            String phone = commands[4];
            String password = commands[5];

            insertClient(connection, id, name, mail, idCard, phone, password);
        }
    }

}
</code></pre>
<h3 id="114-Èì∂Ë°åÂç°ÈîÄÊà∑">11.4 Èì∂Ë°åÂç°ÈîÄÊà∑</h3>
<p>Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÂô®Ë°•ÂÖÖ‰ª£Á†ÅÔºåÂÆûÁé∞ÂêëÈì∂Ë°åÂç°ÈîÄÂè∑ÁöÑÊñπÊ≥ïÔºåÂè™Ë¶ÅÂÆ¢Êà∑ÁºñÂè∑ÂíåÈì∂Ë°åÂç°Âè∑ÂåπÈÖçÔºåÂç≥‰ªébank_cardË°®‰∏≠Âà†Èô§ËØ•Èì∂Ë°åÂç°„ÄÇËá≥‰∫éÂç°ÂÜÖ‰ΩôÈ¢ùÊàñ‰ø°Áî®Âç°ÁöÑÊ¨†Ê¨æÔºåÁî±ÂÆ¢Êà∑Âú®ÊüúÂè∞ÂΩìÈù¢ÁªìÊ∏ÖÔºåÁ®ãÂ∫è‰∏çÁî®ËÄÉËôëÂÖ∂ÂÆÉ‰∫ãÈ°π„ÄÇ</p>
<pre><code class="language-java">public static int removeBankCard(Connection connection,int b_c_id, String b_number){
}
</code></pre>
<p>removeBankCard()ÊñπÊ≥ïÁöÑÊØè‰∏™ÂèÇÊï∞ÈÉΩÂú®Ê≥®Èáä‰∏≠ËøõË°å‰∫ÜËØ¶ÁªÜÁöÑËØ¥Êòé„ÄÇ removeBankCard()ÊñπÊ≥ïËøîÂõûË¢´Âà†Èô§ÁöÑË°åÊï∞„ÄÇ ÂÅáÂÆöËæìÂÖ•ÁöÑÂÆ¢Êà∑‰ø°ÊÅØÊ≤°ÊúâÈîôËØØÈúÄË¶ÅÂ§ÑÁêÜ(ÊØîÂ¶ÇÂÆ¢Êà∑ÁºñÂè∑‰∏çÊòØÊï¥Êï∞Ôºå‰ø°ÊÅØÈ°πÁº∫Â§±Á≠âÂºÇÂ∏∏ÊÉÖÂÜµ)„ÄÇ</p>
<p>ËØ∑‰∏çË¶Å‰øÆÊîπmain()ÊñπÊ≥ï„ÄÇ</p>
<pre><code class="language-java">import java.sql.*;
import java.util.Scanner;

public class RemoveCard {
    static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;
    static final String DB_URL = &quot;jdbc:mysql://127.0.0.1:3306/finance?allowPublicKeyRetrieval=true&amp;useUnicode=true&amp;characterEncoding=UTF8&amp;useSSL=false&amp;serverTimezone=UTC&quot;;
    static final String USER = &quot;root&quot;;
    static final String PASS = &quot;123123&quot;;
    /**
     * Âà†Èô§bank_cardË°®‰∏≠Êï∞ÊçÆ
     *
     * @param connection Êï∞ÊçÆÂ∫ìËøûÊé•ÂØπË±°
     * @param b_c_id ÂÆ¢Êà∑ÁºñÂè∑
     * @param c_number Èì∂Ë°åÂç°Âè∑
     */
    public static int removeBankCard(Connection connection,
                                   int b_c_id, String b_number){
        int n=0;
        PreparedStatement pps = null;
        try{
            String SQL=&quot;DELETE FROM bank_card WHERE b_c_id=? AND b_number=? ;&quot;;
            pps=connection.prepareStatement(SQL);
            pps.setInt(1,b_c_id);
            pps.setString(2,b_number);
            n=pps.executeUpdate();
        }catch (SQLException throwables) {
            throwables.printStackTrace();
        } finally {
            try {
                if (pps != null) {
                    pps.close();
                }
            } catch (SQLException throwables) {
                throwables.printStackTrace();
            }
        }
        return n;
    }

    // ‰∏çË¶Å‰øÆÊîπmain() 
    public static void main(String[] args) throws Exception {

        Scanner sc = new Scanner(System.in);
        Class.forName(JDBC_DRIVER);

        Connection connection = DriverManager.getConnection(DB_URL, USER, PASS);

        while(sc.hasNext())
        {
            String input = sc.nextLine();
            if(input.equals(&quot;&quot;))
                break;

            String[]commands = input.split(&quot; &quot;);
            if(commands.length ==0)
                break;
            int id = Integer.parseInt(commands[0]);
            String carNumber = commands[1];
            
            int n = removeBankCard(connection, id, carNumber);
            if (n &gt; 0) {
               System.out.println(&quot;Â∑≤ÈîÄÂç°Êï∞Ôºö&quot; + n);
            } else {
               System.out.println(&quot;ÈîÄÊà∑Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÂÆ¢Êà∑ÁºñÂè∑ÊàñÈì∂Ë°åÂç°Âè∑ÔºÅ&quot; );
            }
        }
    }

}
</code></pre>
<h3 id="115-ÂÆ¢Êà∑‰øÆÊîπÂØÜÁ†Å">11.5 ÂÆ¢Êà∑‰øÆÊîπÂØÜÁ†Å</h3>
<p>Ê†πÊçÆÊèêÁ§∫ÔºåÂú®Âè≥‰æß‰ª£Á†ÅÊñá‰ª∂ÁºñËæëÂô®Ë°•ÂÖÖ‰ª£Á†ÅÔºåÂÆûÁé∞‰øÆÊîπÂØÜÁ†ÅÁöÑÊñπÊ≥ïpasswd()„ÄÇÂÆ¢Êà∑‰øÆÊîπÂØÜÁ†ÅÈÄöÂ∏∏ÈúÄË¶ÅÁ°ÆËÆ§ÂÆ¢Êà∑Ë∫´‰ªΩÔºåÂç≥ÂÆ¢Êà∑ÈúÄÊèê‰æõÁî®Êà∑Âêç(‰ª•ÈÇÆÁÆ±‰∏∫Áî®Êà∑Âêç)ÂíåÂØÜÁ†ÅÔºåÂêåÊó∂ËøòÈúÄË¶ÅËæì‰∏§Ê¨°Êñ∞ÂØÜÁ†ÅÔºå‰ª•ÂÖçÂÆ¢Êà∑ÂÆûÈôÖËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏éÂøÉ‰∏≠ÊÉ≥ÁöÑ‰∏ç‰∏ÄËá¥ÔºåÂè™ÊúâÂΩìÊâÄÊúâÊù°‰ª∂(ÂêàÊ≥ïÁöÑÂÆ¢Êà∑Ôºå‰∏§Ê¨°ÂØÜÁ†ÅËæìÂÖ•‰∏ÄËá¥)Êó∂Êâç‰øÆÊîπÂØÜÁ†Å„ÄÇmain()ÊñπÊ≥ïÂú®Ë∞ÉÁî®passwd()‰πãÂâçÔºå‰ºöÂÖàÊ£ÄÊü•Êñ∞ËÆæÂØÜÁ†ÅÁöÑ‰∏§Ê¨°ËæìÂÖ•ÊòØÂê¶‰∏ÄËá¥ÔºåÂè™ÊúâÂú®‰∏§Ê¨°ËæìÂÖ•‰∏ÄËá¥ÁöÑÊÉÖÂΩ¢‰∏ãÊâç‰ºöË∞ÉÁî®passwd();</p>
<pre><code class="language-java">public static int insertClient(Connection connection,String mail,String password,String newPass){
    
}
</code></pre>
<p>passwd()ÊñπÊ≥ïÁöÑÊØè‰∏™ÂèÇÊï∞ÈÉΩÂú®Ê≥®Èáä‰∏≠ËøõË°å‰∫ÜËØ¶ÁªÜÁöÑËØ¥Êòé„ÄÇ passwd()ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™Êï¥Êï∞Ôºö<br>
1 - ÂØÜÁ†Å‰øÆÊîπÊàêÂäü<br>
2 - Áî®Êà∑‰∏çÂ≠òÂú®<br>
3 - ÂØÜÁ†Å‰∏çÊ≠£Á°Æ<br>
-1 - Á®ãÂ∫èÂºÇÂ∏∏(Â¶ÇÊ≤°ËÉΩËøûÊé•Âà∞Êï∞ÊçÆÂ∫ìÁ≠âÔºâ</p>
<p>ËØ∑‰∏çË¶Å‰øÆÊîπmain()ÊñπÊ≥ï„ÄÇ</p>
<pre><code class="language-java">import java.sql.*;
import java.util.Scanner;

public class ChangePass {
    static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;
    static final String DB_URL = &quot;jdbc:mysql://127.0.0.1:3306/finance?allowPublicKeyRetrieval=true&amp;useUnicode=true&amp;characterEncoding=UTF8&amp;useSSL=false&amp;serverTimezone=UTC&quot;;
    static final String USER = &quot;root&quot;;
    static final String PASS = &quot;123123&quot;;
    /**
     * ‰øÆÊîπÂÆ¢Êà∑ÂØÜÁ†Å
     *
     * @param connection Êï∞ÊçÆÂ∫ìËøûÊé•ÂØπË±°
     * @param mail ÂÆ¢Êà∑ÈÇÆÁÆ±,‰πüÊòØÁôªÂΩïÂêç
     * @param password ÂÆ¢Êà∑ÁôªÂΩïÂØÜÁ†Å
     * @param newPass  Êñ∞ÂØÜÁ†Å
     * @return
     *   1 - ÂØÜÁ†Å‰øÆÊîπÊàêÂäü
     *   2 - Áî®Êà∑‰∏çÂ≠òÂú®
     *   3 - ÂØÜÁ†Å‰∏çÊ≠£Á°Æ
     *  -1 - Á®ãÂ∫èÂºÇÂ∏∏(Â¶ÇÊ≤°ËÉΩËøûÊé•Âà∞Êï∞ÊçÆÂ∫ìÁ≠âÔºâ
     */
    public static int passwd(Connection connection,
                             String mail,
                             String password, 
                             String newPass){
        int n=0;
        PreparedStatement pps = null;
        ResultSet resultSet = null;
        try{
            //È¶ñÂÖàÁ°ÆËÆ§Áî®Êà∑ÊòØÂê¶Â≠òÂú®
            String SQL=&quot;SELECT * FROM client WHERE c_mail=?;&quot;;
            pps=connection.prepareStatement(SQL);
            pps.setString(1,mail);
            resultSet = pps.executeQuery();
            if(resultSet.next()){//Êü•ËØ¢Âà∞‰∫ÜÁî®Êà∑
                SQL=&quot;SELECT * FROM client WHERE c_mail=? AND c_password=? ;&quot;;
                pps=connection.prepareStatement(SQL);
                pps.setString(1,mail);
                pps.setString(2,password);
                resultSet = pps.executeQuery();
                if(resultSet.next()){//ÂØÜÁ†ÅÊ≠£Á°Æ
                    SQL=&quot;UPDATE client SET c_password = ? where c_mail = ?;&quot;;
                    pps=connection.prepareStatement(SQL);
                    pps.setString(1,newPass);
                    pps.setString(2,mail);
                    n = pps.executeUpdate();
                }
                else{//ÂØÜÁ†ÅÈîôËØØ
                    n=3;
                }
            }
            else{//Êú™Êü•ËØ¢Âà∞Áî®Êà∑
                n=2;
            }
        }catch (SQLException throwables) {
            throwables.printStackTrace();
            n = -1;
        } finally {
            try {
                if (pps != null) {
                    pps.close();
                }
                if (resultSet != null) {
                    resultSet.close();
                }
            } catch (SQLException throwables) {
                throwables.printStackTrace();
                n = -1;
            }
        }
        return n;
    }

    // ‰∏çË¶Å‰øÆÊîπmain() 
    public static void main(String[] args) throws Exception {

        Scanner sc = new Scanner(System.in);
        Class.forName(JDBC_DRIVER);

        Connection connection = DriverManager.getConnection(DB_URL, USER, PASS);

        while(sc.hasNext())
        {
            String input = sc.nextLine();
            if(input.equals(&quot;&quot;))
                break;

            String[]commands = input.split(&quot; &quot;);
            if(commands.length ==0)
                break;
            String email = commands[0];
            String pass = commands[1];
            String pwd1 = commands[2];
            String pwd2 = commands[3];
            if (pwd1.equals(pwd2)) {
              int n = passwd(connection, email, pass, pwd1);  
              System.out.println(&quot;return: &quot; + n);
            } else {
              System.out.println(&quot;‰∏§Ê¨°ËæìÂÖ•ÁöÑÂØÜÁ†Å‰∏ç‰∏ÄÊ†∑!&quot;);
            }
        }
    }

}
</code></pre>
<h3 id="116-‰∫ãÂä°‰∏éËΩ¨Ë¥¶Êìç‰Ωú">11.6 ‰∫ãÂä°‰∏éËΩ¨Ë¥¶Êìç‰Ωú</h3>
<p>ÁºñÂÜô‰∏Ä‰∏™Èì∂Ë°åÂç°ËΩ¨Ë¥¶ÁöÑÊñπÊ≥ïtransferBalance()„ÄÇ</p>
<p>transferBalance()Âú®Ë¢´Ë∞ÉÁî®ÂâçÔºåÊüúÂè∞Â∑≤ÁªèÁ°ÆËÆ§ËøáËΩ¨Âá∫Â∏êÂè∑ÊåÅÊúâËÄÖË∫´‰ªΩÔºåÊâÄ‰ª•ËΩ¨Â∏êÊñπÊ≥ïÂè™Êé•ÂèóËΩ¨Âá∫Âç°Âè∑ÔºåËΩ¨ÂÖ•Âç°Âè∑ÂíåËΩ¨Ë¥¶ÈáëÈ¢ù‰∏â‰∏™ÂèÇÊï∞„ÄÇÁî±Ë∞ÉÁî®ËÄÖ‰øùËØÅËΩ¨Ë¥¶ÈáëÈ¢ù‰∏∫Ê≠£Êï∞„ÄÇ transferBalance()ÊñπÊ≥ïÁöÑÊØè‰∏™ÂèÇÊï∞ÈÉΩÂú®Ê≥®Èáä‰∏≠ËøõË°å‰∫ÜËØ¶ÁªÜÁöÑËØ¥Êòé„ÄÇ transferBalance()ËøîÂõûbooleanÂÄºÔºåtrueË°®Á§∫ËΩ¨Â∏êÊàêÂäüÔºåfalseË°®Á§∫ËΩ¨Ë¥¶Â§±Ë¥•ÔºåÂπ∂‰∏çÈúÄË¶ÅÁªÜÂàÜÊàñËß£ÈáäÂ§±Ë¥•ÁöÑÂéüÂõ†„ÄÇ ‰∏ãÂàó‰ªª‰∏ÄÊÉÖÂΩ¢ÈÉΩ‰∏çÂèØËΩ¨Ë¥¶(ËΩ¨Ë¥¶Â§±Ë¥•ÁöÑÂéüÂõ†)Ôºö ËΩ¨Âá∫ÊàñËΩ¨ÂÖ•Â∏êÂè∑‰∏çÂ≠òÂú® ËΩ¨Âá∫Ë¥¶Âè∑ÊòØ‰ø°Áî®Âç° ËΩ¨Âá∫Â∏êÂè∑‰ΩôÈ¢ù‰∏çË∂≥</p>
<p>ÊèêÁ§∫Ôºö<br>
1.Êú¨ÊñπÊ≥ïÈúÄÂºÄÂêØÊâãÂ∑•‰∫ãÂä°,Âπ∂Ê≠£Á°Æ‰ΩøÁî®commitÂíårollbackÔºõ<br>
2.ÂΩìËΩ¨ÂÖ•Âç°ÊòØ‰ø°Áî®Âç°Êó∂ÔºåÊÑèÊåá‰ø°Áî®Âç°ËøòÊ¨æÔºåËøòÊ¨æÂèØ‰ª•Ë∂ÖËøáÈÄèÊîØÊ¨æÈ°πÔºõ<br>
3.ÂØπ‰∫ãÂä°ÁöÑÈöîÁ¶ªÁ∫ßÂà´‰∏ç‰ΩúË¶ÅÊ±Ç„ÄÇ</p>
<p>ËØ∑‰∏çË¶Å‰øÆÊîπmain()ÊñπÊ≥ï„ÄÇ</p>
<p>ÈôÑ:bank_card(Èì∂Ë°åÂç°)ÁöÑË°®ÁªìÊûÑÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµÂêçÁß∞</th>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>Á∫¶Êùü</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>b_number</td>
<td>CHAR(30)</td>
<td>PRIMARY KEY</td>
<td>Èì∂Ë°åÂç°Âè∑</td>
</tr>
<tr>
<td>b_type</td>
<td>CHAR(20)</td>
<td>Êó†</td>
<td>Èì∂Ë°åÂç°Á±ªÂûã(ÂÇ®ËìÑÂç°/‰ø°Áî®Âç°)</td>
</tr>
<tr>
<td>b_c_id</td>
<td>INTEGER</td>
<td>NOT NULL FOREIGN KEY</td>
<td>ÊâÄÂ±ûÂÆ¢Êà∑ÁºñÂè∑,ÂºïÁî®Ëá™clientË°®ÁöÑc_idÂ≠óÊÆµ„ÄÇ</td>
</tr>
<tr>
<td>b_balance</td>
<td>NUMERIC(10,2)</td>
<td>NOT NULL</td>
<td>‰ΩôÈ¢ù,‰ø°Áî®Âç°‰ΩôÈ¢ùÁ≥ªÊåáÂ∑≤ÈÄèÊîØ</td>
</tr>
</tbody>
</table>
<pre><code class="language-java">import java.sql.*;
import java.util.Scanner;

public class Transfer {
    static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;
    static final String DB_URL = &quot;jdbc:mysql://127.0.0.1:3306/finance?allowPublicKeyRetrieval=true&amp;useUnicode=true&amp;characterEncoding=UTF8&amp;useSSL=false&amp;serverTimezone=UTC&quot;;
    static final String USER = &quot;root&quot;;
    static final String PASS = &quot;123123&quot;;
    /**
     * ËΩ¨Ë¥¶Êìç‰Ωú
     *
     * @param connection Êï∞ÊçÆÂ∫ìËøûÊé•ÂØπË±°
     * @param sourceCard ËΩ¨Âá∫Ë¥¶Âè∑
     * @param destCard ËΩ¨ÂÖ•Ë¥¶Âè∑
     * @param amount  ËΩ¨Ë¥¶ÈáëÈ¢ù
     * @return boolean
     *   true  - ËΩ¨Ë¥¶ÊàêÂäü
     *   false - ËΩ¨Ë¥¶Â§±Ë¥•
     */
    public static boolean transferBalance(Connection connection,
                             String sourceCard,
                             String destCard, 
                             double amount){
        PreparedStatement pps = null;
        ResultSet resultSet = null;
        boolean n = true;
        try{
            connection.setAutoCommit(false);//Á¶ÅÊ≠¢Ëá™Âä®Êèê‰∫§
            
            String SQL=&quot;UPDATE bank_card SET b_balance = b_balance - ? WHERE b_number = ? AND b_type='ÂÇ®ËìÑÂç°';&quot;;
            pps=connection.prepareStatement(SQL);
            pps.setDouble(1,amount);
            pps.setString(2,sourceCard);
            pps.executeUpdate();
            
            SQL=&quot;UPDATE bank_card SET b_balance = b_balance + ? WHERE b_number = ? AND b_type='ÂÇ®ËìÑÂç°' ;&quot;;
            pps=connection.prepareStatement(SQL);
            pps.setDouble(1,amount);
            pps.setString(2,destCard);
            pps.executeUpdate();

            SQL=&quot;UPDATE bank_card SET b_balance = b_balance - ? WHERE b_number = ? AND b_type='‰ø°Áî®Âç°' ;&quot;;
            pps=connection.prepareStatement(SQL);
            pps.setDouble(1,amount);
            pps.setString(2,destCard);
            pps.executeUpdate();

            SQL=&quot;SELECT * FROM bank_card WHERE b_number=? AND b_type='ÂÇ®ËìÑÂç°' ;&quot;;
            pps=connection.prepareStatement(SQL);
            pps.setString(1,sourceCard);
            resultSet = pps.executeQuery();
            if(!resultSet.next()){//‰∏çÂ≠òÂú®ËΩ¨Âá∫Âç°
                n=false;
                connection.rollback();
            }
            else{//Â≠òÂú®ËΩ¨Âá∫Âç°
                if(resultSet.getDouble(&quot;b_balance&quot;)&lt;0){//ÂΩìÂâçb_balance‰∏∫ËΩ¨Âá∫ÁöÑÁä∂ÊÄÅ
                    n=false;
                    connection.rollback();
                }
                else{
                    //Âà§Êñ≠ËΩ¨Âá∫Âç°ÊòØÂê¶Â≠òÂú®
                    SQL=&quot;SELECT * FROM bank_card WHERE b_number=? ;&quot;;
                    pps=connection.prepareStatement(SQL);
                    pps.setString(1,destCard);
                    resultSet = pps.executeQuery();
                    if(!resultSet.next()){
                        n=false;
                        connection.rollback();
                    }
                    else connection.commit();
                }
            }
        }catch (SQLException throwables) {
            throwables.printStackTrace();
            n = false;
        } finally {
            try {
                if (pps != null) {
                    pps.close();
                }
                if (resultSet != null) {
                    resultSet.close();
                }
            } catch (SQLException throwables) {
                throwables.printStackTrace();
                n = false;
            }
        }
        return n;
    }

    // ‰∏çË¶Å‰øÆÊîπmain() 
    public static void main(String[] args) throws Exception {

        Scanner sc = new Scanner(System.in);
        Class.forName(JDBC_DRIVER);

        Connection connection = DriverManager.getConnection(DB_URL, USER, PASS);

        while(sc.hasNext())
        {
            String input = sc.nextLine();
            if(input.equals(&quot;&quot;))
                break;

            String[]commands = input.split(&quot; &quot;);
            if(commands.length ==0)
                break;
            String payerCard = commands[0];
            String  payeeCard = commands[1];
            double  amount = Double.parseDouble(commands[2]);
            if (transferBalance(connection, payerCard, payeeCard, amount)) {
              System.out.println(&quot;ËΩ¨Ë¥¶ÊàêÂäü„ÄÇ&quot; );
            } else {
              System.out.println(&quot;ËΩ¨Ë¥¶Â§±Ë¥•,ËØ∑Ê†∏ÂØπÂç°Âè∑ÔºåÂç°Á±ªÂûãÂèäÂç°‰ΩôÈ¢ù!&quot;);
            }
        }
    }

}
</code></pre>

            </div>
            <hr style="width: 80%;">
            
            <div class="postfooter">
                <ul class="post-copyright">
                    <li><strong>ÊñáÁ´†‰ΩúËÄÖÔºö</strong>w_CS</li>
            <li><strong>ÂéüÊñáÈìæÊé•Ôºö</strong>https://2006wzt.github.io/post/Êï∞ÊçÆÂ∫ìÁ≥ªÁªüÊ¶ÇËÆ∫ÂÆûÈ™å/</li>
            <li><strong>ÁâàÊùÉÂ£∞ÊòéÔºö</strong>Êú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî®<i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA
                ËÆ∏ÂèØÂçèËÆÆ„ÄÇËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§ÑÔºÅ</li>
            </ul>
        </div>
        
            <div class="shareContainer">
                <div class="share" style="height:30px;">
                    <a class="qq" href=""><i><img class="shareicon"
                                src="https://2006wzt.github.io/media/images/qqs.png" alt=""></i></a>
                    <a class="wechat" href=""><i><img class="shareicon"
                                src="https://2006wzt.github.io/media/images/wechats.png" alt=""></i></a>
                    <a class="weibo" href=""><i><img class="shareicon"
                                src="https://2006wzt.github.io/media/images/weibos.png" alt=""></i></a>
                    <a class="qzone" href=""><i><img class="shareicon"
                                src="https://2006wzt.github.io/media/images/qzones.png" alt=""></i></a>
                    <a class="douban" href=""><i><img class="shareicon"
                                src="https://2006wzt.github.io/media/images/doubans.png" alt=""></i></a>
                    <a class="facebook" href=""><i><img class="shareicon"
                                src="https://2006wzt.github.io/media/images/facebooks.png" alt=""></i></a>
                    <a class="twitter" href=""><i><img class="shareicon"
                                src="https://2006wzt.github.io/media/images/twitter.png" alt=""></i></a>
                </div>
            </div>
            
        <div id="otherpost">
            
            
            <a data-pjax class="next-post-pc" href="https://2006wzt.github.io/post/socketÁºñÁ®ãÂÆûÈ™å/"  style="color: black;">
                <div id="npcontainer">
                    
                    <img src="https://2006wzt.github.io/post-images/socketÁºñÁ®ãÂÆûÈ™å.png" style="width: 100%;" class="opimg">
                    
                    <h4 class="optitle">SocketÁºñÁ®ãÂÆûÈ™å</h4>
                </div>
            </a>
            <div class="next-post">
                ‰∏ã‰∏ÄÁØá <a  data-pjax href="https://2006wzt.github.io/post/socketÁºñÁ®ãÂÆûÈ™å/">SocketÁºñÁ®ãÂÆûÈ™å</a>
            </div>
            
        </div>
    </div>
    </div>
    </div>
    <!-- ÂºπÁ™ó -->
    <div id="myModal" class="modal">
        <img class="modal-content" id="img01">
    </div>
</body>
<script>
    //ÊñáÁ´†ÈòÖËØªÁÉ≠Â∫¶
    var pl = $("#pl").html();
    var rootaddr = $("#rootaddr").html();
    pl = pl.replace(rootaddr, "");
    $("#hotnum").attr('id', pl);
</script>
                    <div class="toc-container">
                        <ul class="markdownIt-TOC">
<li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C">Êï∞ÊçÆÂ∫ìÂÆûÈ™å</a>
<ul>
<li><a href="#%E4%B8%80-%E5%AE%9E%E8%AE%AD1-%E6%95%B0%E6%8D%AE%E5%BA%93-%E8%A1%A8%E4%B8%8E%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F%E7%9A%84%E5%AE%9A%E4%B9%89create">‰∏Ä„ÄÅ<strong>ÂÆûËÆ≠1 Êï∞ÊçÆÂ∫ì„ÄÅË°®‰∏éÂÆåÊï¥ÊÄßÁ∫¶ÊùüÁöÑÂÆö‰πâ(Create)</strong></a>
<ul>
<li><a href="#11-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93">1.1 ÂàõÂª∫Êï∞ÊçÆÂ∫ì</a></li>
<li><a href="#12-%E5%88%9B%E5%BB%BA%E8%A1%A8%E5%8F%8A%E8%A1%A8%E7%9A%84%E4%B8%BB%E7%A0%81%E7%BA%A6%E6%9D%9F">1.2 ÂàõÂª∫Ë°®ÂèäË°®ÁöÑ‰∏ªÁ†ÅÁ∫¶Êùü</a></li>
<li><a href="#13-%E5%88%9B%E5%BB%BA%E5%A4%96%E7%A0%81%E7%BA%A6%E6%9D%9Fforeign-key">1.3 ÂàõÂª∫Â§ñÁ†ÅÁ∫¶Êùü(foreign key)</a></li>
<li><a href="#14-check%E7%BA%A6%E6%9D%9F">1.4 CHECKÁ∫¶Êùü</a></li>
<li><a href="#15-default%E7%BA%A6%E6%9D%9F">1.5 DEFAULTÁ∫¶Êùü</a></li>
<li><a href="#16-unique%E7%BA%A6%E6%9D%9F">1.6 UNIQUEÁ∫¶Êùü</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C-%E5%AE%9E%E8%AE%AD2-%E8%A1%A8%E7%BB%93%E6%9E%84%E4%B8%8E%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9A%84%E4%BF%AE%E6%94%B9alter">‰∫å„ÄÅÂÆûËÆ≠2 Ë°®ÁªìÊûÑ‰∏éÂÆåÊï¥ÊÄßÁöÑ‰øÆÊîπ(ALTER)</a>
<ul>
<li><a href="#21-%E4%BF%AE%E6%94%B9%E8%A1%A8%E5%90%8D">2.1 ‰øÆÊîπË°®Âêç</a></li>
<li><a href="#22-%E6%B7%BB%E5%8A%A0%E4%B8%8E%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5">2.2 Ê∑ªÂä†‰∏éÂà†Èô§Â≠óÊÆµ</a></li>
<li><a href="#23-%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5">2.3 ‰øÆÊîπÂ≠óÊÆµ</a></li>
<li><a href="#24-%E6%B7%BB%E5%8A%A0-%E5%88%A0%E9%99%A4%E4%B8%8E%E4%BF%AE%E6%94%B9%E7%BA%A6%E6%9D%9F">2.4 Ê∑ªÂä†„ÄÅÂà†Èô§‰∏é‰øÆÊîπÁ∫¶Êùü</a></li>
</ul>
</li>
<li><a href="#%E4%B8%89-%E5%AE%9E%E8%AE%AD3-%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2select%E4%B9%8B%E4%B8%80">‰∏â„ÄÅ<strong>ÂÆûËÆ≠3 Êï∞ÊçÆÊü•ËØ¢(Select)‰πã‰∏Ä</strong></a>
<ul>
<li><a href="#31-%E6%9F%A5%E8%AF%A2%E5%AE%A2%E6%88%B7%E4%B8%BB%E8%A6%81%E4%BF%A1%E6%81%AF">3.1 Êü•ËØ¢ÂÆ¢Êà∑‰∏ªË¶Å‰ø°ÊÅØ</a></li>
<li><a href="#32-%E9%82%AE%E7%AE%B1%E4%B8%BAnull%E7%9A%84%E5%AE%A2%E6%88%B7">3.2 ÈÇÆÁÆ±‰∏∫nullÁöÑÂÆ¢Êà∑</a></li>
<li><a href="#33-%E6%97%A2%E4%B9%B0%E4%BA%86%E4%BF%9D%E9%99%A9%E5%8F%88%E4%B9%B0%E4%BA%86%E5%9F%BA%E9%87%91%E7%9A%84%E5%AE%A2%E6%88%B7">3.3 Êó¢‰π∞‰∫Ü‰øùÈô©Âèà‰π∞‰∫ÜÂü∫ÈáëÁöÑÂÆ¢Êà∑</a></li>
<li><a href="#34-%E5%8A%9E%E7%90%86%E4%BA%86%E5%82%A8%E8%93%84%E5%8D%A1%E7%9A%84%E5%AE%A2%E6%88%B7%E4%BF%A1%E6%81%AF">3.4 ÂäûÁêÜ‰∫ÜÂÇ®ËìÑÂç°ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</a></li>
<li><a href="#35-%E6%AF%8F%E4%BB%BD%E9%87%91%E9%A2%9D%E5%9C%A830000~50000%E4%B9%8B%E9%97%B4%E7%9A%84%E7%90%86%E8%B4%A2%E4%BA%A7%E5%93%81">3.5 ÊØè‰ªΩÈáëÈ¢ùÂú®30000ÔΩû50000‰πãÈó¥ÁöÑÁêÜË¥¢‰∫ßÂìÅ</a></li>
<li><a href="#36-%E5%95%86%E5%93%81%E6%94%B6%E7%9B%8A%E7%9A%84%E4%BC%97%E6%95%B0">3.6 ÂïÜÂìÅÊî∂ÁõäÁöÑ‰ºóÊï∞</a></li>
<li><a href="#37-%E6%9C%AA%E8%B4%AD%E4%B9%B0%E4%BB%BB%E4%BD%95%E7%90%86%E8%B4%A2%E4%BA%A7%E5%93%81%E7%9A%84%E6%AD%A6%E6%B1%89%E5%B1%85%E6%B0%91">3.7 Êú™Ë¥≠‰π∞‰ªª‰ΩïÁêÜË¥¢‰∫ßÂìÅÁöÑÊ≠¶Ê±âÂ±ÖÊ∞ë</a></li>
<li><a href="#38-%E6%8C%81%E6%9C%89%E4%B8%A4%E5%BC%A0%E4%BF%A1%E7%94%A8%E5%8D%A1%E7%9A%84%E7%94%A8%E6%88%B7">3.8 ÊåÅÊúâ‰∏§Âº†‰ø°Áî®Âç°ÁöÑÁî®Êà∑</a></li>
<li><a href="#39-%E8%B4%AD%E4%B9%B0%E4%BA%86%E8%B4%A7%E5%B8%81%E5%9E%8B%E5%9F%BA%E9%87%91%E7%9A%84%E5%AE%A2%E6%88%B7%E4%BF%A1%E6%81%AF">3.9 Ë¥≠‰π∞‰∫ÜË¥ßÂ∏ÅÂûãÂü∫ÈáëÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</a></li>
<li><a href="#310-%E6%8A%95%E8%B5%84%E6%80%BB%E6%94%B6%E7%9B%8A%E5%89%8D%E4%B8%89%E5%90%8D%E7%9A%84%E5%AE%A2%E6%88%B7">3.10 ÊäïËµÑÊÄªÊî∂ÁõäÂâç‰∏âÂêçÁöÑÂÆ¢Êà∑</a></li>
<li><a href="#311-%E9%BB%84%E5%A7%93%E5%AE%A2%E6%88%B7%E6%8C%81%E5%8D%A1%E6%95%B0%E9%87%8F">3.11 ÈªÑÂßìÂÆ¢Êà∑ÊåÅÂç°Êï∞Èáè</a></li>
<li><a href="#312-%E5%AE%A2%E6%88%B7%E7%90%86%E8%B4%A2-%E4%BF%9D%E9%99%A9%E4%B8%8E%E5%9F%BA%E9%87%91%E6%8A%95%E8%B5%84%E6%80%BB%E9%A2%9D">3.12 ÂÆ¢Êà∑ÁêÜË¥¢„ÄÅ‰øùÈô©‰∏éÂü∫ÈáëÊäïËµÑÊÄªÈ¢ù</a></li>
<li><a href="#313-%E5%AE%A2%E6%88%B7%E6%80%BB%E8%B5%84%E4%BA%A7">3.13 ÂÆ¢Êà∑ÊÄªËµÑ‰∫ß</a></li>
<li><a href="#314-%E7%AC%ACn%E9%AB%98%E9%97%AE%E9%A2%98">3.14 Á¨¨NÈ´òÈóÆÈ¢ò</a></li>
<li><a href="#315-%E5%9F%BA%E9%87%91%E6%94%B6%E7%9B%8A%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F%E6%8E%92%E5%90%8D">3.15 Âü∫ÈáëÊî∂Áõä‰∏§ÁßçÊñπÂºèÊéíÂêç</a></li>
<li><a href="#316-%E6%8C%81%E6%9C%89%E5%AE%8C%E5%85%A8%E7%9B%B8%E5%90%8C%E5%9F%BA%E9%87%91%E7%BB%84%E5%90%88%E7%9A%84%E5%AE%A2%E6%88%B7">3.16 ÊåÅÊúâÂÆåÂÖ®Áõ∏ÂêåÂü∫ÈáëÁªÑÂêàÁöÑÂÆ¢Êà∑</a></li>
<li><a href="#317-%E8%B4%AD%E4%B9%B0%E5%9F%BA%E9%87%91%E7%9A%84%E9%AB%98%E5%B3%B0%E6%9C%9F">3.17 Ë¥≠‰π∞Âü∫ÈáëÁöÑÈ´òÂ≥∞Êúü</a></li>
<li><a href="#318-%E8%87%B3%E5%B0%91%E6%9C%89%E4%B8%80%E5%BC%A0%E4%BF%A1%E7%94%A8%E5%8D%A1%E4%BD%99%E9%A2%9D%E8%B6%85%E8%BF%875000%E5%85%83%E7%9A%84%E5%AE%A2%E6%88%B7%E4%BF%A1%E6%81%AF">3.18 Ëá≥Â∞ëÊúâ‰∏ÄÂº†‰ø°Áî®Âç°‰ΩôÈ¢ùË∂ÖËøá5000ÂÖÉÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</a></li>
<li><a href="#319-%E4%BB%A5%E6%97%A5%E5%8E%86%E8%A1%A8%E6%A0%BC%E5%BC%8F%E6%98%BE%E7%A4%BA%E6%AF%8F%E6%97%A5%E5%9F%BA%E9%87%91%E8%B4%AD%E4%B9%B0%E6%80%BB%E9%87%91%E9%A2%9D">3.19 ‰ª•Êó•ÂéÜË°®Ê†ºÂºèÊòæÁ§∫ÊØèÊó•Âü∫ÈáëË¥≠‰π∞ÊÄªÈáëÈ¢ù</a></li>
</ul>
</li>
<li><a href="#%E5%9B%9B-%E5%AE%9E%E8%AE%AD4-%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2select%E4%B9%8B%E4%BA%8C">Âõõ„ÄÅÂÆûËÆ≠4 Êï∞ÊçÆÊü•ËØ¢(Select)‰πã‰∫å</a>
<ul>
<li><a href="#41-%E6%9F%A5%E8%AF%A2%E9%94%80%E5%94%AE%E6%80%BB%E9%A2%9D%E5%89%8D%E4%B8%89%E7%9A%84%E7%90%86%E8%B4%A2%E4%BA%A7%E5%93%81">4.1 Êü•ËØ¢ÈîÄÂîÆÊÄªÈ¢ùÂâç‰∏âÁöÑÁêÜË¥¢‰∫ßÂìÅ</a></li>
<li><a href="#42-%E6%8A%95%E8%B5%84%E7%A7%AF%E6%9E%81%E4%B8%94%E5%81%8F%E5%A5%BD%E7%90%86%E8%B4%A2%E7%B1%BB%E4%BA%A7%E5%93%81%E7%9A%84%E5%AE%A2%E6%88%B7">4.2 ÊäïËµÑÁßØÊûÅ‰∏îÂÅèÂ•ΩÁêÜË¥¢Á±ª‰∫ßÂìÅÁöÑÂÆ¢Êà∑</a></li>
<li><a href="#43-%E6%9F%A5%E8%AF%A2%E8%B4%AD%E4%B9%B0%E4%BA%86%E6%89%80%E6%9C%89%E7%95%85%E9%94%80%E7%90%86%E8%B4%A2%E4%BA%A7%E5%93%81%E7%9A%84%E5%AE%A2%E6%88%B7">4.3 Êü•ËØ¢Ë¥≠‰π∞‰∫ÜÊâÄÊúâÁïÖÈîÄÁêÜË¥¢‰∫ßÂìÅÁöÑÂÆ¢Êà∑</a></li>
<li><a href="#44-%E6%9F%A5%E6%89%BE%E7%9B%B8%E4%BC%BC%E7%9A%84%E7%90%86%E8%B4%A2%E4%BA%A7%E5%93%81">4.4 Êü•ÊâæÁõ∏‰ººÁöÑÁêÜË¥¢‰∫ßÂìÅ</a></li>
<li><a href="#45-%E6%9F%A5%E8%AF%A2%E4%BB%BB%E6%84%8F%E4%B8%A4%E4%B8%AA%E5%AE%A2%E6%88%B7%E7%9A%84%E7%9B%B8%E5%90%8C%E7%90%86%E8%B4%A2%E4%BA%A7%E5%93%81%E6%95%B0">4.5 Êü•ËØ¢‰ªªÊÑè‰∏§‰∏™ÂÆ¢Êà∑ÁöÑÁõ∏ÂêåÁêÜË¥¢‰∫ßÂìÅÊï∞</a></li>
<li><a href="#46-%E6%9F%A5%E6%89%BE%E7%9B%B8%E4%BC%BC%E7%9A%84%E7%90%86%E8%B4%A2%E5%AE%A2%E6%88%B7">4.6 Êü•ÊâæÁõ∏‰ººÁöÑÁêÜË¥¢ÂÆ¢Êà∑</a></li>
</ul>
</li>
<li><a href="#%E4%BA%94-%E5%AE%9E%E8%AE%AD5-%E6%95%B0%E6%8D%AE%E7%9A%84%E6%8F%92%E5%85%A5-%E4%BF%AE%E6%94%B9%E4%B8%8E%E5%88%A0%E9%99%A4insertupdatedelete">‰∫î„ÄÅÂÆûËÆ≠5 Êï∞ÊçÆÁöÑÊèíÂÖ•„ÄÅ‰øÆÊîπ‰∏éÂà†Èô§(Insert,Update,Delete)</a>
<ul>
<li><a href="#51-%E6%8F%92%E5%85%A5%E5%A4%9A%E6%9D%A1%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AE%A2%E6%88%B7%E4%BF%A1%E6%81%AF">5.1 ÊèíÂÖ•Â§öÊù°ÂÆåÊï¥ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</a></li>
<li><a href="#52-%E6%8F%92%E5%85%A5%E4%B8%8D%E5%AE%8C%E6%95%B4%E7%9A%84%E5%AE%A2%E6%88%B7%E4%BF%A1%E6%81%AF">5.2 ÊèíÂÖ•‰∏çÂÆåÊï¥ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</a></li>
<li><a href="#53-%E6%89%B9%E9%87%8F%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE">5.3 ÊâπÈáèÊèíÂÖ•Êï∞ÊçÆ</a></li>
<li><a href="#54-%E5%88%A0%E9%99%A4%E6%B2%A1%E6%9C%89%E9%93%B6%E8%A1%8C%E5%8D%A1%E7%9A%84%E5%AE%A2%E6%88%B7%E4%BF%A1%E6%81%AF">5.4 Âà†Èô§Ê≤°ÊúâÈì∂Ë°åÂç°ÁöÑÂÆ¢Êà∑‰ø°ÊÅØ</a></li>
<li><a href="#55-%E5%86%BB%E7%BB%93%E5%AE%A2%E6%88%B7%E8%B5%84%E4%BA%A7">5.5 ÂÜªÁªìÂÆ¢Êà∑ËµÑ‰∫ß</a></li>
<li><a href="#56-%E8%BF%9E%E6%8E%A5%E6%9B%B4%E6%96%B0">5.6 ËøûÊé•Êõ¥Êñ∞</a></li>
</ul>
</li>
<li><a href="#%E5%85%AD-%E8%A7%86%E5%9B%BE">ÂÖ≠„ÄÅËßÜÂõæ</a>
<ul>
<li><a href="#61-%E5%88%9B%E5%BB%BA%E6%89%80%E6%9C%89%E4%BF%9D%E9%99%A9%E8%B5%84%E4%BA%A7%E7%9A%84%E8%AF%A6%E7%BB%86%E8%AE%B0%E5%BD%95%E8%A7%86%E5%9B%BE">6.1 ÂàõÂª∫ÊâÄÊúâ‰øùÈô©ËµÑ‰∫ßÁöÑËØ¶ÁªÜËÆ∞ÂΩïËßÜÂõæ</a></li>
<li><a href="#62-%E5%9F%BA%E4%BA%8E%E8%A7%86%E5%9B%BE%E7%9A%84%E6%9F%A5%E8%AF%A2">6.2 Âü∫‰∫éËßÜÂõæÁöÑÊü•ËØ¢</a></li>
</ul>
</li>
<li><a href="#%E4%B8%83-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E4%BA%8B%E5%8A%A1">‰∏É„ÄÅÂ≠òÂÇ®ËøáÁ®ã‰∏é‰∫ãÂä°</a>
<ul>
<li><a href="#71-%E4%BD%BF%E7%94%A8%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">7.1 ‰ΩøÁî®ÊµÅÁ®ãÊéßÂà∂ËØ≠Âè•ÁöÑÂ≠òÂÇ®ËøáÁ®ã</a></li>
<li><a href="#72-%E4%BD%BF%E7%94%A8%E6%B8%B8%E6%A0%87%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">7.2 ‰ΩøÁî®Ê∏∏Ê†áÁöÑÂ≠òÂÇ®ËøáÁ®ã</a></li>
<li><a href="#73-%E4%BD%BF%E7%94%A8%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B">7.3 ‰ΩøÁî®‰∫ãÂä°ÁöÑÂ≠òÂÇ®ËøáÁ®ã</a></li>
</ul>
</li>
<li><a href="#%E5%85%AB-%E8%A7%A6%E5%8F%91%E5%99%A8">ÂÖ´„ÄÅËß¶ÂèëÂô®</a>
<ul>
<li><a href="#81-%E4%B8%BA%E6%8A%95%E8%B5%84%E8%A1%A8property%E5%AE%9E%E7%8E%B0%E4%B8%9A%E5%8A%A1%E7%BA%A6%E6%9D%9F%E8%A7%84%E5%88%99-%E6%A0%B9%E6%8D%AE%E6%8A%95%E8%B5%84%E7%B1%BB%E5%88%AB%E5%88%86%E5%88%AB%E5%BC%95%E7%94%A8%E4%B8%8D%E5%90%8C%E8%A1%A8%E7%9A%84%E4%B8%BB%E7%A0%81">8.1 ‰∏∫ÊäïËµÑË°®propertyÂÆûÁé∞‰∏öÂä°Á∫¶ÊùüËßÑÂàô-Ê†πÊçÆÊäïËµÑÁ±ªÂà´ÂàÜÂà´ÂºïÁî®‰∏çÂêåË°®ÁöÑ‰∏ªÁ†Å</a></li>
</ul>
</li>
<li><a href="#%E4%B9%9D-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0">‰πù„ÄÅÁî®Êà∑Ëá™ÂÆö‰πâÂáΩÊï∞</a>
<ul>
<li><a href="#91-%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0%E5%B9%B6%E5%9C%A8%E8%AF%AD%E5%8F%A5%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%AE%83">9.1 ÂàõÂª∫ÂáΩÊï∞Âπ∂Âú®ËØ≠Âè•‰∏≠‰ΩøÁî®ÂÆÉ</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0">ÂçÅ„ÄÅÊï∞ÊçÆÂ∫ìËÆæËÆ°‰∏éÂÆûÁé∞</a>
<ul>
<li><a href="#101-%E4%BB%8E%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E5%88%B0mysql%E5%AE%9E%E7%8E%B0">10.1 ‰ªéÊ¶ÇÂøµÊ®°ÂûãÂà∞MySQLÂÆûÁé∞</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E4%B8%80-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91java%E7%AF%87">ÂçÅ‰∏Ä„ÄÅÊï∞ÊçÆÂ∫ìÂ∫îÁî®ÂºÄÂèë(JAVAÁØá)</a>
<ul>
<li><a href="#111-jdbc%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%80%E5%8D%95%E7%9A%84%E6%9F%A5%E8%AF%A2">11.1 JDBC‰ΩìÁ≥ªÁªìÊûÑÂíåÁÆÄÂçïÁöÑÊü•ËØ¢</a></li>
<li><a href="#112-%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95">11.2 Áî®Êà∑ÁôªÂΩï</a></li>
<li><a href="#113-%E6%B7%BB%E5%8A%A0%E6%96%B0%E5%AE%A2%E6%88%B7">11.3 Ê∑ªÂä†Êñ∞ÂÆ¢Êà∑</a></li>
<li><a href="#114-%E9%93%B6%E8%A1%8C%E5%8D%A1%E9%94%80%E6%88%B7">11.4 Èì∂Ë°åÂç°ÈîÄÊà∑</a></li>
<li><a href="#115-%E5%AE%A2%E6%88%B7%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81">11.5 ÂÆ¢Êà∑‰øÆÊîπÂØÜÁ†Å</a></li>
<li><a href="#116-%E4%BA%8B%E5%8A%A1%E4%B8%8E%E8%BD%AC%E8%B4%A6%E6%93%8D%E4%BD%9C">11.6 ‰∫ãÂä°‰∏éËΩ¨Ë¥¶Êìç‰Ωú</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                    </div>
                    <div class="tog">
                        <div class="toggleContainer">
                            <div class="toggle">
                                <i class="fas fa-angle-double-up"></i>
                            </div>
                        </div>
                    </div>
                    <!---------------------------- ËØÑËÆ∫Á≥ªÁªüüëá ------------------------->
                    <div id="comment" class="comment">
                        <div class="commentcontainer">
                            
                                
                            
                        </div>
                    </div>
                    <!---------------------------- ËØÑËÆ∫Á≥ªÁªüüëÜ ------------------------->
                </div>
                <!-- mainÊ†áÁ≠æÔºåpjaxÊ∏≤ÊüìÊó∂Âä†ËΩΩ‰ª•‰∏äÂÜÖÂÆπüëÜ -->
                <div class="col-md-1 col-lg-2"></div>
                <div id="bg">
                </div>
            </div>
            <!-- ----------------Â∑¶‰æßËèúÂçïÊ†èhtml üëÜ-------------------------------------->
            
        </div>
        <!-- aplayerÊí≠ÊîæÂô®Âä†ËΩΩüëá -->
            
        <!-- aplayerÊí≠ÊîæÂô®Âä†ËΩΩüëÜ -->
    </div>
    <!-- ËÉåÊôØÂõæÂä†ËΩΩÊñπÂºèüëá -->
    <div id="bgchoice" style="display: none">link
                </div>
                
                <div id="bgurl" style="display:none">https://raw.githubusercontent.com/2006wzt/PicGo_images/master/images/background.png</div>
                
    <!-- ËÉåÊôØÂõæÂä†ËΩΩÊñπÂºèüëÜ -->
</body>

<script>
    //ÂàùÂßãÂåñ
    //Êõ¥Êç¢twikooÂ§¥ÂÉè
    setTimeout(replaceAvatar,1000);
    setTimeout(replaceAvatar,2000);
    setTimeout(replaceAvatar,8000);
    // --------‰∏∫ÊØèÂº†ÂõæÁâáÊ∑ªÂä†ÊáíÂä†ËΩΩÔºàlazyloadÔºâÊ†áÁ≠æ-->ÊáíÂä†ËΩΩÂäüËÉΩ üëá------------
    lazyload();
    //‰∏∫ÊñáÁ´†ÂÜÖÊâÄÊúâ‰ª£Á†ÅÂùóÊ∑ªÂä†‰ª£Á†ÅÂ§çÂà∂ÂäüËÉΩ üëá
    codeinit();
    // ------‰ª£Á†ÅÈ´ò‰∫ÆÊòæÁ§∫ÂäüËÉΩ-------------
    hljs.initHighlightingOnLoad();
    if (shareChoice)
        shareInit();
    if (donateChoice)
        donateInit();
</script>

<!------------------ Âä†ËΩΩlive2dÊ®°ÂûãÂäüËÉΩÔºàÁúãÊùøÂ®òÔºâüëá ---------------->

<script type="text/javascript">
    var message_Path = '/live2d/'
    var home_Path = document.getElementById("domainname").innerHTML + "/"; //Ê≠§Â§Ñ‰øÆÊîπ‰∏∫‰Ω†ÁöÑÂüüÂêçÔºåÂøÖÈ°ªÂ∏¶ÊñúÊù†
</script>
<script type="text/javascript" src="https://2006wzt.github.io/media/js/live2d.js"></script>
<script type="text/javascript" src="https://2006wzt.github.io/media/live2d/js/message.js"></script>
<script type="text/javascript">
    loadlive2d("live2d", "https://2006wzt.github.io/media/live2d/assets/tororo.model.json");
</script>

<!------------------ Âä†ËΩΩlive2dÊ®°ÂûãÂäüËÉΩÔºàÁúãÊùøÂ®òÔºâüëÜ ---------------->


<!----------------------- ËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆÂäüËÉΩüëá --------------------->
<script>
    $(function () {
        $('.toggleContainer').click(function () {
            $('html,body').animate({
                scrollTop: '0px'
            }, 800);
        });
        $(window).scroll(function () {
            var st = $(window).scrollTop();
            if (st > 30) {
                $(".toggleContainer").fadeIn(400);
            } else {
                $(".toggleContainer").fadeOut(100);
            }
        });
    });
</script>
<!----------------------- ËøîÂõûÈ°∂ÈÉ®ÊåâÈíÆÂäüËÉΩüëÜ --------------------->


<!------------ Âä†ËΩΩÂÖ®Â±ÄËÉåÊôØÂõæÂäüËÉΩüëáÔºàÂºÄÂßãÊó∂Ê≤°ÊúâÂÜôÂ•ΩÔºåËøôÂäüËÉΩÊúâÁÇπÈ∏°ËÇã/(„Ñío„Ñí)/~~Ôºâ -->
<script>
    var bgchoice = "link"
    var bg = $('#bg');
    var bgurl = document.getElementById("bgurl").innerHTML;
    if (bgchoice == 'default')
    {
        for (var i = 0; i < 3; i++)
            bgurl = bgurl.replace("\\", "/");
        bgurl = "https://2006wzt.github.io/" + bgurl;
    }
    bg.css("background", "url('" + bgurl + "')");

    window.onload = function () {
        aplayerbtnInit();
    }
</script>
<!------------ Âä†ËΩΩÂÖ®Â±ÄËÉåÊôØÂõæÂäüËÉΩüëÜÔºàÂºÄÂßãÊó∂Ê≤°ÊúâÂÜôÂ•ΩÔºåËøôÂäüËÉΩÊúâÁÇπÈ∏°ËÇã/(„Ñío„Ñí)/~~Ôºâ -->




<script src="https://2006wzt.github.io/media/js/index.js"></script>


<script>
    //Âä†ËΩΩÂêéÁöÑ‰∫ã‰ª∂ÂêåÊ≠•ÔºàÈòÖËØªÈáè„ÄÅÁßªÂä®Á´ØËØÑËÆ∫Á≠â
    window.onload = function () {
    //‰ª£Á†ÅÂùóÈ´ò‰∫ÆÊ∏≤Êüì
    document.querySelectorAll('pre code').forEach((block) => {
            hljs.highlightBlock(block);
    });
        getHotnum();
        var sharepc = $(".share").eq(0).html();
        $(".share").eq(1).html(sharepc);   //Êèí‰ª∂Âè™‰ºöÂØªÊâæ‰∏Ä‰∏™ÂàÜ‰∫´Ê†áÁ≠æÊ∏≤ÊüìÔºåÊâÄ‰ª•ÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†Âà∞ÁßªÂä®Á´Ø
        aplayerbtnInit();
        $(".hljs").css({
            "padding": "20px"
        })
    }
</script>

<!-- <script src="https://2006wzt.github.io/media/js/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@3.13.0/dist/av-min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-live-query-min.js"></script> -->